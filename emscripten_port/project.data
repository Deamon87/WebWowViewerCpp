#version 100

struct modelWideBlockPS
{
    vec4 uViewUp;
    vec4 uSunDir_FogStart;
    vec4 uSunColor_uFogEnd;
    vec4 uAmbientLight;
    vec4 FogColor;
    int uNewFormula;
};

uniform modelWideBlockPS _65;

uniform sampler2D uDiffuseTexture;
uniform sampler2D uNormalTexture;

varying vec2 vChunkCoords;
varying vec3 vPosition;

void main()
{
    vec2 TextureCoords = vec2(vChunkCoords.x, vChunkCoords.y);
    vec4 texDiffuse = texture2D(uDiffuseTexture, TextureCoords);
    vec3 matDiffuse = texDiffuse.xyz;
    vec3 vNormal = (texture2D(uNormalTexture, TextureCoords).xyz * 2.0) - vec3(1.0);
    vNormal = vec3(-vNormal.z, -vNormal.x, vNormal.y);
    vec4 finalColor = vec4(0.0, 0.0, 0.0, 1.0);
    vec3 fogColor = _65.FogColor.xyz;
    float fog_start = _65.uSunDir_FogStart.w;
    float fog_end = _65.uSunColor_uFogEnd.w;
    float fog_rate = 1.5;
    float fog_bias = 0.00999999977648258209228515625;
    float distanceToCamera = length(vPosition);
    float z_depth = distanceToCamera - fog_bias;
    float expFog = 1.0 / exp(max(0.0, z_depth - fog_start) * fog_rate);
    float heightFog = 1.0;
    expFog += heightFog;
    float endFadeFog = clamp((fog_end - distanceToCamera) / (0.699999988079071044921875 * fog_end), 0.0, 1.0);
    vec3 _123 = mix(fogColor, finalColor.xyz, vec3(min(expFog, endFadeFog)));
    finalColor = vec4(_123.x, _123.y, _123.z, finalColor.w);
    finalColor.w = 1.0;
    gl_FragData[0] = finalColor;
}


#version 100

struct modelWideBlockVS
{
    vec3 uPos;
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform modelWideBlockVS _55;

attribute float aIndex;
attribute float aHeight;
varying vec2 vChunkCoords;
varying vec3 vPosition;

void main()
{
    float stepX = floor(aIndex / 16641.0);
    float division = 129.0;
    bool _20 = stepX > 0.100000001490116119384765625;
    if (_20)
    {
        division = 128.0;
    }
    float offset = (stepX * 129.0) * 129.0;
    float iX = mod(aIndex - offset, division) + (stepX * 0.5);
    float iY = floor((aIndex - offset) / division) + (stepX * 0.5);
    vec4 worldPoint = vec4(_55.uPos.x - (iY * 4.166666507720947265625), _55.uPos.y - (iX * 4.166666507720947265625), aHeight, 1.0);
    vChunkCoords = vec2(iX / 128.0, iY / 128.0);
    vPosition = (_55.uLookAtMat * worldPoint).xyz;
    gl_Position = (_55.uPMatrix * _55.uLookAtMat) * worldPoint;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _221[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _228[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct meshWideBlockPS
{
    vec4 uHeightScale;
    vec4 uHeightOffset;
    mat4 animationMat[4];
};

uniform meshWideBlockPS _454;

struct modelWideBlockPS
{
    ivec4 uUseHeightMixFormula;
};

uniform modelWideBlockPS _494;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _736;

uniform sampler2D uAlphaTexture;
uniform sampler2D uLayerHeight0;
uniform sampler2D uLayerHeight1;
uniform sampler2D uLayerHeight2;
uniform sampler2D uLayerHeight3;
uniform sampler2D uLayer0;
uniform sampler2D uLayer1;
uniform sampler2D uLayer2;
uniform sampler2D uLayer3;

varying vec2 vChunkCoords;
varying vec4 vColor;
varying vec3 vNormal;
varying vec3 vVertexLighting;
varying vec3 vPosition;

vec4 mixTextures(vec4 tex0, vec4 tex1, float alpha)
{
    return ((tex1 - tex0) * alpha) + tex0;
}

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _57 = !applyLight;
    if (_57)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _73 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_73)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _110 = nDotUp >= 0.0;
        if (_110)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _150 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_150)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _174 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_174)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _221[blendMode], vec3(_228[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _240 = blendMode == 13;
    if (_240)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _392 = nDotSun > 0.0;
    if (_392)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 vTexCoord = vChunkCoords;
    vec2 alphaCoord = vec2(vChunkCoords.x / 8.0, vChunkCoords.y / 8.0);
    vec3 alphaBlend = texture2D(uAlphaTexture, alphaCoord).yzw;
    vec2 tcLayer0 = (_454.animationMat[0] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer1 = (_454.animationMat[1] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer2 = (_454.animationMat[2] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer3 = (_454.animationMat[3] * vec4(vTexCoord, 0.0, 1.0)).xy;
    bool _498 = _494.uUseHeightMixFormula.x > 0;
    vec4 final;
    if (_498)
    {
        float minusAlphaBlendSum = 1.0 - clamp(dot(alphaBlend, vec3(1.0)), 0.0, 1.0);
        vec4 weightsVector = vec4(minusAlphaBlendSum, alphaBlend);
        float weightedTexture_x = minusAlphaBlendSum * ((texture2D(uLayerHeight0, tcLayer0).w * _454.uHeightScale.x) + _454.uHeightOffset.x);
        float weightedTexture_y = weightsVector.y * ((texture2D(uLayerHeight1, tcLayer1).w * _454.uHeightScale.y) + _454.uHeightOffset.y);
        float weightedTexture_z = weightsVector.z * ((texture2D(uLayerHeight2, tcLayer2).w * _454.uHeightScale.z) + _454.uHeightOffset.z);
        float weightedTexture_w = weightsVector.w * ((texture2D(uLayerHeight3, tcLayer3).w * _454.uHeightScale.w) + _454.uHeightOffset.w);
        vec4 weights = vec4(weightedTexture_x, weightedTexture_y, weightedTexture_z, weightedTexture_w);
        vec4 weights_temp = weights * (vec4(1.0) - clamp(vec4(max(max(weightedTexture_x, weightedTexture_y), max(weightedTexture_z, weightedTexture_w))) - weights, vec4(0.0), vec4(1.0)));
        vec4 weightsNormalized = weights_temp / vec4(dot(vec4(1.0), weights_temp));
        vec4 weightedLayer_0 = texture2D(uLayer0, tcLayer0) * weightsNormalized.x;
        vec3 matDiffuse_0 = weightedLayer_0.xyz;
        float specBlend_0 = weightedLayer_0.w;
        vec4 weightedLayer_1 = texture2D(uLayer1, tcLayer1) * weightsNormalized.y;
        vec3 matDiffuse_1 = matDiffuse_0 + weightedLayer_1.xyz;
        float specBlend_1 = specBlend_0 + weightedLayer_1.w;
        vec4 weightedLayer_2 = texture2D(uLayer2, tcLayer2) * weightsNormalized.z;
        vec3 matDiffuse_2 = matDiffuse_1 + weightedLayer_2.xyz;
        float specBlend_2 = specBlend_1 + weightedLayer_2.w;
        vec4 weightedLayer_3 = texture2D(uLayer3, tcLayer3) * weightsNormalized.w;
        vec3 matDiffuse_3 = matDiffuse_2 + weightedLayer_3.xyz;
        float specBlend_3 = specBlend_2 + weightedLayer_3.w;
        final = vec4(matDiffuse_3, specBlend_3);
    }
    else
    {
        vec4 tex1 = texture2D(uLayer0, tcLayer0);
        vec4 tex2 = texture2D(uLayer1, tcLayer1);
        vec4 tex3 = texture2D(uLayer2, tcLayer2);
        vec4 tex4 = texture2D(uLayer3, tcLayer3);
        vec4 param = tex1;
        vec4 param_1 = tex2;
        float param_2 = alphaBlend.x;
        vec4 param_3 = mixTextures(param, param_1, param_2);
        vec4 param_4 = tex3;
        float param_5 = alphaBlend.y;
        vec4 param_6 = mixTextures(param_3, param_4, param_5);
        vec4 param_7 = tex4;
        float param_8 = alphaBlend.z;
        final = mixTextures(param_6, param_7, param_8);
    }
    vec3 matDiffuse = (final.xyz * 2.0) * vColor.xyz;
    vec3 param_9 = matDiffuse;
    vec3 param_10 = vNormal;
    bool param_11 = true;
    float param_12 = 0.0;
    SceneWideParams param_13;
    param_13.uLookAtMat = _736.scene.uLookAtMat;
    param_13.uPMatrix = _736.scene.uPMatrix;
    param_13.uViewUp = _736.scene.uViewUp;
    param_13.uInteriorSunDir = _736.scene.uInteriorSunDir;
    param_13.extLight.uExteriorAmbientColor = _736.scene.extLight.uExteriorAmbientColor;
    param_13.extLight.uExteriorHorizontAmbientColor = _736.scene.extLight.uExteriorHorizontAmbientColor;
    param_13.extLight.uExteriorGroundAmbientColor = _736.scene.extLight.uExteriorGroundAmbientColor;
    param_13.extLight.uExteriorDirectColor = _736.scene.extLight.uExteriorDirectColor;
    param_13.extLight.uExteriorDirectColorDir = _736.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_14 = InteriorLightParam(vec4(0.0), vec4(0.0, 0.0, 0.0, 1.0));
    vec3 param_15 = vVertexLighting;
    vec4 finalColor = vec4(calcLight(param_9, param_10, param_11, param_12, param_13, param_14, param_15, vec3(0.0), vec3(0.0)), 1.0);
    float specBlend = final.w;
    vec3 halfVec = -normalize(_736.scene.extLight.uExteriorDirectColorDir.xyz + normalize(vPosition));
    vec3 lSpecular = _736.scene.extLight.uExteriorDirectColor.xyz * pow(max(0.0, dot(halfVec, vNormal)), 20.0);
    vec3 specTerm = vec3(specBlend) * lSpecular;
    vec3 _814 = finalColor.xyz + specTerm;
    finalColor = vec4(_814.x, _814.y, _814.z, finalColor.w);
    PSFog arg;
    arg.densityParams = _736.fogData.densityParams;
    arg.heightPlane = _736.fogData.heightPlane;
    arg.color_and_heightRate = _736.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _736.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _736.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _736.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _736.fogData.sunPercentage;
    vec3 param_16 = finalColor.xyz;
    vec3 param_17 = vPosition;
    vec3 param_18 = _736.scene.extLight.uExteriorDirectColorDir.xyz;
    int param_19 = 0;
    vec3 _848 = makeFog(arg, param_16, param_17, param_18, param_19);
    finalColor = vec4(_848.x, _848.y, _848.z, finalColor.w);
    finalColor.w = 1.0;
    gl_FragData[0] = finalColor;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _91;

struct meshWideBlockVS
{
    vec4 uPos;
};

uniform meshWideBlockVS _139;

attribute float aIndex;
attribute vec3 aHeight;
varying vec2 vChunkCoords;
varying vec3 vPosition;
varying vec4 vColor;
attribute vec4 aColor;
varying vec3 vVertexLighting;
attribute vec4 aVertexLighting;
varying vec3 vNormal;
attribute vec3 aNormal;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

void main()
{
    float iX = mod(aIndex, 17.0);
    float iY = floor(aIndex / 17.0);
    bool _61 = iX > 8.0100002288818359375;
    if (_61)
    {
        iY += 0.5;
        iX -= 8.5;
    }
    vec4 worldPoint = vec4(aHeight, 1.0);
    vChunkCoords = vec2(iX, iY);
    vPosition = (_91.scene.uLookAtMat * worldPoint).xyz;
    vColor = aColor;
    vVertexLighting = aVertexLighting.xyz;
    mat4 param = _91.scene.uLookAtMat;
    vNormal = blizzTranspose(param) * aNormal;
    gl_Position = (_91.scene.uPMatrix * _91.scene.uLookAtMat) * worldPoint;
}


#version 100

struct modelWideBlockVS
{
    mat4 uPlacementMat;
    vec4 uBBScale;
    vec4 uBBCenter;
    vec4 uColor;
};

uniform modelWideBlockVS _13;

void main()
{
    vec4 finalColor = _13.uColor;
    gl_FragData[0] = finalColor;
}


#version 100

struct modelWideBlockVS
{
    mat4 uPlacementMat;
    vec4 uBBScale;
    vec4 uBBCenter;
    vec4 uColor;
};

uniform modelWideBlockVS _21;

struct sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform sceneWideBlockVSPS _59;

attribute vec3 aPosition;

void main()
{
    vec4 worldPoint = vec4((aPosition.x * _21.uBBScale.x) + _21.uBBCenter.x, (aPosition.y * _21.uBBScale.y) + _21.uBBCenter.y, (aPosition.z * _21.uBBScale.z) + _21.uBBCenter.z, 1.0);
    gl_Position = ((_59.uPMatrix * _59.uLookAtMat) * _21.uPlacementMat) * worldPoint;
}


#version 100

struct meshWideBlockPS
{
    int drawDepth;
    float uFarPlane;
    float uNearPlane;
};

uniform meshWideBlockPS _10;

uniform sampler2D diffuse;

varying vec2 texCoord;

void main()
{
    bool _17 = _10.drawDepth == 1;
    vec4 finalColor;
    if (_17)
    {
        float f = _10.uFarPlane;
        float n = _10.uNearPlane;
        float z = (2.0 * n) / ((f + n) - (texture2D(diffuse, texCoord).x * (f - n)));
        finalColor = vec4(z, z, z, 255.0);
    }
    else
    {
        finalColor = vec4(texture2D(diffuse, texCoord).xyz, 255.0);
    }
    gl_FragData[0] = finalColor;
}


#version 100

struct meshWideBlockPS
{
    vec3 uColor;
};

uniform meshWideBlockPS _22;

void main()
{
    vec4 finalColor = vec4(1.0);
    finalColor.w = 1.0;
    gl_FragData[0] = finalColor;
}


#version 100

struct sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform sceneWideBlockVSPS _13;

attribute vec3 aPosition;

void main()
{
    vec4 c_world = inverse(_13.uPMatrix) * vec4(aPosition, 1.0);
    c_world = (c_world * 1.0) / vec4(c_world.w);
    gl_Position = (_13.uPMatrix * _13.uLookAtMat) * vec4(c_world.xyz, 1.0);
}


#version 100

struct modelWideBlockPS
{
    vec3 uColor;
};

uniform modelWideBlockPS _19;

void main()
{
    vec4 finalColor = vec4(1.0, 1.0, 0.0, 1.0);
    gl_FragData[0] = finalColor;
}


#version 100

struct sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform sceneWideBlockVSPS _19;

attribute vec2 aPosition;

void main()
{
    gl_Position = (_19.uPMatrix * _19.uLookAtMat) * vec4(aPosition, 0.0, 1.0);
}


#version 100

struct modelWideBlockVS
{
    vec3 uColor;
};

uniform modelWideBlockVS _13;

varying vec4 vPos;

void main()
{
    gl_FragData[0] = vec4(_13.uColor, 1.0);
}


#version 100

struct sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform sceneWideBlockVSPS _19;

struct modelWideBlockVS
{
    mat4 uPlacementMat;
};

uniform modelWideBlockVS _29;

attribute vec3 aPosition;
varying vec4 vPos;

void main()
{
    gl_Position = ((_19.uPMatrix * _19.uLookAtMat) * _29.uPlacementMat) * vec4(aPosition, 1.0);
    gl_PointSize = 10.0;
}


#version 100

struct modelWideBlockVS
{
    vec4 uColor;
};

uniform modelWideBlockVS _12;

void main()
{
    vec4 finalColor = _12.uColor;
    gl_FragData[0] = finalColor;
}


#version 100

struct sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
};

uniform sceneWideBlockVSPS _30;

struct modelWideBlockVS
{
    mat4 uPlacementMat;
};

uniform modelWideBlockVS _40;

attribute vec3 aPosition;

void main()
{
    vec4 worldPoint = vec4(aPosition, 1.0);
    gl_Position = ((_30.uPMatrix * _30.uLookAtMat) * _40.uPlacementMat) * worldPoint;
}


#version 100

struct meshWideBlockVS
{
    vec4 uWidth_uHeight_uX_uY;
};

uniform meshWideBlockVS _12;

varying vec2 texCoord;
attribute vec2 position;

void main()
{
    float uWidth = _12.uWidth_uHeight_uX_uY.x;
    float uHeight = _12.uWidth_uHeight_uX_uY.y;
    float uX = _12.uWidth_uHeight_uX_uY.z;
    float uY = _12.uWidth_uHeight_uX_uY.w;
    texCoord = (position * 0.5) + vec2(0.5);
    gl_Position = vec4((((((position.x + 1.0) / 2.0) * uWidth) + uX) * 2.0) - 1.0, (((((position.y + 1.0) / 2.0) * uHeight) + uY) * 2.0) - 1.0, 0.5, 1.0);
}


#version 100

struct meshWideBlockPS
{
    vec4 texOffsetX;
    vec4 texOffsetY;
};

uniform meshWideBlockPS _33;

uniform sampler2D texture0;

varying vec2 texCoord;

void main()
{
    vec2 tex_offset = vec2(0.001000000047497451305389404296875);
    vec3 result = texture2D(texture0, texCoord).xyz * 0.0;
    result = vec3(0.0);
    result += (texture2D(texture0, texCoord + vec2(_33.texOffsetX.x * tex_offset.x, _33.texOffsetY.x * tex_offset.y)).xyz * 0.125);
    result += (texture2D(texture0, texCoord + vec2(_33.texOffsetX.y * tex_offset.x, _33.texOffsetY.y * tex_offset.y)).xyz * 0.375);
    result += (texture2D(texture0, texCoord + vec2(_33.texOffsetX.z * tex_offset.x, _33.texOffsetY.z * tex_offset.y)).xyz * 0.375);
    result += (texture2D(texture0, texCoord + vec2(_33.texOffsetX.w * tex_offset.x, _33.texOffsetY.w * tex_offset.y)).xyz * 0.125);
    gl_FragData[0] = vec4(result, 1.0);
}


#version 100

struct meshWideBlockPS
{
    vec4 blurAmount;
};

uniform meshWideBlockPS _34;

uniform sampler2D screenTex;
uniform sampler2D blurTex;

varying vec2 texCoord;

void main()
{
    vec4 screen = texture2D(screenTex, texCoord);
    vec3 blurred = texture2D(blurTex, texCoord).xyz;
    vec3 mixed = mix(screen.xyz, blurred, vec3(_34.blurAmount.z));
    vec3 glow = (blurred * blurred) * _34.blurAmount.w;
    gl_FragData[0] = vec4(mixed + glow, screen.w);
}


#version 100
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

uniform sampler2D Texture;

varying vec4 Frag_Color;
varying vec2 Frag_UV;

void main()
{
    gl_FragData[0] = Frag_Color * texture2D(Texture, Frag_UV);
}


#version 100

struct modelWideBlockVS
{
    mat4 ProjMtx;
};

uniform modelWideBlockVS _30;

varying vec2 Frag_UV;
attribute vec2 UV;
varying vec4 Frag_Color;
attribute vec4 Color;
attribute vec2 Position;

void main()
{
    Frag_UV = UV;
    Frag_Color = Color;
    gl_Position = _30.ProjMtx * vec4(Position, 0.0, 1.0);
}


#version 100

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct meshWideBlockPS
{
    vec4 uAlphaTestv;
    ivec4 uPixelShaderv;
};

uniform meshWideBlockPS _266;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _474;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;

varying vec2 vTexcoord0;
varying vec2 vTexcoord1;
varying vec2 vTexcoord2;
varying vec4 vColor;
varying vec3 vPosition;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture2D(uTexture, vTexcoord0);
    vec4 tex2 = texture2D(uTexture2, vTexcoord1);
    vec4 tex3 = texture2D(uTexture3, vTexcoord2);
    float uAlphaTest = _266.uAlphaTestv.x;
    bool _273 = tex.w < uAlphaTest;
    if (_273)
    {
        discard;
    }
    vec4 finalColor = vec4((tex * vColor).xyz, tex.w * vColor.w);
    int uNonOptPixelShader = _266.uPixelShaderv.x;
    bool _299 = uNonOptPixelShader == 0;
    if (_299)
    {
        vec3 matDiffuse = vColor.xyz * tex.xyz;
        finalColor = vec4(matDiffuse, tex.w * vColor.w);
    }
    else
    {
        bool _320 = uNonOptPixelShader == 1;
        if (_320)
        {
            vec4 textureMod = tex * tex2;
            float texAlpha = textureMod.w * tex3.w;
            float opacity = texAlpha * vColor.w;
            vec3 matDiffuse_1 = vColor.xyz * textureMod.xyz;
            finalColor = vec4(matDiffuse_1, opacity);
        }
        else
        {
            bool _352 = uNonOptPixelShader == 2;
            if (_352)
            {
                vec4 textureMod_1 = (tex * tex2) * tex3;
                float texAlpha_1 = textureMod_1.w;
                float opacity_1 = texAlpha_1 * vColor.w;
                vec3 matDiffuse_2 = vColor.xyz * textureMod_1.xyz;
                finalColor = vec4(matDiffuse_2, opacity_1);
            }
            else
            {
                bool _383 = uNonOptPixelShader == 3;
                if (_383)
                {
                    vec4 textureMod_2 = (tex * tex2) * tex3;
                    float texAlpha_2 = textureMod_2.w;
                    float opacity_2 = texAlpha_2 * vColor.w;
                    vec3 matDiffuse_3 = vColor.xyz * textureMod_2.xyz;
                    finalColor = vec4(matDiffuse_3, opacity_2);
                }
                else
                {
                    bool _414 = uNonOptPixelShader == 4;
                    if (_414)
                    {
                        float t0_973 = tex.x;
                        float t1_978 = tex2.y;
                        float t2_983 = tex3.z;
                        float textureMod_986 = ((t0_973 * t1_978) * t2_983) * 4.0;
                        float depthScale_991 = 1.0 - clamp(vPosition.z * 0.00999999977648258209228515625, 0.0, 1.0);
                        float textureMod_992 = textureMod_986 * depthScale_991;
                        float height_995 = textureMod_992 * vColor.x;
                        float alpha_997 = textureMod_992 * vColor.w;
                        finalColor = vec4(height_995, 0.0, 0.0, alpha_997);
                    }
                }
            }
        }
    }
    bool _463 = finalColor.w < uAlphaTest;
    if (_463)
    {
        discard;
    }
    vec3 sunDir = _474.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _474.fogData.densityParams;
    arg.heightPlane = _474.fogData.heightPlane;
    arg.color_and_heightRate = _474.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _474.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _474.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _474.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _474.fogData.sunPercentage;
    vec3 param = finalColor.xyz;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = _266.uPixelShaderv.y;
    vec3 _510 = makeFog(arg, param, param_1, param_2, param_3);
    finalColor = vec4(_510.x, _510.y, _510.z, finalColor.w);
    gl_FragData[0] = finalColor;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _43;

attribute vec3 aPosition;
varying vec4 vColor;
attribute vec4 aColor;
varying vec2 vTexcoord0;
attribute vec2 aTexcoord0;
varying vec2 vTexcoord1;
attribute vec2 aTexcoord1;
varying vec2 vTexcoord2;
attribute vec2 aTexcoord2;
varying vec3 vPosition;

void main()
{
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    vColor = aColor;
    vTexcoord0 = aTexcoord0;
    vTexcoord1 = aTexcoord1;
    vTexcoord2 = aTexcoord2;
    vec4 vertexViewSpace = _43.scene.uLookAtMat * aPositionVec4;
    vPosition = vertexViewSpace.xyz;
    gl_Position = _43.scene.uPMatrix * vertexViewSpace;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct LocalLight
{
    vec4 color;
    vec4 position;
    vec4 attenuation;
};

struct meshWideBlockPS
{
    ivec4 PixelShader_UnFogged_IsAffectedByLight_blendMode;
    vec4 uFogColorAndAlphaTest;
    vec4 uTexSampleAlpha;
    vec4 uPcColor;
};

uniform meshWideBlockPS _461;

struct modelWideBlockPS
{
    InteriorLightParam intLight;
    LocalLight pc_lights[4];
    ivec4 lightCountAndBcHack;
    vec4 interiorExteriorBlend;
};

uniform modelWideBlockPS _484;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _523;

struct modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
};

uniform modelWideBlockVS _531;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;
uniform sampler2D uTexture4;

varying vec2 vTexCoord;
varying vec2 vTexCoord2;
varying vec2 vTexCoord3;
varying vec4 vDiffuseColor;
varying vec3 vPosition;
varying vec3 vNormal;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 texCoord = vTexCoord;
    vec2 texCoord2 = vTexCoord2;
    vec2 texCoord3 = vTexCoord3;
    vec4 tex = texture2D(uTexture, texCoord);
    vec4 tex2 = texture2D(uTexture2, texCoord2);
    vec4 tex3 = texture2D(uTexture3, texCoord3);
    vec4 tex2WithTextCoord1 = texture2D(uTexture2, texCoord);
    vec4 tex3WithTextCoord1 = texture2D(uTexture3, texCoord);
    vec4 tex4WithTextCoord2 = texture2D(uTexture4, texCoord2);
    vec4 finalColor = vec4(0.0);
    vec4 meshResColor = vDiffuseColor;
    bool _465 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.z == 1;
    vec3 accumLight;
    if (_465)
    {
        vec3 vPos3 = vPosition;
        vec3 vNormal3 = normalize(vNormal);
        vec3 lightColor = vec3(0.0);
        int count = int(_484.pc_lights[0].attenuation.w);
        LocalLight lightRecord;
        for (int index = 0; index < 4; index++)
        {
            bool _500 = index >= _484.lightCountAndBcHack.x;
            if (_500)
            {
                break;
            }
            lightRecord.color = _484.pc_lights[index].color;
            lightRecord.position = _484.pc_lights[index].position;
            lightRecord.attenuation = _484.pc_lights[index].attenuation;
            vec3 vectorToLight = (_523.scene.uLookAtMat * (_531.uPlacementMat * lightRecord.position)).xyz - vPos3;
            float distanceToLightSqr = dot(vectorToLight, vectorToLight);
            float distanceToLightInv = inversesqrt(distanceToLightSqr);
            float distanceToLight = distanceToLightSqr * distanceToLightInv;
            float diffuseTerm1 = max(dot(vectorToLight, vNormal3) * distanceToLightInv, 0.0);
            vec4 attenuationRec = lightRecord.attenuation;
            float attenuation = 1.0 - clamp((distanceToLight - attenuationRec.x) * (1.0 / (attenuationRec.z - attenuationRec.x)), 0.0, 1.0);
            vec3 attenuatedColor = lightRecord.color.xyz * attenuation;
            lightColor += vec3((attenuatedColor * attenuatedColor) * diffuseTerm1);
        }
        vec3 _598 = clamp(lightColor, vec3(0.0), vec3(1.0));
        meshResColor = vec4(_598.x, _598.y, _598.z, meshResColor.w);
        accumLight = mix(lightColor, meshResColor.xyz, vec3(float(_484.lightCountAndBcHack.y)));
    }
    float finalOpacity = 0.0;
    vec3 specular = vec3(0.0);
    vec3 visParams = vec3(1.0);
    vec4 genericParams[3];
    genericParams[0] = vec4(1.0);
    genericParams[1] = vec4(1.0);
    genericParams[2] = vec4(1.0);
    int uPixelShader = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.x;
    bool _624 = uPixelShader == 0;
    vec3 matDiffuse;
    float opacity;
    #if (FRAGMENTSHADER == 0)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _645 = uPixelShader == 1;
    #if (FRAGMENTSHADER == 1)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _665 = uPixelShader == 2;
    #if (FRAGMENTSHADER == 2)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = tex2.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _688 = uPixelShader == 3;
    #if (FRAGMENTSHADER == 3)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = (tex2.w * 2.0) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _713 = uPixelShader == 4;
    #if (FRAGMENTSHADER == 4)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _734 = uPixelShader == 5;
    #if (FRAGMENTSHADER == 5)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _754 = uPixelShader == 6;
    #if (FRAGMENTSHADER == 6)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = (tex.w * tex2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _781 = uPixelShader == 7;
    #if (FRAGMENTSHADER == 7)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = ((tex.w * tex2.w) * 2.0) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _810 = uPixelShader == 8;
    #if (FRAGMENTSHADER == 8)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + tex2.w) * vDiffuseColor.w;
    specular = tex2.xyz;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _836 = uPixelShader == 9;
    #if (FRAGMENTSHADER == 9)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _861 = uPixelShader == 10;
    #if (FRAGMENTSHADER == 10)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = tex2.xyz;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _884 = uPixelShader == 11;
    #if (FRAGMENTSHADER == 11)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _908 = uPixelShader == 12;
    #if (FRAGMENTSHADER == 12)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _935 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = tex2.xyz * tex2.w;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _958 = uPixelShader == 14;
    #if (FRAGMENTSHADER == 14)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = (tex2.xyz * tex2.w) * (1.0 - tex.w);
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _985 = uPixelShader == 15;
    #if (FRAGMENTSHADER == 15)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w));
    specular = (tex3.xyz * tex3.w) * _461.uTexSampleAlpha.z;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1021 = uPixelShader == 16;
    #if (FRAGMENTSHADER == 16)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = tex2.xyz * tex2.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1047 = uPixelShader == 17;
    #if (FRAGMENTSHADER == 17)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + (tex2.w * (((0.300000011920928955078125 * tex2.x) + (0.589999973773956298828125 * tex2.y)) + (0.10999999940395355224609375 * tex2.z)))) * vDiffuseColor.w;
    specular = (tex2.xyz * tex2.w) * (1.0 - tex.w);
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1095 = uPixelShader == 18;
    #if (FRAGMENTSHADER == 18)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex.xyz, tex2.xyz, vec3(tex2.w)), tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1125 = uPixelShader == 19;
    #if (FRAGMENTSHADER == 19)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(tex3.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1153 = uPixelShader == 20;
    #if (FRAGMENTSHADER == 20)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = (tex2.xyz * tex2.w) * _461.uTexSampleAlpha.y;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1179 = uPixelShader == 21;
    #if (FRAGMENTSHADER == 21)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + tex2.w) * vDiffuseColor.w;
    specular = tex2.xyz * (1.0 - tex.w);
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1209 = uPixelShader == 22;
    #if (FRAGMENTSHADER == 22)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * tex2.xyz, tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1236 = uPixelShader == 23;
    #if (FRAGMENTSHADER == 23)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = (tex2.xyz * tex2.w) * _461.uTexSampleAlpha.y;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1265 = uPixelShader == 24;
    #if (FRAGMENTSHADER == 24)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz, tex2.xyz, vec3(tex2.w));
    specular = (tex.xyz * tex.w) * _461.uTexSampleAlpha.x;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1297 = uPixelShader == 25;
    #if (FRAGMENTSHADER == 25)
    float glowOpacity = clamp(tex3.w * _461.uTexSampleAlpha.z, 0.0, 1.0);
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w))) * (1.0 - glowOpacity);
    specular = tex3.xyz * glowOpacity;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1339 = uPixelShader == 26;
    #if (FRAGMENTSHADER == 26)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).xyz;
    opacity = mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1384 = uPixelShader == 27;
    #if (FRAGMENTSHADER == 27)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(tex3.w)), tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1418 = uPixelShader == 28;
    #if (FRAGMENTSHADER == 28)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).xyz;
    opacity = (mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).w * tex4WithTextCoord2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1466 = uPixelShader == 29;
    #if (FRAGMENTSHADER == 29)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz, tex2.xyz, vec3(tex2.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1490 = uPixelShader == 30;
    #if (FRAGMENTSHADER == 30)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w)), tex3.xyz * genericParams[2].xyz, vec3(tex3.w));
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1535 = uPixelShader == 31;
    #if (FRAGMENTSHADER == 31)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w));
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1570 = uPixelShader == 32;
    #if (FRAGMENTSHADER == 32)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w)), tex3.xyz * genericParams[2].xyz, vec3(tex3.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1612 = uPixelShader == 33;
    #if (FRAGMENTSHADER == 33)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w * vDiffuseColor.w) * visParams.x;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1636 = uPixelShader == 34;
    #if (FRAGMENTSHADER == 34)
    finalColor = vec4(1.0);
    #endif
    bool _1642 = uPixelShader == 35;
    #if (FRAGMENTSHADER == 35)
    vec4 pc_channelScaler = vec4(1.0);
    matDiffuse = (vDiffuseColor.xyz * 2.0) * (((tex * tex2) * tex3) * pc_channelScaler).xyz;
    opacity = (((tex * tex2) * tex3) * pc_channelScaler).w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1676 = uPixelShader == 36;
    #if (FRAGMENTSHADER == 36)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = (tex.w * tex2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.z > 0;
    float param_3 = _484.interiorExteriorBlend.x;
    SceneWideParams param_4;
    param_4.uLookAtMat = _523.scene.uLookAtMat;
    param_4.uPMatrix = _523.scene.uPMatrix;
    param_4.uViewUp = _523.scene.uViewUp;
    param_4.uInteriorSunDir = _523.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _523.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _523.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _523.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _523.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _523.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _484.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _484.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = accumLight;
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vec3(0.0), specular), finalOpacity);
    bool _1758 = finalColor.w < _461.uFogColorAndAlphaTest.w;
    if (_1758)
    {
        discard;
    }
    int uUnFogged = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.y;
    bool _1766 = uUnFogged == 0;
    if (_1766)
    {
        vec3 sunDir = mix(_523.scene.uInteriorSunDir, _523.scene.extLight.uExteriorDirectColorDir, vec4(_484.interiorExteriorBlend.x)).xyz;
        PSFog arg;
        arg.densityParams = _523.fogData.densityParams;
        arg.heightPlane = _523.fogData.heightPlane;
        arg.color_and_heightRate = _523.fogData.color_and_heightRate;
        arg.heightDensity_and_endColor = _523.fogData.heightDensity_and_endColor;
        arg.sunAngle_and_sunColor = _523.fogData.sunAngle_and_sunColor;
        arg.heightColor_and_endFogDistance = _523.fogData.heightColor_and_endFogDistance;
        arg.sunPercentage = _523.fogData.sunPercentage;
        vec3 param_7 = finalColor.xyz;
        vec3 param_8 = vPosition;
        vec3 param_9 = sunDir;
        int param_10 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.w;
        vec3 _1811 = makeFog(arg, param_7, param_8, param_9, param_10);
        finalColor = vec4(_1811.x, _1811.y, _1811.z, finalColor.w);
    }
    gl_FragData[0] = finalColor;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
};

uniform modelWideBlockVS _133;

struct meshWideBlockVS
{
    ivec4 vertexShader_IsAffectedByLight;
    vec4 color_Transparency;
    mat4 uTextMat[2];
};

uniform meshWideBlockVS _230;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _240;

attribute vec3 aPosition;
attribute vec4 boneWeights;
attribute vec4 bones;
attribute vec3 aNormal;
varying vec2 vTexCoord2;
varying vec2 vTexCoord3;
varying vec4 vDiffuseColor;
varying vec2 vTexCoord;
attribute vec2 aTexCoord;
attribute vec2 aTexCoord2;
varying vec3 vNormal;
varying vec3 vPosition;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

vec2 posToTexCoord(vec3 cameraPoint, vec3 normal)
{
    vec3 normPos_495 = normalize(cameraPoint);
    vec3 temp_500 = normPos_495 - (normal * (2.0 * dot(normPos_495, normal)));
    vec3 temp_657 = vec3(temp_500.x, temp_500.y, temp_500.z + 1.0);
    return (normalize(temp_657).xy * 0.5) + vec2(0.5);
}

float edgeScan(vec3 position, vec3 normal)
{
    float dotProductClamped = clamp(dot(-normalize(position), normal), 0.0, 1.0);
    return clamp(((2.7000000476837158203125 * dotProductClamped) * dotProductClamped) - 0.4000000059604644775390625, 0.0, 1.0);
}

void main()
{
    vec4 modelPoint = vec4(0.0);
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    mat4 boneTransformMat = mat4(vec4(0.0), vec4(0.0), vec4(0.0), vec4(0.0));
    mat4 _143 = _133.uBoneMatrixes[bones.x] * boneWeights.x;
    boneTransformMat = mat4(boneTransformMat[0] + _143[0], boneTransformMat[1] + _143[1], boneTransformMat[2] + _143[2], boneTransformMat[3] + _143[3]);
    mat4 _164 = _133.uBoneMatrixes[bones.y] * boneWeights.y;
    boneTransformMat = mat4(boneTransformMat[0] + _164[0], boneTransformMat[1] + _164[1], boneTransformMat[2] + _164[2], boneTransformMat[3] + _164[3]);
    mat4 _185 = _133.uBoneMatrixes[bones.z] * boneWeights.z;
    boneTransformMat = mat4(boneTransformMat[0] + _185[0], boneTransformMat[1] + _185[1], boneTransformMat[2] + _185[2], boneTransformMat[3] + _185[3]);
    mat4 _207 = _133.uBoneMatrixes[bones.w] * boneWeights.w;
    boneTransformMat = mat4(boneTransformMat[0] + _207[0], boneTransformMat[1] + _207[1], boneTransformMat[2] + _207[2], boneTransformMat[3] + _207[3]);
    mat4 placementMat = _133.uPlacementMat;
    vec4 lDiffuseColor = _230.color_Transparency;
    mat4 cameraMatrix = (_240.scene.uLookAtMat * placementMat) * boneTransformMat;
    vec4 cameraPoint = cameraMatrix * aPositionVec4;
    mat4 param = _240.scene.uLookAtMat;
    mat4 param_1 = placementMat;
    mat4 param_2 = boneTransformMat;
    mat3 viewModelMatTransposed = (blizzTranspose(param) * blizzTranspose(param_1)) * blizzTranspose(param_2);
    vec3 normal = normalize(viewModelMatTransposed * aNormal);
    vec4 combinedColor = clamp(lDiffuseColor, vec4(0.0), vec4(1.0));
    vec4 combinedColorHalved = combinedColor * 0.5;
    vec3 param_3 = cameraPoint.xyz;
    vec3 param_4 = normal;
    vec2 envCoord = posToTexCoord(param_3, param_4);
    vec3 param_5 = cameraPoint.xyz;
    vec3 param_6 = normal;
    float edgeScanVal = edgeScan(param_5, param_6);
    vTexCoord2 = vec2(0.0);
    vTexCoord3 = vec2(0.0);
    int uVertexShader = _230.vertexShader_IsAffectedByLight.x;
    bool _305 = uVertexShader == 0;
    #if (VERTEXSHADER == 0)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _332 = uVertexShader == 1;
    #if (VERTEXSHADER == 1)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    #endif
    bool _347 = uVertexShader == 2;
    #if (VERTEXSHADER == 2)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _379 = uVertexShader == 3;
    #if (VERTEXSHADER == 3)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    #endif
    bool _403 = uVertexShader == 4;
    #if (VERTEXSHADER == 4)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _427 = uVertexShader == 5;
    #if (VERTEXSHADER == 5)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    vTexCoord2 = envCoord;
    #endif
    bool _444 = uVertexShader == 6;
    #if (VERTEXSHADER == 6)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _476 = uVertexShader == 7;
    #if (VERTEXSHADER == 7)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _507 = uVertexShader == 8;
    #if (VERTEXSHADER == 8)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _546 = uVertexShader == 9;
    #if (VERTEXSHADER == 9)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _571 = uVertexShader == 10;
    #if (VERTEXSHADER == 10)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _594 = uVertexShader == 11;
    #if (VERTEXSHADER == 11)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    vTexCoord3 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _626 = uVertexShader == 12;
    #if (VERTEXSHADER == 12)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _659 = uVertexShader == 13;
    #if (VERTEXSHADER == 13)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = envCoord;
    #endif
    bool _677 = uVertexShader == 14;
    #if (VERTEXSHADER == 14)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _716 = uVertexShader == 15;
    #if (VERTEXSHADER == 15)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord3 = vTexCoord3;
    #endif
    bool _748 = uVertexShader == 16;
    #if (VERTEXSHADER == 16)
    vec4 in_col0 = vec4(1.0);
    vDiffuseColor = vec4((in_col0.xyz * 0.5).x, (in_col0.xyz * 0.5).y, (in_col0.xyz * 0.5).z, in_col0.w);
    vTexCoord = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord2 = vec2(0.0);
    vTexCoord3 = vTexCoord3;
    #endif
    bool _780 = uVertexShader == 17;
    #if (VERTEXSHADER == 17)
    vDiffuseColor = vec4(combinedColor.xyz * 0.5, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _803 = uVertexShader == 18;
    #if (VERTEXSHADER == 18)
    vDiffuseColor = vec4(combinedColor.xyz * 0.5, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    gl_Position = _240.scene.uPMatrix * cameraPoint;
    vNormal = normal;
    vPosition = cameraPoint.xyz;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct LocalLight
{
    vec4 color;
    vec4 position;
    vec4 attenuation;
};

struct meshWideBlockPS
{
    ivec4 PixelShader_UnFogged_IsAffectedByLight_blendMode;
    vec4 uFogColorAndAlphaTest;
    vec4 uPcColor;
};

uniform meshWideBlockPS _448;

struct modelWideBlockPS
{
    InteriorLightParam intLight;
    LocalLight pc_lights[4];
    ivec4 lightCountAndBcHack;
    vec4 interiorExteriorBlend;
};

uniform modelWideBlockPS _471;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _510;

struct modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
};

uniform modelWideBlockVS _518;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;
uniform sampler2D uTexture4;

varying vec2 vTexCoord;
varying vec2 vTexCoord2;
varying vec2 vTexCoord3;
varying vec4 vDiffuseColor;
varying vec3 vPosition;
varying vec3 vNormal;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 texCoord = vTexCoord;
    vec2 texCoord2 = vTexCoord2;
    vec2 texCoord3 = vTexCoord3;
    vec4 tex = texture2D(uTexture, texCoord);
    vec4 tex2 = texture2D(uTexture2, texCoord2);
    vec4 tex3 = texture2D(uTexture3, texCoord3);
    vec4 finalColor = vec4(0.0);
    vec4 meshResColor = vDiffuseColor;
    bool _452 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.z == 1;
    vec3 accumLight;
    if (_452)
    {
        vec3 vPos3 = vPosition;
        vec3 vNormal3 = normalize(vNormal);
        vec3 lightColor = vec3(0.0);
        int count = int(_471.pc_lights[0].attenuation.w);
        LocalLight lightRecord;
        for (int index = 0; index < 4; index++)
        {
            bool _487 = index >= _471.lightCountAndBcHack.x;
            if (_487)
            {
                break;
            }
            lightRecord.color = _471.pc_lights[index].color;
            lightRecord.position = _471.pc_lights[index].position;
            lightRecord.attenuation = _471.pc_lights[index].attenuation;
            vec3 vectorToLight = (_510.scene.uLookAtMat * (_518.uPlacementMat * lightRecord.position)).xyz - vPos3;
            float distanceToLightSqr = dot(vectorToLight, vectorToLight);
            float distanceToLightInv = inversesqrt(distanceToLightSqr);
            float distanceToLight = distanceToLightSqr * distanceToLightInv;
            float diffuseTerm1 = max(dot(vectorToLight, vNormal3) * distanceToLightInv, 0.0);
            vec4 attenuationRec = lightRecord.attenuation;
            float attenuation = 1.0 - clamp((distanceToLight - attenuationRec.x) * (1.0 / (attenuationRec.z - attenuationRec.x)), 0.0, 1.0);
            vec3 attenuatedColor = lightRecord.color.xyz * attenuation;
            lightColor += vec3((attenuatedColor * attenuatedColor) * diffuseTerm1);
        }
        vec3 _585 = clamp(lightColor, vec3(0.0), vec3(1.0));
        meshResColor = vec4(_585.x, _585.y, _585.z, meshResColor.w);
        accumLight = mix(lightColor, meshResColor.xyz, vec3(float(_471.lightCountAndBcHack.y)));
    }
    float finalOpacity = 0.0;
    vec3 specular = vec3(0.0);
    vec3 matDiffuse;
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.z > 0;
    float param_3 = _471.interiorExteriorBlend.x;
    SceneWideParams param_4;
    param_4.uLookAtMat = _510.scene.uLookAtMat;
    param_4.uPMatrix = _510.scene.uPMatrix;
    param_4.uViewUp = _510.scene.uViewUp;
    param_4.uInteriorSunDir = _510.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _510.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _510.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _510.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _510.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _510.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _471.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _471.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = accumLight;
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vec3(0.0), specular), finalOpacity);
    bool _658 = finalColor.w < _448.uFogColorAndAlphaTest.w;
    if (_658)
    {
        discard;
    }
    int uUnFogged = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.y;
    bool _666 = uUnFogged == 0;
    if (_666)
    {
        vec3 sunDir = mix(_510.scene.uInteriorSunDir, _510.scene.extLight.uExteriorDirectColorDir, vec4(_471.interiorExteriorBlend.x)).xyz;
        PSFog arg;
        arg.densityParams = _510.fogData.densityParams;
        arg.heightPlane = _510.fogData.heightPlane;
        arg.color_and_heightRate = _510.fogData.color_and_heightRate;
        arg.heightDensity_and_endColor = _510.fogData.heightDensity_and_endColor;
        arg.sunAngle_and_sunColor = _510.fogData.sunAngle_and_sunColor;
        arg.heightColor_and_endFogDistance = _510.fogData.heightColor_and_endFogDistance;
        arg.sunPercentage = _510.fogData.sunPercentage;
        vec3 param_7 = finalColor.xyz;
        vec3 param_8 = vPosition;
        vec3 param_9 = sunDir;
        int param_10 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.w;
        vec3 _711 = makeFog(arg, param_7, param_8, param_9, param_10);
        finalColor = vec4(_711.x, _711.y, _711.z, finalColor.w);
    }
    gl_FragData[0] = finalColor;
}


#version 100

struct meshWideBlockPS
{
    float gauss_offsets[5];
    float gauss_weights[5];
    vec2 uResolution;
};

uniform meshWideBlockPS _34;

uniform sampler2D u_sampler;
uniform sampler2D u_depth;

varying vec2 v_texcoord;

void main()
{
    float FXAA_SPAN_MAX = 8.0;
    float FXAA_REDUCE_MUL = 0.125;
    float FXAA_REDUCE_MIN = 0.0078125;
    vec3 rgbNW = texture2D(u_sampler, v_texcoord + (vec2(-1.0) / _34.uResolution)).xyz;
    vec3 rgbNE = texture2D(u_sampler, v_texcoord + (vec2(1.0, -1.0) / _34.uResolution)).xyz;
    vec3 rgbSW = texture2D(u_sampler, v_texcoord + (vec2(-1.0, 1.0) / _34.uResolution)).xyz;
    vec3 rgbSE = texture2D(u_sampler, v_texcoord + (vec2(1.0) / _34.uResolution)).xyz;
    vec3 rgbM = texture2D(u_sampler, v_texcoord).xyz;
    vec3 luma = vec3(0.2989999949932098388671875, 0.58700001239776611328125, 0.114000000059604644775390625);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM = dot(rgbM, luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y = (lumaNW + lumaSW) - (lumaNE + lumaSE);
    float dirReduce = max((((lumaNW + lumaNE) + lumaSW) + lumaSE) * (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX), max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) / _34.uResolution;
    vec3 rgbA = (texture2D(u_sampler, v_texcoord + (dir * (-0.16666667163372039794921875))).xyz + texture2D(u_sampler, v_texcoord + (dir * 0.16666667163372039794921875)).xyz) * 0.5;
    vec3 rgbB = (rgbA * 0.5) + ((texture2D(u_sampler, v_texcoord + (dir * (-0.5))).xyz + texture2D(u_sampler, v_texcoord + (dir * 0.5)).xyz) * 0.25);
    float lumaB = dot(rgbB, luma);
    bool _240 = (lumaB < lumaMin) || (lumaB > lumaMax);
    if (_240)
    {
        gl_FragData[0] = vec4(rgbA.x, rgbA.y, rgbA.z, gl_FragData[0].w);
    }
    else
    {
        gl_FragData[0] = vec4(rgbB.x, rgbB.y, rgbB.z, gl_FragData[0].w);
    }
}


#version 100
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

attribute vec4 a_position;
varying vec2 v_texcoord;

void main()
{
    gl_Position = a_position;
    v_texcoord = (a_position.xy * 0.5) + vec2(0.5);
}


#version 100

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _275;

struct meshWideBlockPS
{
    vec4 uAlphaTestv;
    ivec4 uPixelShaderv;
};

uniform meshWideBlockPS _288;

uniform sampler2D uTexture;

varying vec2 vTexcoord0;
varying vec4 vColor;
varying vec3 vPosition;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture2D(uTexture, vTexcoord0);
    vec4 finalColor = vec4(vColor.xyz * tex.xyz, tex.w * vColor.w);
    vec3 sunDir = _275.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _275.fogData.densityParams;
    arg.heightPlane = _275.fogData.heightPlane;
    arg.color_and_heightRate = _275.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _275.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _275.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _275.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _275.fogData.sunPercentage;
    vec3 param = finalColor.xyz;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = _288.uPixelShaderv.y;
    vec3 _318 = makeFog(arg, param, param_1, param_2, param_3);
    finalColor = vec4(_318.x, _318.y, _318.z, finalColor.w);
    gl_FragData[0] = finalColor;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _37;

attribute vec3 aPosition;
varying vec4 vColor;
attribute vec4 aColor;
varying vec2 vTexcoord0;
attribute vec2 aTexcoord0;
varying vec3 vPosition;

void main()
{
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    vColor = aColor;
    vTexcoord0 = aTexcoord0;
    vec4 vertexViewSpace = _37.scene.uLookAtMat * aPositionVec4;
    vPosition = vertexViewSpace.xyz;
    gl_Position = _37.scene.uPMatrix * vertexViewSpace;
}


#version 100
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

varying vec4 vColor;

void main()
{
    gl_FragData[0] = vec4(vColor.xyz, vColor.w);
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _26;

struct meshWideBlockVS
{
    vec4 skyColor[6];
};

uniform meshWideBlockVS _67;

attribute vec4 aPosition;
varying vec4 vColor;

void main()
{
    vec3 inputPos = aPosition.xyz;
    inputPos *= 33.33300018310546875;
    vec4 cameraPos = _26.scene.uLookAtMat * vec4(inputPos, 1.0);
    vec3 _46 = cameraPos.xyz - _26.scene.uLookAtMat[3].xyz;
    cameraPos = vec4(_46.x, _46.y, _46.z, cameraPos.w);
    cameraPos.z = cameraPos.z;
    vec4 vertPosInNDC = _26.scene.uPMatrix * cameraPos;
    vColor = _67.skyColor[int(aPosition.w)];
    gl_Position = _26.scene.uPMatrix * cameraPos;
}


#version 100

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct meshWideBlockPS
{
    vec4 color;
};

uniform meshWideBlockPS _242;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _266;

uniform sampler2D uTexture;

varying vec2 vTextCoords;
varying vec3 vPosition;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec3 finalColor = _242.color.xyz + texture2D(uTexture, vTextCoords).xyz;
    vec3 sunDir = _266.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _266.fogData.densityParams;
    arg.heightPlane = _266.fogData.heightPlane;
    arg.color_and_heightRate = _266.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _266.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _266.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _266.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _266.fogData.sunPercentage;
    vec3 param = finalColor;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = 2;
    finalColor = makeFog(arg, param, param_1, param_2, param_3);
    gl_FragData[0] = vec4(finalColor, 0.699999988079071044921875);
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _28;

struct modelWideBlockVS
{
    mat4 uPlacementMat;
};

uniform modelWideBlockVS _36;

attribute vec4 aPositionTransp;
varying vec2 vTextCoords;
varying vec3 vPosition;
attribute vec2 aTexCoord;

void main()
{
    vec4 aPositionVec4 = vec4(aPositionTransp.xyz, 1.0);
    mat4 cameraMatrix = _28.scene.uLookAtMat * _36.uPlacementMat;
    vec4 cameraPoint = cameraMatrix * aPositionVec4;
    vTextCoords = aPositionVec4.xy * 0.02999999932944774627685546875;
    gl_Position = _28.scene.uPMatrix * cameraPoint;
    vPosition = cameraPoint.xyz;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct meshWideBlockPS
{
    ivec4 UseLitColor_EnableAlpha_PixelShader_BlendMode;
    vec4 FogColor_AlphaTest;
};

uniform meshWideBlockPS _435;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _898;

struct modelWideBlockPS
{
    InteriorLightParam intLight;
};

uniform modelWideBlockPS _902;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;

varying vec2 vTexCoord;
varying vec2 vTexCoord2;
varying vec2 vTexCoord3;
varying vec4 vColor;
varying vec4 vColor2;
varying vec3 vNormal;
varying vec4 vPosition;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture2D(uTexture, vTexCoord);
    vec4 tex2 = texture2D(uTexture2, vTexCoord2);
    vec4 tex3 = texture2D(uTexture3, vTexCoord3);
    bool _439 = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.y == 1;
    if (_439)
    {
        bool _446 = (tex.w - 0.501960813999176025390625) < 0.0;
        if (_446)
        {
            discard;
        }
    }
    int uPixelShader = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.z;
    vec4 finalColor = vec4(0.0, 0.0, 0.0, 1.0);
    vec3 matDiffuse = vec3(0.0);
    vec3 env = vec3(0.0);
    float finalOpacity = 0.0;
    bool _460 = uPixelShader == (-1);
    #if (FRAGMENTSHADER == (-1))
    matDiffuse = (tex.xyz * vColor.xyz) + (tex2.xyz * vColor2.zyx);
    finalOpacity = tex.w;
    #endif
    bool _481 = uPixelShader == 0;
    #if (FRAGMENTSHADER == 0)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _496 = uPixelShader == 1;
    #if (FRAGMENTSHADER == 1)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _509 = uPixelShader == 2;
    #if (FRAGMENTSHADER == 2)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _522 = uPixelShader == 3;
    #if (FRAGMENTSHADER == 3)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = tex2.xyz * tex.w;
    finalOpacity = vColor.w;
    #endif
    bool _540 = uPixelShader == 4;
    #if (FRAGMENTSHADER == 4)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _553 = uPixelShader == 5;
    #if (FRAGMENTSHADER == 5)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = (tex.xyz * tex.w) * tex2.xyz;
    finalOpacity = vColor.w;
    #endif
    bool _574 = uPixelShader == 6;
    #if (FRAGMENTSHADER == 6)
    vec3 layer1 = tex.xyz;
    vec3 layer2 = mix(layer1, tex2.xyz, vec3(tex2.w));
    matDiffuse = (vColor.xyz * 2.0) * mix(layer2, layer1, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _603 = uPixelShader == 7;
    #if (FRAGMENTSHADER == 7)
    vec4 colorMix = mix(tex2, tex, vec4(vColor2.w));
    matDiffuse = colorMix.xyz * (vColor.xyz * 2.0);
    env = (colorMix.xyz * colorMix.w) * tex3.xyz;
    finalOpacity = vColor.w;
    #endif
    bool _632 = uPixelShader == 8;
    #if (FRAGMENTSHADER == 8)
    vec3 layer1_1 = tex.xyz;
    vec3 layer2_1 = tex2.xyz;
    matDiffuse = (vColor.xyz * 2.0) * mix(layer2_1, layer1_1, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _656 = uPixelShader == 9;
    #if (FRAGMENTSHADER == 9)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = (tex2.xyz * tex2.w) * vColor2.w;
    finalOpacity = vColor.w;
    #endif
    bool _678 = uPixelShader == 10;
    #if (FRAGMENTSHADER == 10)
    float mixFactor = clamp(tex3.w * vColor2.w, 0.0, 1.0);
    matDiffuse = (vColor.xyz * 2.0) * mix(mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(mixFactor)), tex.xyz, vec3(tex.w));
    finalOpacity = vColor.w;
    #endif
    bool _714 = uPixelShader == 11;
    #if (FRAGMENTSHADER == 11)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = ((tex.xyz * tex.w) * tex2.xyz) + ((tex3.xyz * tex3.w) * vColor2.w);
    finalOpacity = vColor.w;
    #endif
    bool _745 = uPixelShader == 12;
    #if (FRAGMENTSHADER == 12)
    matDiffuse = (vColor.xyz * 2.0) * mix(tex2.xyz, tex.xyz, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _764 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    vec3 t1diffuse = tex2.xyz * (1.0 - tex2.w);
    matDiffuse = (vColor.xyz * 2.0) * mix(t1diffuse, tex.xyz, vec3(vColor2.w));
    env = (tex2.xyz * tex2.w) * (1.0 - vColor2.w);
    finalOpacity = vColor.w;
    #endif
    bool _798 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _812 = uPixelShader == 14;
    #if (FRAGMENTSHADER == 14)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _826 = uPixelShader == 15;
    #if (FRAGMENTSHADER == 15)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _839 = uPixelShader == 16;
    #if (FRAGMENTSHADER == 16)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _852 = uPixelShader == 17;
    #if (FRAGMENTSHADER == 17)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _865 = uPixelShader == 18;
    #if (FRAGMENTSHADER == 18)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _878 = uPixelShader == 19;
    #if (FRAGMENTSHADER == 19)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = true;
    float param_3 = vPosition.w;
    SceneWideParams param_4;
    param_4.uLookAtMat = _898.scene.uLookAtMat;
    param_4.uPMatrix = _898.scene.uPMatrix;
    param_4.uViewUp = _898.scene.uViewUp;
    param_4.uInteriorSunDir = _898.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _898.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _898.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _898.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _898.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _898.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _902.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _902.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = vec3(0.0);
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vColor2.xyz, vec3(0.0)), finalOpacity);
    bool _959 = finalColor.w < _435.FogColor_AlphaTest.w;
    if (_959)
    {
        discard;
    }
    PSFog arg;
    arg.densityParams = _898.fogData.densityParams;
    arg.heightPlane = _898.fogData.heightPlane;
    arg.color_and_heightRate = _898.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _898.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _898.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _898.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _898.fogData.sunPercentage;
    vec3 param_7 = finalColor.xyz;
    vec3 param_8 = vPosition.xyz;
    vec3 param_9 = _898.scene.extLight.uExteriorDirectColorDir.xyz;
    int param_10 = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.w;
    vec3 _998 = makeFog(arg, param_7, param_8, param_9, param_10);
    finalColor = vec4(_998.x, _998.y, _998.z, finalColor.w);
    finalColor.w = 1.0;
    gl_FragData[0] = finalColor;
}


#version 100

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

struct modelWideBlockVS
{
    mat4 uPlacementMat;
};

uniform modelWideBlockVS _93;

struct sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
};

uniform sceneWideBlockVSPS _111;

struct meshWideBlockVS
{
    ivec4 VertexShader_UseLitColor;
};

uniform meshWideBlockVS _182;

attribute vec3 aPosition;
varying vec4 vPosition;
attribute vec4 aColor;
varying vec3 vNormal;
attribute vec3 aNormal;
varying vec4 vColor;
varying vec4 vColor2;
attribute vec4 aColor2;
varying vec2 vTexCoord;
attribute vec2 aTexCoord;
varying vec2 vTexCoord2;
attribute vec2 aTexCoord2;
varying vec2 vTexCoord3;
attribute vec2 aTexCoord3;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

vec2 posToTexCoord(vec3 cameraPoint, vec3 normal)
{
    vec3 normPos_495 = normalize(cameraPoint);
    vec3 temp_500 = normPos_495 - (normal * (2.0 * dot(normPos_495, normal)));
    vec3 temp_657 = vec3(temp_500.x, temp_500.y, temp_500.z + 1.0);
    return (normalize(temp_657).xy * 0.5) + vec2(0.5);
}

void main()
{
    vec4 worldPoint = _93.uPlacementMat * vec4(aPosition, 1.0);
    vec4 cameraPoint = _111.scene.uLookAtMat * worldPoint;
    mat4 viewModelMat = _111.scene.uLookAtMat * _93.uPlacementMat;
    mat4 param = _111.scene.uLookAtMat;
    mat4 param_1 = _93.uPlacementMat;
    mat3 viewModelMatTransposed = blizzTranspose(param) * blizzTranspose(param_1);
    gl_Position = _111.scene.uPMatrix * cameraPoint;
    vPosition = vec4(cameraPoint.xyz, aColor.w);
    vNormal = normalize(viewModelMatTransposed * aNormal);
    vColor = vec4(0.5, 0.499989986419677734375, 0.5, 1.0);
    vColor2 = vec4(aColor.zyx * 2.0, aColor2.w);
    int uVertexShader = _182.VertexShader_UseLitColor.x;
    #if (VERTEXSHADER == (-1))
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 0)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 1)
    vTexCoord = aTexCoord;
    vTexCoord2 = reflect(normalize(cameraPoint.xyz), vNormal).xy;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 2)
    vTexCoord = aTexCoord;
    vec3 param_2 = vPosition.xyz;
    vec3 param_3 = vNormal;
    vTexCoord2 = posToTexCoord(param_2, param_3);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 3)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 4)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 5)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = reflect(normalize(cameraPoint.xyz), vNormal).xy;
    #endif
    #if (VERTEXSHADER == 6)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 7)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 8)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
}


#version 330

layout(std140) uniform modelWideBlockPS
{
    vec4 uViewUp;
    vec4 uSunDir_FogStart;
    vec4 uSunColor_uFogEnd;
    vec4 uAmbientLight;
    vec4 FogColor;
    int uNewFormula;
} _65;

uniform sampler2D uDiffuseTexture;
uniform sampler2D uNormalTexture;

in vec2 vChunkCoords;
in vec3 vPosition;
layout(location = 0) out vec4 fragColor;

void main()
{
    vec2 TextureCoords = vec2(vChunkCoords.x, vChunkCoords.y);
    vec4 texDiffuse = texture(uDiffuseTexture, TextureCoords);
    vec3 matDiffuse = texDiffuse.xyz;
    vec3 vNormal = (texture(uNormalTexture, TextureCoords).xyz * 2.0) - vec3(1.0);
    vNormal = vec3(-vNormal.z, -vNormal.x, vNormal.y);
    vec4 finalColor = vec4(0.0, 0.0, 0.0, 1.0);
    vec3 fogColor = _65.FogColor.xyz;
    float fog_start = _65.uSunDir_FogStart.w;
    float fog_end = _65.uSunColor_uFogEnd.w;
    float fog_rate = 1.5;
    float fog_bias = 0.00999999977648258209228515625;
    float distanceToCamera = length(vPosition);
    float z_depth = distanceToCamera - fog_bias;
    float expFog = 1.0 / exp(max(0.0, z_depth - fog_start) * fog_rate);
    float heightFog = 1.0;
    expFog += heightFog;
    float endFadeFog = clamp((fog_end - distanceToCamera) / (0.699999988079071044921875 * fog_end), 0.0, 1.0);
    vec3 _123 = mix(fogColor, finalColor.xyz, vec3(min(expFog, endFadeFog)));
    finalColor = vec4(_123.x, _123.y, _123.z, finalColor.w);
    finalColor.w = 1.0;
    fragColor = finalColor;
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    vec3 uPos;
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _55;

layout(location = 1) in float aIndex;
layout(location = 0) in float aHeight;
out vec2 vChunkCoords;
out vec3 vPosition;

void main()
{
    float stepX = floor(aIndex / 16641.0);
    float division = 129.0;
    bool _20 = stepX > 0.100000001490116119384765625;
    if (_20)
    {
        division = 128.0;
    }
    float offset = (stepX * 129.0) * 129.0;
    float iX = mod(aIndex - offset, division) + (stepX * 0.5);
    float iY = floor((aIndex - offset) / division) + (stepX * 0.5);
    vec4 worldPoint = vec4(_55.uPos.x - (iY * 4.166666507720947265625), _55.uPos.y - (iX * 4.166666507720947265625), aHeight, 1.0);
    vChunkCoords = vec2(iX / 128.0, iY / 128.0);
    vPosition = (_55.uLookAtMat * worldPoint).xyz;
    gl_Position = (_55.uPMatrix * _55.uLookAtMat) * worldPoint;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _221[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _228[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

layout(std140) uniform meshWideBlockPS
{
    vec4 uHeightScale;
    vec4 uHeightOffset;
    mat4 animationMat[4];
} _454;

layout(std140) uniform modelWideBlockPS
{
    ivec4 uUseHeightMixFormula;
} _494;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _736;

uniform sampler2D uAlphaTexture;
uniform sampler2D uLayerHeight0;
uniform sampler2D uLayerHeight1;
uniform sampler2D uLayerHeight2;
uniform sampler2D uLayerHeight3;
uniform sampler2D uLayer0;
uniform sampler2D uLayer1;
uniform sampler2D uLayer2;
uniform sampler2D uLayer3;

in vec2 vChunkCoords;
in vec4 vColor;
in vec3 vNormal;
in vec3 vVertexLighting;
in vec3 vPosition;
layout(location = 0) out vec4 outColor;

vec4 mixTextures(vec4 tex0, vec4 tex1, float alpha)
{
    return ((tex1 - tex0) * alpha) + tex0;
}

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _57 = !applyLight;
    if (_57)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _73 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_73)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _110 = nDotUp >= 0.0;
        if (_110)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _150 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_150)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _174 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_174)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _221[blendMode], vec3(_228[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _240 = blendMode == 13;
    if (_240)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _392 = nDotSun > 0.0;
    if (_392)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 vTexCoord = vChunkCoords;
    vec2 alphaCoord = vec2(vChunkCoords.x / 8.0, vChunkCoords.y / 8.0);
    vec3 alphaBlend = texture(uAlphaTexture, alphaCoord).yzw;
    vec2 tcLayer0 = (_454.animationMat[0] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer1 = (_454.animationMat[1] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer2 = (_454.animationMat[2] * vec4(vTexCoord, 0.0, 1.0)).xy;
    vec2 tcLayer3 = (_454.animationMat[3] * vec4(vTexCoord, 0.0, 1.0)).xy;
    bool _498 = _494.uUseHeightMixFormula.x > 0;
    vec4 final;
    if (_498)
    {
        float minusAlphaBlendSum = 1.0 - clamp(dot(alphaBlend, vec3(1.0)), 0.0, 1.0);
        vec4 weightsVector = vec4(minusAlphaBlendSum, alphaBlend);
        float weightedTexture_x = minusAlphaBlendSum * ((texture(uLayerHeight0, tcLayer0).w * _454.uHeightScale.x) + _454.uHeightOffset.x);
        float weightedTexture_y = weightsVector.y * ((texture(uLayerHeight1, tcLayer1).w * _454.uHeightScale.y) + _454.uHeightOffset.y);
        float weightedTexture_z = weightsVector.z * ((texture(uLayerHeight2, tcLayer2).w * _454.uHeightScale.z) + _454.uHeightOffset.z);
        float weightedTexture_w = weightsVector.w * ((texture(uLayerHeight3, tcLayer3).w * _454.uHeightScale.w) + _454.uHeightOffset.w);
        vec4 weights = vec4(weightedTexture_x, weightedTexture_y, weightedTexture_z, weightedTexture_w);
        vec4 weights_temp = weights * (vec4(1.0) - clamp(vec4(max(max(weightedTexture_x, weightedTexture_y), max(weightedTexture_z, weightedTexture_w))) - weights, vec4(0.0), vec4(1.0)));
        vec4 weightsNormalized = weights_temp / vec4(dot(vec4(1.0), weights_temp));
        vec4 weightedLayer_0 = texture(uLayer0, tcLayer0) * weightsNormalized.x;
        vec3 matDiffuse_0 = weightedLayer_0.xyz;
        float specBlend_0 = weightedLayer_0.w;
        vec4 weightedLayer_1 = texture(uLayer1, tcLayer1) * weightsNormalized.y;
        vec3 matDiffuse_1 = matDiffuse_0 + weightedLayer_1.xyz;
        float specBlend_1 = specBlend_0 + weightedLayer_1.w;
        vec4 weightedLayer_2 = texture(uLayer2, tcLayer2) * weightsNormalized.z;
        vec3 matDiffuse_2 = matDiffuse_1 + weightedLayer_2.xyz;
        float specBlend_2 = specBlend_1 + weightedLayer_2.w;
        vec4 weightedLayer_3 = texture(uLayer3, tcLayer3) * weightsNormalized.w;
        vec3 matDiffuse_3 = matDiffuse_2 + weightedLayer_3.xyz;
        float specBlend_3 = specBlend_2 + weightedLayer_3.w;
        final = vec4(matDiffuse_3, specBlend_3);
    }
    else
    {
        vec4 tex1 = texture(uLayer0, tcLayer0);
        vec4 tex2 = texture(uLayer1, tcLayer1);
        vec4 tex3 = texture(uLayer2, tcLayer2);
        vec4 tex4 = texture(uLayer3, tcLayer3);
        vec4 param = tex1;
        vec4 param_1 = tex2;
        float param_2 = alphaBlend.x;
        vec4 param_3 = mixTextures(param, param_1, param_2);
        vec4 param_4 = tex3;
        float param_5 = alphaBlend.y;
        vec4 param_6 = mixTextures(param_3, param_4, param_5);
        vec4 param_7 = tex4;
        float param_8 = alphaBlend.z;
        final = mixTextures(param_6, param_7, param_8);
    }
    vec3 matDiffuse = (final.xyz * 2.0) * vColor.xyz;
    vec3 param_9 = matDiffuse;
    vec3 param_10 = vNormal;
    bool param_11 = true;
    float param_12 = 0.0;
    SceneWideParams param_13;
    param_13.uLookAtMat = _736.scene.uLookAtMat;
    param_13.uPMatrix = _736.scene.uPMatrix;
    param_13.uViewUp = _736.scene.uViewUp;
    param_13.uInteriorSunDir = _736.scene.uInteriorSunDir;
    param_13.extLight.uExteriorAmbientColor = _736.scene.extLight.uExteriorAmbientColor;
    param_13.extLight.uExteriorHorizontAmbientColor = _736.scene.extLight.uExteriorHorizontAmbientColor;
    param_13.extLight.uExteriorGroundAmbientColor = _736.scene.extLight.uExteriorGroundAmbientColor;
    param_13.extLight.uExteriorDirectColor = _736.scene.extLight.uExteriorDirectColor;
    param_13.extLight.uExteriorDirectColorDir = _736.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_14 = InteriorLightParam(vec4(0.0), vec4(0.0, 0.0, 0.0, 1.0));
    vec3 param_15 = vVertexLighting;
    vec4 finalColor = vec4(calcLight(param_9, param_10, param_11, param_12, param_13, param_14, param_15, vec3(0.0), vec3(0.0)), 1.0);
    float specBlend = final.w;
    vec3 halfVec = -normalize(_736.scene.extLight.uExteriorDirectColorDir.xyz + normalize(vPosition));
    vec3 lSpecular = _736.scene.extLight.uExteriorDirectColor.xyz * pow(max(0.0, dot(halfVec, vNormal)), 20.0);
    vec3 specTerm = vec3(specBlend) * lSpecular;
    vec3 _814 = finalColor.xyz + specTerm;
    finalColor = vec4(_814.x, _814.y, _814.z, finalColor.w);
    PSFog arg;
    arg.densityParams = _736.fogData.densityParams;
    arg.heightPlane = _736.fogData.heightPlane;
    arg.color_and_heightRate = _736.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _736.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _736.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _736.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _736.fogData.sunPercentage;
    vec3 param_16 = finalColor.xyz;
    vec3 param_17 = vPosition;
    vec3 param_18 = _736.scene.extLight.uExteriorDirectColorDir.xyz;
    int param_19 = 0;
    vec3 _848 = makeFog(arg, param_16, param_17, param_18, param_19);
    finalColor = vec4(_848.x, _848.y, _848.z, finalColor.w);
    finalColor.w = 1.0;
    outColor = finalColor;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _91;

layout(std140) uniform meshWideBlockVS
{
    vec4 uPos;
} _139;

layout(location = 4) in float aIndex;
layout(location = 0) in vec3 aHeight;
out vec2 vChunkCoords;
out vec3 vPosition;
out vec4 vColor;
layout(location = 1) in vec4 aColor;
out vec3 vVertexLighting;
layout(location = 2) in vec4 aVertexLighting;
out vec3 vNormal;
layout(location = 3) in vec3 aNormal;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

void main()
{
    float iX = mod(aIndex, 17.0);
    float iY = floor(aIndex / 17.0);
    bool _61 = iX > 8.0100002288818359375;
    if (_61)
    {
        iY += 0.5;
        iX -= 8.5;
    }
    vec4 worldPoint = vec4(aHeight, 1.0);
    vChunkCoords = vec2(iX, iY);
    vPosition = (_91.scene.uLookAtMat * worldPoint).xyz;
    vColor = aColor;
    vVertexLighting = aVertexLighting.xyz;
    mat4 param = _91.scene.uLookAtMat;
    vNormal = blizzTranspose(param) * aNormal;
    gl_Position = (_91.scene.uPMatrix * _91.scene.uLookAtMat) * worldPoint;
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
    vec4 uBBScale;
    vec4 uBBCenter;
    vec4 uColor;
} _13;

layout(location = 0) out vec4 outColor;

void main()
{
    vec4 finalColor = _13.uColor;
    outColor = finalColor;
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
    vec4 uBBScale;
    vec4 uBBCenter;
    vec4 uColor;
} _21;

layout(std140) uniform sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _59;

layout(location = 0) in vec3 aPosition;

void main()
{
    vec4 worldPoint = vec4((aPosition.x * _21.uBBScale.x) + _21.uBBCenter.x, (aPosition.y * _21.uBBScale.y) + _21.uBBCenter.y, (aPosition.z * _21.uBBScale.z) + _21.uBBCenter.z, 1.0);
    gl_Position = ((_59.uPMatrix * _59.uLookAtMat) * _21.uPlacementMat) * worldPoint;
}


#version 330

layout(std140) uniform meshWideBlockPS
{
    int drawDepth;
    float uFarPlane;
    float uNearPlane;
} _10;

uniform sampler2D diffuse;

in vec2 texCoord;
layout(location = 0) out vec4 fragColor;

void main()
{
    bool _17 = _10.drawDepth == 1;
    vec4 finalColor;
    if (_17)
    {
        float f = _10.uFarPlane;
        float n = _10.uNearPlane;
        float z = (2.0 * n) / ((f + n) - (texture(diffuse, texCoord).x * (f - n)));
        finalColor = vec4(z, z, z, 255.0);
    }
    else
    {
        finalColor = vec4(texture(diffuse, texCoord).xyz, 255.0);
    }
    fragColor = finalColor;
}


#version 330

layout(std140) uniform meshWideBlockPS
{
    vec3 uColor;
} _22;

layout(location = 0) out vec4 fragColor;

void main()
{
    vec4 finalColor = vec4(1.0);
    finalColor.w = 1.0;
    fragColor = finalColor;
}


#version 330

layout(std140) uniform sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _13;

layout(location = 0) in vec3 aPosition;

void main()
{
    vec4 c_world = inverse(_13.uPMatrix) * vec4(aPosition, 1.0);
    c_world = (c_world * 1.0) / vec4(c_world.w);
    gl_Position = (_13.uPMatrix * _13.uLookAtMat) * vec4(c_world.xyz, 1.0);
}


#version 330

layout(std140) uniform modelWideBlockPS
{
    vec3 uColor;
} _19;

layout(location = 0) out vec4 fragColor;

void main()
{
    vec4 finalColor = vec4(1.0, 1.0, 0.0, 1.0);
    fragColor = finalColor;
}


#version 330

layout(std140) uniform sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _19;

layout(location = 0) in vec2 aPosition;

void main()
{
    gl_Position = (_19.uPMatrix * _19.uLookAtMat) * vec4(aPosition, 0.0, 1.0);
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    vec3 uColor;
} _13;

layout(location = 0) out vec4 fragColor;
in vec4 vPos;

void main()
{
    fragColor = vec4(_13.uColor, 1.0);
}


#version 330

layout(std140) uniform sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _19;

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
} _29;

layout(location = 0) in vec3 aPosition;
out vec4 vPos;

void main()
{
    gl_Position = ((_19.uPMatrix * _19.uLookAtMat) * _29.uPlacementMat) * vec4(aPosition, 1.0);
    gl_PointSize = 10.0;
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    vec4 uColor;
} _12;

layout(location = 0) out vec4 fragColor;

void main()
{
    vec4 finalColor = _12.uColor;
    fragColor = finalColor;
}


#version 330

layout(std140) uniform sceneWideBlockVSPS
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
} _30;

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
} _40;

layout(location = 0) in vec3 aPosition;

void main()
{
    vec4 worldPoint = vec4(aPosition, 1.0);
    gl_Position = ((_30.uPMatrix * _30.uLookAtMat) * _40.uPlacementMat) * worldPoint;
}


#version 330

layout(std140) uniform meshWideBlockVS
{
    vec4 uWidth_uHeight_uX_uY;
} _12;

out vec2 texCoord;
layout(location = 0) in vec2 position;

void main()
{
    float uWidth = _12.uWidth_uHeight_uX_uY.x;
    float uHeight = _12.uWidth_uHeight_uX_uY.y;
    float uX = _12.uWidth_uHeight_uX_uY.z;
    float uY = _12.uWidth_uHeight_uX_uY.w;
    texCoord = (position * 0.5) + vec2(0.5);
    gl_Position = vec4((((((position.x + 1.0) / 2.0) * uWidth) + uX) * 2.0) - 1.0, (((((position.y + 1.0) / 2.0) * uHeight) + uY) * 2.0) - 1.0, 0.5, 1.0);
}


#version 330

layout(std140) uniform meshWideBlockPS
{
    vec4 texOffsetX;
    vec4 texOffsetY;
} _33;

uniform sampler2D texture0;

in vec2 texCoord;
layout(location = 0) out vec4 out_result;

void main()
{
    vec2 tex_offset = vec2(0.001000000047497451305389404296875);
    vec3 result = texture(texture0, texCoord).xyz * 0.0;
    result = vec3(0.0);
    result += (texture(texture0, texCoord + vec2(_33.texOffsetX.x * tex_offset.x, _33.texOffsetY.x * tex_offset.y)).xyz * 0.125);
    result += (texture(texture0, texCoord + vec2(_33.texOffsetX.y * tex_offset.x, _33.texOffsetY.y * tex_offset.y)).xyz * 0.375);
    result += (texture(texture0, texCoord + vec2(_33.texOffsetX.z * tex_offset.x, _33.texOffsetY.z * tex_offset.y)).xyz * 0.375);
    result += (texture(texture0, texCoord + vec2(_33.texOffsetX.w * tex_offset.x, _33.texOffsetY.w * tex_offset.y)).xyz * 0.125);
    out_result = vec4(result, 1.0);
}


#version 330

layout(std140) uniform meshWideBlockPS
{
    vec4 blurAmount;
} _34;

uniform sampler2D screenTex;
uniform sampler2D blurTex;

in vec2 texCoord;
layout(location = 0) out vec4 Out_Color;

void main()
{
    vec4 screen = texture(screenTex, texCoord);
    vec3 blurred = texture(blurTex, texCoord).xyz;
    vec3 mixed = mix(screen.xyz, blurred, vec3(_34.blurAmount.z));
    vec3 glow = (blurred * blurred) * _34.blurAmount.w;
    Out_Color = vec4(mixed + glow, screen.w);
}


#version 330
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

uniform sampler2D Texture;

layout(location = 0) out vec4 Out_Color;
in vec4 Frag_Color;
in vec2 Frag_UV;

void main()
{
    Out_Color = Frag_Color * texture(Texture, Frag_UV);
}


#version 330

layout(std140) uniform modelWideBlockVS
{
    mat4 ProjMtx;
} _30;

out vec2 Frag_UV;
layout(location = 1) in vec2 UV;
out vec4 Frag_Color;
layout(location = 2) in vec4 Color;
layout(location = 0) in vec2 Position;

void main()
{
    Frag_UV = UV;
    Frag_Color = Color;
    gl_Position = _30.ProjMtx * vec4(Position, 0.0, 1.0);
}


#version 330

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

layout(std140) uniform meshWideBlockPS
{
    vec4 uAlphaTestv;
    ivec4 uPixelShaderv;
} _266;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _474;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;

in vec2 vTexcoord0;
in vec2 vTexcoord1;
in vec2 vTexcoord2;
in vec4 vColor;
in vec3 vPosition;
layout(location = 0) out vec4 outputColor;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture(uTexture, vTexcoord0);
    vec4 tex2 = texture(uTexture2, vTexcoord1);
    vec4 tex3 = texture(uTexture3, vTexcoord2);
    float uAlphaTest = _266.uAlphaTestv.x;
    bool _273 = tex.w < uAlphaTest;
    if (_273)
    {
        discard;
    }
    vec4 finalColor = vec4((tex * vColor).xyz, tex.w * vColor.w);
    int uNonOptPixelShader = _266.uPixelShaderv.x;
    bool _299 = uNonOptPixelShader == 0;
    if (_299)
    {
        vec3 matDiffuse = vColor.xyz * tex.xyz;
        finalColor = vec4(matDiffuse, tex.w * vColor.w);
    }
    else
    {
        bool _320 = uNonOptPixelShader == 1;
        if (_320)
        {
            vec4 textureMod = tex * tex2;
            float texAlpha = textureMod.w * tex3.w;
            float opacity = texAlpha * vColor.w;
            vec3 matDiffuse_1 = vColor.xyz * textureMod.xyz;
            finalColor = vec4(matDiffuse_1, opacity);
        }
        else
        {
            bool _352 = uNonOptPixelShader == 2;
            if (_352)
            {
                vec4 textureMod_1 = (tex * tex2) * tex3;
                float texAlpha_1 = textureMod_1.w;
                float opacity_1 = texAlpha_1 * vColor.w;
                vec3 matDiffuse_2 = vColor.xyz * textureMod_1.xyz;
                finalColor = vec4(matDiffuse_2, opacity_1);
            }
            else
            {
                bool _383 = uNonOptPixelShader == 3;
                if (_383)
                {
                    vec4 textureMod_2 = (tex * tex2) * tex3;
                    float texAlpha_2 = textureMod_2.w;
                    float opacity_2 = texAlpha_2 * vColor.w;
                    vec3 matDiffuse_3 = vColor.xyz * textureMod_2.xyz;
                    finalColor = vec4(matDiffuse_3, opacity_2);
                }
                else
                {
                    bool _414 = uNonOptPixelShader == 4;
                    if (_414)
                    {
                        float t0_973 = tex.x;
                        float t1_978 = tex2.y;
                        float t2_983 = tex3.z;
                        float textureMod_986 = ((t0_973 * t1_978) * t2_983) * 4.0;
                        float depthScale_991 = 1.0 - clamp(vPosition.z * 0.00999999977648258209228515625, 0.0, 1.0);
                        float textureMod_992 = textureMod_986 * depthScale_991;
                        float height_995 = textureMod_992 * vColor.x;
                        float alpha_997 = textureMod_992 * vColor.w;
                        finalColor = vec4(height_995, 0.0, 0.0, alpha_997);
                    }
                }
            }
        }
    }
    bool _463 = finalColor.w < uAlphaTest;
    if (_463)
    {
        discard;
    }
    vec3 sunDir = _474.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _474.fogData.densityParams;
    arg.heightPlane = _474.fogData.heightPlane;
    arg.color_and_heightRate = _474.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _474.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _474.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _474.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _474.fogData.sunPercentage;
    vec3 param = finalColor.xyz;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = _266.uPixelShaderv.y;
    vec3 _510 = makeFog(arg, param, param_1, param_2, param_3);
    finalColor = vec4(_510.x, _510.y, _510.z, finalColor.w);
    outputColor = finalColor;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _43;

layout(location = 0) in vec3 aPosition;
out vec4 vColor;
layout(location = 1) in vec4 aColor;
out vec2 vTexcoord0;
layout(location = 2) in vec2 aTexcoord0;
out vec2 vTexcoord1;
layout(location = 3) in vec2 aTexcoord1;
out vec2 vTexcoord2;
layout(location = 4) in vec2 aTexcoord2;
out vec3 vPosition;

void main()
{
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    vColor = aColor;
    vTexcoord0 = aTexcoord0;
    vTexcoord1 = aTexcoord1;
    vTexcoord2 = aTexcoord2;
    vec4 vertexViewSpace = _43.scene.uLookAtMat * aPositionVec4;
    vPosition = vertexViewSpace.xyz;
    gl_Position = _43.scene.uPMatrix * vertexViewSpace;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct LocalLight
{
    vec4 color;
    vec4 position;
    vec4 attenuation;
};

layout(std140) uniform meshWideBlockPS
{
    ivec4 PixelShader_UnFogged_IsAffectedByLight_blendMode;
    vec4 uFogColorAndAlphaTest;
    vec4 uTexSampleAlpha;
    vec4 uPcColor;
} _461;

layout(std140) uniform modelWideBlockPS
{
    InteriorLightParam intLight;
    LocalLight pc_lights[4];
    ivec4 lightCountAndBcHack;
    vec4 interiorExteriorBlend;
} _484;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _523;

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
} _531;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;
uniform sampler2D uTexture4;

in vec2 vTexCoord;
in vec2 vTexCoord2;
in vec2 vTexCoord3;
in vec4 vDiffuseColor;
in vec3 vPosition;
in vec3 vNormal;
layout(location = 0) out vec4 outputColor;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 texCoord = vTexCoord;
    vec2 texCoord2 = vTexCoord2;
    vec2 texCoord3 = vTexCoord3;
    vec4 tex = texture(uTexture, texCoord);
    vec4 tex2 = texture(uTexture2, texCoord2);
    vec4 tex3 = texture(uTexture3, texCoord3);
    vec4 tex2WithTextCoord1 = texture(uTexture2, texCoord);
    vec4 tex3WithTextCoord1 = texture(uTexture3, texCoord);
    vec4 tex4WithTextCoord2 = texture(uTexture4, texCoord2);
    vec4 finalColor = vec4(0.0);
    vec4 meshResColor = vDiffuseColor;
    bool _465 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.z == 1;
    vec3 accumLight;
    if (_465)
    {
        vec3 vPos3 = vPosition;
        vec3 vNormal3 = normalize(vNormal);
        vec3 lightColor = vec3(0.0);
        int count = int(_484.pc_lights[0].attenuation.w);
        LocalLight lightRecord;
        for (int index = 0; index < 4; index++)
        {
            bool _500 = index >= _484.lightCountAndBcHack.x;
            if (_500)
            {
                break;
            }
            lightRecord.color = _484.pc_lights[index].color;
            lightRecord.position = _484.pc_lights[index].position;
            lightRecord.attenuation = _484.pc_lights[index].attenuation;
            vec3 vectorToLight = (_523.scene.uLookAtMat * (_531.uPlacementMat * lightRecord.position)).xyz - vPos3;
            float distanceToLightSqr = dot(vectorToLight, vectorToLight);
            float distanceToLightInv = inversesqrt(distanceToLightSqr);
            float distanceToLight = distanceToLightSqr * distanceToLightInv;
            float diffuseTerm1 = max(dot(vectorToLight, vNormal3) * distanceToLightInv, 0.0);
            vec4 attenuationRec = lightRecord.attenuation;
            float attenuation = 1.0 - clamp((distanceToLight - attenuationRec.x) * (1.0 / (attenuationRec.z - attenuationRec.x)), 0.0, 1.0);
            vec3 attenuatedColor = lightRecord.color.xyz * attenuation;
            lightColor += vec3((attenuatedColor * attenuatedColor) * diffuseTerm1);
        }
        vec3 _598 = clamp(lightColor, vec3(0.0), vec3(1.0));
        meshResColor = vec4(_598.x, _598.y, _598.z, meshResColor.w);
        accumLight = mix(lightColor, meshResColor.xyz, vec3(float(_484.lightCountAndBcHack.y)));
    }
    float finalOpacity = 0.0;
    vec3 specular = vec3(0.0);
    vec3 visParams = vec3(1.0);
    vec4 genericParams[3];
    genericParams[0] = vec4(1.0);
    genericParams[1] = vec4(1.0);
    genericParams[2] = vec4(1.0);
    int uPixelShader = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.x;
    bool _624 = uPixelShader == 0;
    vec3 matDiffuse;
    float opacity;
    #if (FRAGMENTSHADER == 0)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _645 = uPixelShader == 1;
    #if (FRAGMENTSHADER == 1)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _665 = uPixelShader == 2;
    #if (FRAGMENTSHADER == 2)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = tex2.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _688 = uPixelShader == 3;
    #if (FRAGMENTSHADER == 3)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = (tex2.w * 2.0) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _713 = uPixelShader == 4;
    #if (FRAGMENTSHADER == 4)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _734 = uPixelShader == 5;
    #if (FRAGMENTSHADER == 5)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _754 = uPixelShader == 6;
    #if (FRAGMENTSHADER == 6)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = (tex.w * tex2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _781 = uPixelShader == 7;
    #if (FRAGMENTSHADER == 7)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = ((tex.w * tex2.w) * 2.0) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _810 = uPixelShader == 8;
    #if (FRAGMENTSHADER == 8)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + tex2.w) * vDiffuseColor.w;
    specular = tex2.xyz;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _836 = uPixelShader == 9;
    #if (FRAGMENTSHADER == 9)
    matDiffuse = (((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz) * 2.0;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _861 = uPixelShader == 10;
    #if (FRAGMENTSHADER == 10)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = tex2.xyz;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _884 = uPixelShader == 11;
    #if (FRAGMENTSHADER == 11)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _908 = uPixelShader == 12;
    #if (FRAGMENTSHADER == 12)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _935 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = tex2.xyz * tex2.w;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _958 = uPixelShader == 14;
    #if (FRAGMENTSHADER == 14)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = (tex2.xyz * tex2.w) * (1.0 - tex.w);
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _985 = uPixelShader == 15;
    #if (FRAGMENTSHADER == 15)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w));
    specular = (tex3.xyz * tex3.w) * _461.uTexSampleAlpha.z;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1021 = uPixelShader == 16;
    #if (FRAGMENTSHADER == 16)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = tex2.xyz * tex2.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1047 = uPixelShader == 17;
    #if (FRAGMENTSHADER == 17)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + (tex2.w * (((0.300000011920928955078125 * tex2.x) + (0.589999973773956298828125 * tex2.y)) + (0.10999999940395355224609375 * tex2.z)))) * vDiffuseColor.w;
    specular = (tex2.xyz * tex2.w) * (1.0 - tex.w);
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1095 = uPixelShader == 18;
    #if (FRAGMENTSHADER == 18)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex.xyz, tex2.xyz, vec3(tex2.w)), tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1125 = uPixelShader == 19;
    #if (FRAGMENTSHADER == 19)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(tex3.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1153 = uPixelShader == 20;
    #if (FRAGMENTSHADER == 20)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    specular = (tex2.xyz * tex2.w) * _461.uTexSampleAlpha.y;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1179 = uPixelShader == 21;
    #if (FRAGMENTSHADER == 21)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w + tex2.w) * vDiffuseColor.w;
    specular = tex2.xyz * (1.0 - tex.w);
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1209 = uPixelShader == 22;
    #if (FRAGMENTSHADER == 22)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * tex2.xyz, tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1236 = uPixelShader == 23;
    #if (FRAGMENTSHADER == 23)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = tex.w * vDiffuseColor.w;
    specular = (tex2.xyz * tex2.w) * _461.uTexSampleAlpha.y;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1265 = uPixelShader == 24;
    #if (FRAGMENTSHADER == 24)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz, tex2.xyz, vec3(tex2.w));
    specular = (tex.xyz * tex.w) * _461.uTexSampleAlpha.x;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1297 = uPixelShader == 25;
    #if (FRAGMENTSHADER == 25)
    float glowOpacity = clamp(tex3.w * _461.uTexSampleAlpha.z, 0.0, 1.0);
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * mix((tex.xyz * tex2.xyz) * 2.0, tex.xyz, vec3(tex.w))) * (1.0 - glowOpacity);
    specular = tex3.xyz * glowOpacity;
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1339 = uPixelShader == 26;
    #if (FRAGMENTSHADER == 26)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).xyz;
    opacity = mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1384 = uPixelShader == 27;
    #if (FRAGMENTSHADER == 27)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(tex3.w)), tex.xyz, vec3(tex.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1418 = uPixelShader == 28;
    #if (FRAGMENTSHADER == 28)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).xyz;
    opacity = (mix(mix(tex, tex2WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.y, 0.0, 1.0))), tex3WithTextCoord1, vec4(clamp(_461.uTexSampleAlpha.z, 0.0, 1.0))).w * tex4WithTextCoord2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1466 = uPixelShader == 29;
    #if (FRAGMENTSHADER == 29)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz, tex2.xyz, vec3(tex2.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1490 = uPixelShader == 30;
    #if (FRAGMENTSHADER == 30)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w)), tex3.xyz * genericParams[2].xyz, vec3(tex3.w));
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1535 = uPixelShader == 31;
    #if (FRAGMENTSHADER == 31)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w));
    opacity = tex.w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1570 = uPixelShader == 32;
    #if (FRAGMENTSHADER == 32)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * mix(tex.xyz * mix(genericParams[0].xyz, tex2.xyz * genericParams[1].xyz, vec3(tex2.w)), tex3.xyz * genericParams[2].xyz, vec3(tex3.w));
    opacity = vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1612 = uPixelShader == 33;
    #if (FRAGMENTSHADER == 33)
    matDiffuse = (vDiffuseColor.xyz * 2.0) * tex.xyz;
    opacity = (tex.w * vDiffuseColor.w) * visParams.x;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1636 = uPixelShader == 34;
    #if (FRAGMENTSHADER == 34)
    finalColor = vec4(1.0);
    #endif
    bool _1642 = uPixelShader == 35;
    #if (FRAGMENTSHADER == 35)
    vec4 pc_channelScaler = vec4(1.0);
    matDiffuse = (vDiffuseColor.xyz * 2.0) * (((tex * tex2) * tex3) * pc_channelScaler).xyz;
    opacity = (((tex * tex2) * tex3) * pc_channelScaler).w * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    bool _1676 = uPixelShader == 36;
    #if (FRAGMENTSHADER == 36)
    matDiffuse = ((vDiffuseColor.xyz * 2.0) * tex.xyz) * tex2.xyz;
    opacity = (tex.w * tex2.w) * vDiffuseColor.w;
    finalOpacity = opacity * visParams.x;
    #endif
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.z > 0;
    float param_3 = _484.interiorExteriorBlend.x;
    SceneWideParams param_4;
    param_4.uLookAtMat = _523.scene.uLookAtMat;
    param_4.uPMatrix = _523.scene.uPMatrix;
    param_4.uViewUp = _523.scene.uViewUp;
    param_4.uInteriorSunDir = _523.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _523.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _523.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _523.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _523.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _523.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _484.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _484.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = accumLight;
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vec3(0.0), specular), finalOpacity);
    bool _1758 = finalColor.w < _461.uFogColorAndAlphaTest.w;
    if (_1758)
    {
        discard;
    }
    int uUnFogged = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.y;
    bool _1766 = uUnFogged == 0;
    if (_1766)
    {
        vec3 sunDir = mix(_523.scene.uInteriorSunDir, _523.scene.extLight.uExteriorDirectColorDir, vec4(_484.interiorExteriorBlend.x)).xyz;
        PSFog arg;
        arg.densityParams = _523.fogData.densityParams;
        arg.heightPlane = _523.fogData.heightPlane;
        arg.color_and_heightRate = _523.fogData.color_and_heightRate;
        arg.heightDensity_and_endColor = _523.fogData.heightDensity_and_endColor;
        arg.sunAngle_and_sunColor = _523.fogData.sunAngle_and_sunColor;
        arg.heightColor_and_endFogDistance = _523.fogData.heightColor_and_endFogDistance;
        arg.sunPercentage = _523.fogData.sunPercentage;
        vec3 param_7 = finalColor.xyz;
        vec3 param_8 = vPosition;
        vec3 param_9 = sunDir;
        int param_10 = _461.PixelShader_UnFogged_IsAffectedByLight_blendMode.w;
        vec3 _1811 = makeFog(arg, param_7, param_8, param_9, param_10);
        finalColor = vec4(_1811.x, _1811.y, _1811.z, finalColor.w);
    }
    outputColor = finalColor;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
} _133;

layout(std140) uniform meshWideBlockVS
{
    ivec4 vertexShader_IsAffectedByLight;
    vec4 color_Transparency;
    mat4 uTextMat[2];
} _230;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _240;

layout(location = 0) in vec3 aPosition;
layout(location = 3) in vec4 boneWeights;
layout(location = 2) in vec4 bones;
layout(location = 1) in vec3 aNormal;
out vec2 vTexCoord2;
out vec2 vTexCoord3;
out vec4 vDiffuseColor;
out vec2 vTexCoord;
layout(location = 4) in vec2 aTexCoord;
layout(location = 5) in vec2 aTexCoord2;
out vec3 vNormal;
out vec3 vPosition;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

vec2 posToTexCoord(vec3 cameraPoint, vec3 normal)
{
    vec3 normPos_495 = normalize(cameraPoint);
    vec3 temp_500 = normPos_495 - (normal * (2.0 * dot(normPos_495, normal)));
    vec3 temp_657 = vec3(temp_500.x, temp_500.y, temp_500.z + 1.0);
    return (normalize(temp_657).xy * 0.5) + vec2(0.5);
}

float edgeScan(vec3 position, vec3 normal)
{
    float dotProductClamped = clamp(dot(-normalize(position), normal), 0.0, 1.0);
    return clamp(((2.7000000476837158203125 * dotProductClamped) * dotProductClamped) - 0.4000000059604644775390625, 0.0, 1.0);
}

void main()
{
    vec4 modelPoint = vec4(0.0);
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    mat4 boneTransformMat = mat4(vec4(0.0), vec4(0.0), vec4(0.0), vec4(0.0));
    mat4 _143 = _133.uBoneMatrixes[bones.x] * boneWeights.x;
    boneTransformMat = mat4(boneTransformMat[0] + _143[0], boneTransformMat[1] + _143[1], boneTransformMat[2] + _143[2], boneTransformMat[3] + _143[3]);
    mat4 _164 = _133.uBoneMatrixes[bones.y] * boneWeights.y;
    boneTransformMat = mat4(boneTransformMat[0] + _164[0], boneTransformMat[1] + _164[1], boneTransformMat[2] + _164[2], boneTransformMat[3] + _164[3]);
    mat4 _185 = _133.uBoneMatrixes[bones.z] * boneWeights.z;
    boneTransformMat = mat4(boneTransformMat[0] + _185[0], boneTransformMat[1] + _185[1], boneTransformMat[2] + _185[2], boneTransformMat[3] + _185[3]);
    mat4 _207 = _133.uBoneMatrixes[bones.w] * boneWeights.w;
    boneTransformMat = mat4(boneTransformMat[0] + _207[0], boneTransformMat[1] + _207[1], boneTransformMat[2] + _207[2], boneTransformMat[3] + _207[3]);
    mat4 placementMat = _133.uPlacementMat;
    vec4 lDiffuseColor = _230.color_Transparency;
    mat4 cameraMatrix = (_240.scene.uLookAtMat * placementMat) * boneTransformMat;
    vec4 cameraPoint = cameraMatrix * aPositionVec4;
    mat4 param = _240.scene.uLookAtMat;
    mat4 param_1 = placementMat;
    mat4 param_2 = boneTransformMat;
    mat3 viewModelMatTransposed = (blizzTranspose(param) * blizzTranspose(param_1)) * blizzTranspose(param_2);
    vec3 normal = normalize(viewModelMatTransposed * aNormal);
    vec4 combinedColor = clamp(lDiffuseColor, vec4(0.0), vec4(1.0));
    vec4 combinedColorHalved = combinedColor * 0.5;
    vec3 param_3 = cameraPoint.xyz;
    vec3 param_4 = normal;
    vec2 envCoord = posToTexCoord(param_3, param_4);
    vec3 param_5 = cameraPoint.xyz;
    vec3 param_6 = normal;
    float edgeScanVal = edgeScan(param_5, param_6);
    vTexCoord2 = vec2(0.0);
    vTexCoord3 = vec2(0.0);
    int uVertexShader = _230.vertexShader_IsAffectedByLight.x;
    bool _305 = uVertexShader == 0;
    #if (VERTEXSHADER == 0)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _332 = uVertexShader == 1;
    #if (VERTEXSHADER == 1)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    #endif
    bool _347 = uVertexShader == 2;
    #if (VERTEXSHADER == 2)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _379 = uVertexShader == 3;
    #if (VERTEXSHADER == 3)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    #endif
    bool _403 = uVertexShader == 4;
    #if (VERTEXSHADER == 4)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _427 = uVertexShader == 5;
    #if (VERTEXSHADER == 5)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = envCoord;
    vTexCoord2 = envCoord;
    #endif
    bool _444 = uVertexShader == 6;
    #if (VERTEXSHADER == 6)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _476 = uVertexShader == 7;
    #if (VERTEXSHADER == 7)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _507 = uVertexShader == 8;
    #if (VERTEXSHADER == 8)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _546 = uVertexShader == 9;
    #if (VERTEXSHADER == 9)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _571 = uVertexShader == 10;
    #if (VERTEXSHADER == 10)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _594 = uVertexShader == 11;
    #if (VERTEXSHADER == 11)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = envCoord;
    vTexCoord3 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _626 = uVertexShader == 12;
    #if (VERTEXSHADER == 12)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    #endif
    bool _659 = uVertexShader == 13;
    #if (VERTEXSHADER == 13)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w * edgeScanVal);
    vTexCoord = envCoord;
    #endif
    bool _677 = uVertexShader == 14;
    #if (VERTEXSHADER == 14)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord3 = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _716 = uVertexShader == 15;
    #if (VERTEXSHADER == 15)
    vDiffuseColor = vec4(combinedColorHalved.x, combinedColorHalved.y, combinedColorHalved.z, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    vTexCoord2 = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord3 = vTexCoord3;
    #endif
    bool _748 = uVertexShader == 16;
    #if (VERTEXSHADER == 16)
    vec4 in_col0 = vec4(1.0);
    vDiffuseColor = vec4((in_col0.xyz * 0.5).x, (in_col0.xyz * 0.5).y, (in_col0.xyz * 0.5).z, in_col0.w);
    vTexCoord = (_230.uTextMat[1] * vec4(aTexCoord2, 0.0, 1.0)).xy;
    vTexCoord2 = vec2(0.0);
    vTexCoord3 = vTexCoord3;
    #endif
    bool _780 = uVertexShader == 17;
    #if (VERTEXSHADER == 17)
    vDiffuseColor = vec4(combinedColor.xyz * 0.5, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    bool _803 = uVertexShader == 18;
    #if (VERTEXSHADER == 18)
    vDiffuseColor = vec4(combinedColor.xyz * 0.5, combinedColor.w);
    vTexCoord = (_230.uTextMat[0] * vec4(aTexCoord, 0.0, 1.0)).xy;
    #endif
    gl_Position = _240.scene.uPMatrix * cameraPoint;
    vNormal = normal;
    vPosition = cameraPoint.xyz;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct LocalLight
{
    vec4 color;
    vec4 position;
    vec4 attenuation;
};

layout(std140) uniform meshWideBlockPS
{
    ivec4 PixelShader_UnFogged_IsAffectedByLight_blendMode;
    vec4 uFogColorAndAlphaTest;
    vec4 uPcColor;
} _448;

layout(std140) uniform modelWideBlockPS
{
    InteriorLightParam intLight;
    LocalLight pc_lights[4];
    ivec4 lightCountAndBcHack;
    vec4 interiorExteriorBlend;
} _471;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _510;

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
    mat4 uBoneMatrixes[220];
} _518;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;
uniform sampler2D uTexture4;

in vec2 vTexCoord;
in vec2 vTexCoord2;
in vec2 vTexCoord3;
in vec4 vDiffuseColor;
in vec3 vPosition;
in vec3 vNormal;
layout(location = 0) out vec4 outputColor;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec2 texCoord = vTexCoord;
    vec2 texCoord2 = vTexCoord2;
    vec2 texCoord3 = vTexCoord3;
    vec4 tex = texture(uTexture, texCoord);
    vec4 tex2 = texture(uTexture2, texCoord2);
    vec4 tex3 = texture(uTexture3, texCoord3);
    vec4 finalColor = vec4(0.0);
    vec4 meshResColor = vDiffuseColor;
    bool _452 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.z == 1;
    vec3 accumLight;
    if (_452)
    {
        vec3 vPos3 = vPosition;
        vec3 vNormal3 = normalize(vNormal);
        vec3 lightColor = vec3(0.0);
        int count = int(_471.pc_lights[0].attenuation.w);
        LocalLight lightRecord;
        for (int index = 0; index < 4; index++)
        {
            bool _487 = index >= _471.lightCountAndBcHack.x;
            if (_487)
            {
                break;
            }
            lightRecord.color = _471.pc_lights[index].color;
            lightRecord.position = _471.pc_lights[index].position;
            lightRecord.attenuation = _471.pc_lights[index].attenuation;
            vec3 vectorToLight = (_510.scene.uLookAtMat * (_518.uPlacementMat * lightRecord.position)).xyz - vPos3;
            float distanceToLightSqr = dot(vectorToLight, vectorToLight);
            float distanceToLightInv = inversesqrt(distanceToLightSqr);
            float distanceToLight = distanceToLightSqr * distanceToLightInv;
            float diffuseTerm1 = max(dot(vectorToLight, vNormal3) * distanceToLightInv, 0.0);
            vec4 attenuationRec = lightRecord.attenuation;
            float attenuation = 1.0 - clamp((distanceToLight - attenuationRec.x) * (1.0 / (attenuationRec.z - attenuationRec.x)), 0.0, 1.0);
            vec3 attenuatedColor = lightRecord.color.xyz * attenuation;
            lightColor += vec3((attenuatedColor * attenuatedColor) * diffuseTerm1);
        }
        vec3 _585 = clamp(lightColor, vec3(0.0), vec3(1.0));
        meshResColor = vec4(_585.x, _585.y, _585.z, meshResColor.w);
        accumLight = mix(lightColor, meshResColor.xyz, vec3(float(_471.lightCountAndBcHack.y)));
    }
    float finalOpacity = 0.0;
    vec3 specular = vec3(0.0);
    vec3 matDiffuse;
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.z > 0;
    float param_3 = _471.interiorExteriorBlend.x;
    SceneWideParams param_4;
    param_4.uLookAtMat = _510.scene.uLookAtMat;
    param_4.uPMatrix = _510.scene.uPMatrix;
    param_4.uViewUp = _510.scene.uViewUp;
    param_4.uInteriorSunDir = _510.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _510.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _510.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _510.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _510.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _510.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _471.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _471.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = accumLight;
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vec3(0.0), specular), finalOpacity);
    bool _658 = finalColor.w < _448.uFogColorAndAlphaTest.w;
    if (_658)
    {
        discard;
    }
    int uUnFogged = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.y;
    bool _666 = uUnFogged == 0;
    if (_666)
    {
        vec3 sunDir = mix(_510.scene.uInteriorSunDir, _510.scene.extLight.uExteriorDirectColorDir, vec4(_471.interiorExteriorBlend.x)).xyz;
        PSFog arg;
        arg.densityParams = _510.fogData.densityParams;
        arg.heightPlane = _510.fogData.heightPlane;
        arg.color_and_heightRate = _510.fogData.color_and_heightRate;
        arg.heightDensity_and_endColor = _510.fogData.heightDensity_and_endColor;
        arg.sunAngle_and_sunColor = _510.fogData.sunAngle_and_sunColor;
        arg.heightColor_and_endFogDistance = _510.fogData.heightColor_and_endFogDistance;
        arg.sunPercentage = _510.fogData.sunPercentage;
        vec3 param_7 = finalColor.xyz;
        vec3 param_8 = vPosition;
        vec3 param_9 = sunDir;
        int param_10 = _448.PixelShader_UnFogged_IsAffectedByLight_blendMode.w;
        vec3 _711 = makeFog(arg, param_7, param_8, param_9, param_10);
        finalColor = vec4(_711.x, _711.y, _711.z, finalColor.w);
    }
    outputColor = finalColor;
}


#version 330

layout(std140) uniform meshWideBlockPS
{
    float gauss_offsets[5];
    float gauss_weights[5];
    vec2 uResolution;
} _34;

uniform sampler2D u_sampler;
uniform sampler2D u_depth;

in vec2 v_texcoord;
layout(location = 0) out vec4 outputColor;

void main()
{
    float FXAA_SPAN_MAX = 8.0;
    float FXAA_REDUCE_MUL = 0.125;
    float FXAA_REDUCE_MIN = 0.0078125;
    vec3 rgbNW = texture(u_sampler, v_texcoord + (vec2(-1.0) / _34.uResolution)).xyz;
    vec3 rgbNE = texture(u_sampler, v_texcoord + (vec2(1.0, -1.0) / _34.uResolution)).xyz;
    vec3 rgbSW = texture(u_sampler, v_texcoord + (vec2(-1.0, 1.0) / _34.uResolution)).xyz;
    vec3 rgbSE = texture(u_sampler, v_texcoord + (vec2(1.0) / _34.uResolution)).xyz;
    vec3 rgbM = texture(u_sampler, v_texcoord).xyz;
    vec3 luma = vec3(0.2989999949932098388671875, 0.58700001239776611328125, 0.114000000059604644775390625);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM = dot(rgbM, luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y = (lumaNW + lumaSW) - (lumaNE + lumaSE);
    float dirReduce = max((((lumaNW + lumaNE) + lumaSW) + lumaSE) * (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX), max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) / _34.uResolution;
    vec3 rgbA = (texture(u_sampler, v_texcoord + (dir * (-0.16666667163372039794921875))).xyz + texture(u_sampler, v_texcoord + (dir * 0.16666667163372039794921875)).xyz) * 0.5;
    vec3 rgbB = (rgbA * 0.5) + ((texture(u_sampler, v_texcoord + (dir * (-0.5))).xyz + texture(u_sampler, v_texcoord + (dir * 0.5)).xyz) * 0.25);
    float lumaB = dot(rgbB, luma);
    bool _240 = (lumaB < lumaMin) || (lumaB > lumaMax);
    if (_240)
    {
        outputColor = vec4(rgbA.x, rgbA.y, rgbA.z, outputColor.w);
    }
    else
    {
        outputColor = vec4(rgbB.x, rgbB.y, rgbB.z, outputColor.w);
    }
}


#version 330
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

layout(location = 0) in vec4 a_position;
out vec2 v_texcoord;

void main()
{
    gl_Position = a_position;
    v_texcoord = (a_position.xy * 0.5) + vec2(0.5);
}


#version 330

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _275;

layout(std140) uniform meshWideBlockPS
{
    vec4 uAlphaTestv;
    ivec4 uPixelShaderv;
} _288;

uniform sampler2D uTexture;

in vec2 vTexcoord0;
in vec4 vColor;
in vec3 vPosition;
layout(location = 0) out vec4 outputColor;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture(uTexture, vTexcoord0);
    vec4 finalColor = vec4(vColor.xyz * tex.xyz, tex.w * vColor.w);
    vec3 sunDir = _275.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _275.fogData.densityParams;
    arg.heightPlane = _275.fogData.heightPlane;
    arg.color_and_heightRate = _275.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _275.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _275.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _275.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _275.fogData.sunPercentage;
    vec3 param = finalColor.xyz;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = _288.uPixelShaderv.y;
    vec3 _318 = makeFog(arg, param, param_1, param_2, param_3);
    finalColor = vec4(_318.x, _318.y, _318.z, finalColor.w);
    outputColor = finalColor;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _37;

layout(location = 0) in vec3 aPosition;
out vec4 vColor;
layout(location = 1) in vec4 aColor;
out vec2 vTexcoord0;
layout(location = 2) in vec2 aTexcoord0;
out vec3 vPosition;

void main()
{
    vec4 aPositionVec4 = vec4(aPosition, 1.0);
    vColor = aColor;
    vTexcoord0 = aTexcoord0;
    vec4 vertexViewSpace = _37.scene.uLookAtMat * aPositionVec4;
    vPosition = vertexViewSpace.xyz;
    gl_Position = _37.scene.uPMatrix * vertexViewSpace;
}


#version 330
#ifdef GL_ARB_shading_language_420pack
#extension GL_ARB_shading_language_420pack : require
#endif

layout(location = 0) out vec4 outputColor;
in vec4 vColor;

void main()
{
    outputColor = vec4(vColor.xyz, vColor.w);
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _26;

layout(std140) uniform meshWideBlockVS
{
    vec4 skyColor[6];
} _67;

layout(location = 0) in vec4 aPosition;
out vec4 vColor;

void main()
{
    vec3 inputPos = aPosition.xyz;
    inputPos *= 33.33300018310546875;
    vec4 cameraPos = _26.scene.uLookAtMat * vec4(inputPos, 1.0);
    vec3 _46 = cameraPos.xyz - _26.scene.uLookAtMat[3].xyz;
    cameraPos = vec4(_46.x, _46.y, _46.z, cameraPos.w);
    cameraPos.z = cameraPos.z;
    vec4 vertPosInNDC = _26.scene.uPMatrix * cameraPos;
    vColor = _67.skyColor[int(aPosition.w)];
    gl_Position = _26.scene.uPMatrix * cameraPos;
}


#version 330

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _36[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _43[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

layout(std140) uniform meshWideBlockPS
{
    vec4 color;
} _242;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _266;

uniform sampler2D uTexture;

in vec2 vTextCoords;
in vec3 vPosition;
layout(location = 0) out vec4 outputColor;

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _36[blendMode], vec3(_43[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _57 = blendMode == 13;
    if (_57)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _216 = nDotSun > 0.0;
    if (_216)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec3 finalColor = _242.color.xyz + texture(uTexture, vTextCoords).xyz;
    vec3 sunDir = _266.scene.extLight.uExteriorDirectColorDir.xyz;
    PSFog arg;
    arg.densityParams = _266.fogData.densityParams;
    arg.heightPlane = _266.fogData.heightPlane;
    arg.color_and_heightRate = _266.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _266.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _266.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _266.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _266.fogData.sunPercentage;
    vec3 param = finalColor;
    vec3 param_1 = vPosition;
    vec3 param_2 = sunDir;
    int param_3 = 2;
    finalColor = makeFog(arg, param, param_1, param_2, param_3);
    outputColor = vec4(finalColor, 0.699999988079071044921875);
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _28;

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
} _36;

layout(location = 0) in vec4 aPositionTransp;
out vec2 vTextCoords;
out vec3 vPosition;
layout(location = 1) in vec2 aTexCoord;

void main()
{
    vec4 aPositionVec4 = vec4(aPositionTransp.xyz, 1.0);
    mat4 cameraMatrix = _28.scene.uLookAtMat * _36.uPlacementMat;
    vec4 cameraPoint = cameraMatrix * aPositionVec4;
    vTextCoords = aPositionVec4.xy * 0.02999999932944774627685546875;
    gl_Position = _28.scene.uPMatrix * cameraPoint;
    vPosition = cameraPoint.xyz;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct InteriorLightParam
{
    vec4 uInteriorAmbientColorAndApplyInteriorLight;
    vec4 uInteriorDirectColorAndApplyExteriorLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

const vec3 _215[14] = vec3[](vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0), vec3(1.0), vec3(0.5), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.5), vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
const float _222[14] = float[](0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0);

layout(std140) uniform meshWideBlockPS
{
    ivec4 UseLitColor_EnableAlpha_PixelShader_BlendMode;
    vec4 FogColor_AlphaTest;
} _435;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _898;

layout(std140) uniform modelWideBlockPS
{
    InteriorLightParam intLight;
} _902;

uniform sampler2D uTexture;
uniform sampler2D uTexture2;
uniform sampler2D uTexture3;

in vec2 vTexCoord;
in vec2 vTexCoord2;
in vec2 vTexCoord3;
in vec4 vColor;
in vec4 vColor2;
in vec3 vNormal;
in vec4 vPosition;
layout(location = 0) out vec4 outputColor;

vec3 calcLight(vec3 matDiffuse, vec3 vNormal_1, bool applyLight, float interiorExteriorBlend, SceneWideParams sceneParams, InteriorLightParam intLight, vec3 accumLight, vec3 precomputedLight, vec3 specular)
{
    vec3 localDiffuse = accumLight;
    bool _50 = !applyLight;
    if (_50)
    {
        return matDiffuse;
    }
    vec3 lDiffuse = vec3(0.0);
    vec3 normalizedN = normalize(vNormal_1);
    bool _66 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
    vec3 currColor;
    if (_66)
    {
        float nDotL = clamp(dot(normalizedN, -sceneParams.extLight.uExteriorDirectColorDir.xyz), 0.0, 1.0);
        float nDotUp = dot(normalizedN, sceneParams.uViewUp.xyz);
        vec3 adjAmbient = sceneParams.extLight.uExteriorAmbientColor.xyz + precomputedLight;
        vec3 adjHorizAmbient = sceneParams.extLight.uExteriorHorizontAmbientColor.xyz + precomputedLight;
        vec3 adjGroundAmbient = sceneParams.extLight.uExteriorGroundAmbientColor.xyz + precomputedLight;
        bool _104 = nDotUp >= 0.0;
        if (_104)
        {
            currColor = mix(adjHorizAmbient, adjAmbient, vec3(nDotUp));
        }
        else
        {
            currColor = mix(adjHorizAmbient, adjGroundAmbient, vec3(-nDotUp));
        }
        vec3 skyColor = currColor * 1.10000002384185791015625;
        vec3 groundColor = currColor * 0.699999988079071044921875;
        lDiffuse = sceneParams.extLight.uExteriorDirectColor.xyz * nDotL;
        currColor = mix(groundColor, skyColor, vec3(0.5 + (0.5 * nDotL)));
    }
    bool _144 = intLight.uInteriorAmbientColorAndApplyInteriorLight.w > 0.0;
    if (_144)
    {
        float nDotL_1 = clamp(dot(normalizedN, -sceneParams.uInteriorSunDir.xyz), 0.0, 1.0);
        vec3 lDiffuseInterior = intLight.uInteriorDirectColorAndApplyExteriorLight.xyz * nDotL_1;
        vec3 interiorAmbient = intLight.uInteriorAmbientColorAndApplyInteriorLight.xyz + precomputedLight;
        bool _168 = intLight.uInteriorDirectColorAndApplyExteriorLight.w > 0.0;
        if (_168)
        {
            lDiffuse = mix(lDiffuseInterior, lDiffuse, vec3(interiorExteriorBlend));
            currColor = mix(interiorAmbient, currColor, vec3(interiorExteriorBlend));
        }
        else
        {
            lDiffuse = lDiffuseInterior;
            currColor = interiorAmbient;
        }
    }
    vec3 gammaDiffTerm = matDiffuse * (currColor + lDiffuse);
    vec3 linearDiffTerm = (matDiffuse * matDiffuse) * localDiffuse;
    vec3 specTerm = specular;
    vec3 emTerm = vec3(0.0);
    return (sqrt((gammaDiffTerm * gammaDiffTerm) + linearDiffTerm) + specTerm) + emTerm;
}

vec3 validateFogColor(vec3 fogColor, int blendMode)
{
    return mix(fogColor, _215[blendMode], vec3(_222[blendMode]));
}

vec3 makeFog(PSFog fogData, vec3 final, vec3 vertexInViewSpace, vec3 sunDirInViewSpace, int blendMode)
{
    bool _234 = blendMode == 13;
    if (_234)
    {
        return final;
    }
    vec4 l_densityParams = fogData.densityParams;
    vec4 l_heightPlane = fogData.heightPlane;
    vec4 l_color_and_heightRate = fogData.color_and_heightRate;
    vec4 l_heightDensity_and_endColor = fogData.heightDensity_and_endColor;
    float start = l_densityParams.x;
    float end = l_densityParams.y;
    float density = l_densityParams.z;
    float bias = l_densityParams.w;
    float vLength = length(vertexInViewSpace);
    float z = vLength - bias;
    float expMax = max(0.0, z - start);
    float expFog = 1.0 / exp(expMax * density);
    float expFogHeight = 1.0 / exp(expMax * l_heightDensity_and_endColor.x);
    float height = dot(l_heightPlane.xyz, vertexInViewSpace) + l_heightPlane.w;
    float heightFog = clamp(height * l_color_and_heightRate.w, 0.0, 1.0);
    float finalFog = mix(expFog, expFogHeight, heightFog);
    float endFadeFog = clamp(1.4285714626312255859375 * (1.0 - (vLength / end)), 0.0, 1.0);
    vec3 param = l_heightDensity_and_endColor.yzw;
    int param_1 = blendMode;
    vec3 endColor = validateFogColor(param, param_1);
    vec4 l_heightColor_and_endFogDistance = fogData.heightColor_and_endFogDistance;
    float end2 = vLength / l_heightColor_and_endFogDistance.w;
    float end2_cube = end2 * (end2 * end2);
    vec3 param_2 = l_heightColor_and_endFogDistance.xyz;
    int param_3 = blendMode;
    vec3 heightColor = mix(validateFogColor(param_2, param_3), endColor, vec3(clamp(end2, 0.0, 1.0)));
    vec3 param_4 = l_color_and_heightRate.xyz;
    int param_5 = blendMode;
    vec3 fogFinal = mix(validateFogColor(param_4, param_5), endColor, vec3(clamp(end2_cube, 0.0, 1.0)));
    fogFinal = mix(fogFinal, heightColor, vec3(heightFog));
    float nDotSun = dot(normalize(vertexInViewSpace), sunDirInViewSpace);
    vec3 param_6 = fogData.sunAngle_and_sunColor.yzw;
    int param_7 = blendMode;
    vec3 sunColor = mix(fogFinal, validateFogColor(param_6, param_7), vec3(fogData.sunPercentage.x));
    nDotSun = clamp(nDotSun - fogData.sunAngle_and_sunColor.x, 0.0, 1.0);
    bool _386 = nDotSun > 0.0;
    if (_386)
    {
        nDotSun = (nDotSun * nDotSun) * nDotSun;
        fogFinal = mix(fogFinal, sunColor, vec3(nDotSun));
    }
    fogFinal = mix(fogFinal, final, vec3(min(finalFog, endFadeFog)));
    return fogFinal;
}

void main()
{
    vec4 tex = texture(uTexture, vTexCoord);
    vec4 tex2 = texture(uTexture2, vTexCoord2);
    vec4 tex3 = texture(uTexture3, vTexCoord3);
    bool _439 = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.y == 1;
    if (_439)
    {
        bool _446 = (tex.w - 0.501960813999176025390625) < 0.0;
        if (_446)
        {
            discard;
        }
    }
    int uPixelShader = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.z;
    vec4 finalColor = vec4(0.0, 0.0, 0.0, 1.0);
    vec3 matDiffuse = vec3(0.0);
    vec3 env = vec3(0.0);
    float finalOpacity = 0.0;
    bool _460 = uPixelShader == (-1);
    #if (FRAGMENTSHADER == (-1))
    matDiffuse = (tex.xyz * vColor.xyz) + (tex2.xyz * vColor2.zyx);
    finalOpacity = tex.w;
    #endif
    bool _481 = uPixelShader == 0;
    #if (FRAGMENTSHADER == 0)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _496 = uPixelShader == 1;
    #if (FRAGMENTSHADER == 1)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _509 = uPixelShader == 2;
    #if (FRAGMENTSHADER == 2)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _522 = uPixelShader == 3;
    #if (FRAGMENTSHADER == 3)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = tex2.xyz * tex.w;
    finalOpacity = vColor.w;
    #endif
    bool _540 = uPixelShader == 4;
    #if (FRAGMENTSHADER == 4)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _553 = uPixelShader == 5;
    #if (FRAGMENTSHADER == 5)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = (tex.xyz * tex.w) * tex2.xyz;
    finalOpacity = vColor.w;
    #endif
    bool _574 = uPixelShader == 6;
    #if (FRAGMENTSHADER == 6)
    vec3 layer1 = tex.xyz;
    vec3 layer2 = mix(layer1, tex2.xyz, vec3(tex2.w));
    matDiffuse = (vColor.xyz * 2.0) * mix(layer2, layer1, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _603 = uPixelShader == 7;
    #if (FRAGMENTSHADER == 7)
    vec4 colorMix = mix(tex2, tex, vec4(vColor2.w));
    matDiffuse = colorMix.xyz * (vColor.xyz * 2.0);
    env = (colorMix.xyz * colorMix.w) * tex3.xyz;
    finalOpacity = vColor.w;
    #endif
    bool _632 = uPixelShader == 8;
    #if (FRAGMENTSHADER == 8)
    vec3 layer1_1 = tex.xyz;
    vec3 layer2_1 = tex2.xyz;
    matDiffuse = (vColor.xyz * 2.0) * mix(layer2_1, layer1_1, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _656 = uPixelShader == 9;
    #if (FRAGMENTSHADER == 9)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = (tex2.xyz * tex2.w) * vColor2.w;
    finalOpacity = vColor.w;
    #endif
    bool _678 = uPixelShader == 10;
    #if (FRAGMENTSHADER == 10)
    float mixFactor = clamp(tex3.w * vColor2.w, 0.0, 1.0);
    matDiffuse = (vColor.xyz * 2.0) * mix(mix((tex.xyz * tex2.xyz) * 2.0, tex3.xyz, vec3(mixFactor)), tex.xyz, vec3(tex.w));
    finalOpacity = vColor.w;
    #endif
    bool _714 = uPixelShader == 11;
    #if (FRAGMENTSHADER == 11)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    env = ((tex.xyz * tex.w) * tex2.xyz) + ((tex3.xyz * tex3.w) * vColor2.w);
    finalOpacity = vColor.w;
    #endif
    bool _745 = uPixelShader == 12;
    #if (FRAGMENTSHADER == 12)
    matDiffuse = (vColor.xyz * 2.0) * mix(tex2.xyz, tex.xyz, vec3(vColor2.w));
    finalOpacity = vColor.w;
    #endif
    bool _764 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    vec3 t1diffuse = tex2.xyz * (1.0 - tex2.w);
    matDiffuse = (vColor.xyz * 2.0) * mix(t1diffuse, tex.xyz, vec3(vColor2.w));
    env = (tex2.xyz * tex2.w) * (1.0 - vColor2.w);
    finalOpacity = vColor.w;
    #endif
    bool _798 = uPixelShader == 13;
    #if (FRAGMENTSHADER == 13)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _812 = uPixelShader == 14;
    #if (FRAGMENTSHADER == 14)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _826 = uPixelShader == 15;
    #if (FRAGMENTSHADER == 15)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _839 = uPixelShader == 16;
    #if (FRAGMENTSHADER == 16)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _852 = uPixelShader == 17;
    #if (FRAGMENTSHADER == 17)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _865 = uPixelShader == 18;
    #if (FRAGMENTSHADER == 18)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    bool _878 = uPixelShader == 19;
    #if (FRAGMENTSHADER == 19)
    matDiffuse = tex.xyz * (vColor.xyz * 2.0);
    finalOpacity = vColor.w;
    #endif
    vec3 param = matDiffuse;
    vec3 param_1 = vNormal;
    bool param_2 = true;
    float param_3 = vPosition.w;
    SceneWideParams param_4;
    param_4.uLookAtMat = _898.scene.uLookAtMat;
    param_4.uPMatrix = _898.scene.uPMatrix;
    param_4.uViewUp = _898.scene.uViewUp;
    param_4.uInteriorSunDir = _898.scene.uInteriorSunDir;
    param_4.extLight.uExteriorAmbientColor = _898.scene.extLight.uExteriorAmbientColor;
    param_4.extLight.uExteriorHorizontAmbientColor = _898.scene.extLight.uExteriorHorizontAmbientColor;
    param_4.extLight.uExteriorGroundAmbientColor = _898.scene.extLight.uExteriorGroundAmbientColor;
    param_4.extLight.uExteriorDirectColor = _898.scene.extLight.uExteriorDirectColor;
    param_4.extLight.uExteriorDirectColorDir = _898.scene.extLight.uExteriorDirectColorDir;
    InteriorLightParam param_5;
    param_5.uInteriorAmbientColorAndApplyInteriorLight = _902.intLight.uInteriorAmbientColorAndApplyInteriorLight;
    param_5.uInteriorDirectColorAndApplyExteriorLight = _902.intLight.uInteriorDirectColorAndApplyExteriorLight;
    vec3 param_6 = vec3(0.0);
    finalColor = vec4(calcLight(param, param_1, param_2, param_3, param_4, param_5, param_6, vColor2.xyz, vec3(0.0)), finalOpacity);
    bool _959 = finalColor.w < _435.FogColor_AlphaTest.w;
    if (_959)
    {
        discard;
    }
    PSFog arg;
    arg.densityParams = _898.fogData.densityParams;
    arg.heightPlane = _898.fogData.heightPlane;
    arg.color_and_heightRate = _898.fogData.color_and_heightRate;
    arg.heightDensity_and_endColor = _898.fogData.heightDensity_and_endColor;
    arg.sunAngle_and_sunColor = _898.fogData.sunAngle_and_sunColor;
    arg.heightColor_and_endFogDistance = _898.fogData.heightColor_and_endFogDistance;
    arg.sunPercentage = _898.fogData.sunPercentage;
    vec3 param_7 = finalColor.xyz;
    vec3 param_8 = vPosition.xyz;
    vec3 param_9 = _898.scene.extLight.uExteriorDirectColorDir.xyz;
    int param_10 = _435.UseLitColor_EnableAlpha_PixelShader_BlendMode.w;
    vec3 _998 = makeFog(arg, param_7, param_8, param_9, param_10);
    finalColor = vec4(_998.x, _998.y, _998.z, finalColor.w);
    finalColor.w = 1.0;
    outputColor = finalColor;
}


#version 330

struct SceneExteriorLight
{
    vec4 uExteriorAmbientColor;
    vec4 uExteriorHorizontAmbientColor;
    vec4 uExteriorGroundAmbientColor;
    vec4 uExteriorDirectColor;
    vec4 uExteriorDirectColorDir;
};

struct SceneWideParams
{
    mat4 uLookAtMat;
    mat4 uPMatrix;
    vec4 uViewUp;
    vec4 uInteriorSunDir;
    SceneExteriorLight extLight;
};

struct PSFog
{
    vec4 densityParams;
    vec4 heightPlane;
    vec4 color_and_heightRate;
    vec4 heightDensity_and_endColor;
    vec4 sunAngle_and_sunColor;
    vec4 heightColor_and_endFogDistance;
    vec4 sunPercentage;
};

layout(std140) uniform modelWideBlockVS
{
    mat4 uPlacementMat;
} _93;

layout(std140) uniform sceneWideBlockVSPS
{
    SceneWideParams scene;
    PSFog fogData;
} _111;

layout(std140) uniform meshWideBlockVS
{
    ivec4 VertexShader_UseLitColor;
} _182;

layout(location = 0) in vec3 aPosition;
out vec4 vPosition;
layout(location = 5) in vec4 aColor;
out vec3 vNormal;
layout(location = 1) in vec3 aNormal;
out vec4 vColor;
out vec4 vColor2;
layout(location = 6) in vec4 aColor2;
out vec2 vTexCoord;
layout(location = 2) in vec2 aTexCoord;
out vec2 vTexCoord2;
layout(location = 3) in vec2 aTexCoord2;
out vec2 vTexCoord3;
layout(location = 4) in vec2 aTexCoord3;

mat3 blizzTranspose(mat4 value)
{
    return mat3(vec3(value[0].xyz), vec3(value[1].xyz), vec3(value[2].xyz));
}

vec2 posToTexCoord(vec3 cameraPoint, vec3 normal)
{
    vec3 normPos_495 = normalize(cameraPoint);
    vec3 temp_500 = normPos_495 - (normal * (2.0 * dot(normPos_495, normal)));
    vec3 temp_657 = vec3(temp_500.x, temp_500.y, temp_500.z + 1.0);
    return (normalize(temp_657).xy * 0.5) + vec2(0.5);
}

void main()
{
    vec4 worldPoint = _93.uPlacementMat * vec4(aPosition, 1.0);
    vec4 cameraPoint = _111.scene.uLookAtMat * worldPoint;
    mat4 viewModelMat = _111.scene.uLookAtMat * _93.uPlacementMat;
    mat4 param = _111.scene.uLookAtMat;
    mat4 param_1 = _93.uPlacementMat;
    mat3 viewModelMatTransposed = blizzTranspose(param) * blizzTranspose(param_1);
    gl_Position = _111.scene.uPMatrix * cameraPoint;
    vPosition = vec4(cameraPoint.xyz, aColor.w);
    vNormal = normalize(viewModelMatTransposed * aNormal);
    vColor = vec4(0.5, 0.499989986419677734375, 0.5, 1.0);
    vColor2 = vec4(aColor.zyx * 2.0, aColor2.w);
    int uVertexShader = _182.VertexShader_UseLitColor.x;
    #if (VERTEXSHADER == (-1))
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 0)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 1)
    vTexCoord = aTexCoord;
    vTexCoord2 = reflect(normalize(cameraPoint.xyz), vNormal).xy;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 2)
    vTexCoord = aTexCoord;
    vec3 param_2 = vPosition.xyz;
    vec3 param_3 = vNormal;
    vTexCoord2 = posToTexCoord(param_2, param_3);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 3)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 4)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 5)
    vTexCoord = aTexCoord;
    vTexCoord2 = aTexCoord2;
    vTexCoord3 = reflect(normalize(cameraPoint.xyz), vNormal).xy;
    #endif
    #if (VERTEXSHADER == 6)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 7)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
    #if (VERTEXSHADER == 8)
    vTexCoord = aTexCoord;
    vTexCoord2 = vPosition.xy * (-0.23999999463558197021484375);
    vTexCoord3 = aTexCoord3;
    #endif
}


#   
                   GLSL.std.450                     main       W                      
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   TextureCoords        vChunkCoords         texDiffuse       uDiffuseTexture   !   matDiffuse    $   vNormal   &   uNormalTexture    :   finalColor    =   fogColor      ?   modelWideBlockPS      ?       uViewUp   ?      uSunDir_FogStart      ?      uSunColor_uFogEnd     ?      uAmbientLight     ?      FogColor      ?      uNewFormula   A         G   fog_start     M   fog_end   Q   fog_rate      S   fog_bias      U   distanceToCamera      W   vPosition     Z   z_depth   ^   expFog    g   heightFog     k   endFadeFog       fragColor   G            G     "       G     !      G  &   "       G  &   !      H  ?       #       H  ?      #      H  ?      #       H  ?      #   0   H  ?      #   @   H  ?      #   P   G  ?      G  A   "       G  A   !       G  W         G                 !                                           
         ;  
                      +                        +                                   	                                                  ;                                    +     %      @;     &       +     ,     ?+     /         0         +     ;       ,     <   ;   ;   ;   ,     >            ?                  >      @      ?   ;  @   A      +  >   B         C         +  >   H      +     I         J         +  >   N      +     R     ?+     T   
#<   V         ;  V   W      +     o   333?            ;           6                    ;     	      ;           ;      !      ;      $      ;     :      ;      =      ;  0   G      ;  0   M      ;  0   Q      ;  0   S      ;  0   U      ;  0   Z      ;  0   ^      ;  0   g      ;  0   k      A              =           A              =           P              >  	      =           =        	   W              >        =     "      O     #   "   "             >  !   #   =     '   &   =     (   	   W     )   '   (   O     *   )   )                  +   *   %   P     -   ,   ,   ,        .   +   -   >  $   .   A  0   1   $   /   =     2   1        3   2   A  0   4   $      =     5   4        6   5   A  0   7   $      =     8   7   P     9   3   6   8   >  $   9   >  :   <   A  C   D   A   B   =     E   D   O     F   E   E             >  =   F   A  J   K   A   H   I   =     L   K   >  G   L   A  J   O   A   N   I   =     P   O   >  M   P   >  Q   R   >  S   T   =     X   W        Y      B   X   >  U   Y   =     [   U   =     \   S        ]   [   \   >  Z   ]   =     _   Z   =     `   G        a   _   `        b      (   ;   a   =     c   Q        d   b   c        e         d        f   ,   e   >  ^   f   >  g   ,   =     h   ^   =     i   g        j   h   i   >  ^   j   =     l   M   =     m   U        n   l   m   =     p   M        q   o   p        r   n   q        s      +   r   ;   ,   >  k   s   =     t   =   =     u   :   O     v   u   u             =     w   ^   =     x   k        y      %   w   x   P     z   y   y   y        {      .   t   v   z   =     |   :   O 	    }   |   {               >  :   }   A  0   ~   :   I   >  ~   ,   =        :   >          8  #   
  l                 GLSL.std.450              
        main    
   I   O   V   a           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         stepX     
   aIndex       division         offset       iX    &   iY    2   worldPoint    5   modelWideBlockVS      5       uPos      5      uLookAtMat    5      uPMatrix      7         I   aHeight   O   vChunkCoords      V   vPosition     _   gl_PerVertex      _       gl_Position   _      gl_PointSize      _      gl_ClipDistance   _      gl_CullDistance   a       G  
         H  5       #       H  5         H  5      #      H  5            H  5         H  5      #   P   H  5            G  5      G  7   "       G  7   !       G  I          G  O          G  V         H  _              H  _            H  _            H  _            G  _           !                                	         ;  	   
      +         F+          C+        =     +           C+     #      ?  0            1      0     3           4   0        5   3   4   4      6      5   ;  6   7        8          +  8   9         :           +  :   ;          <         +     @   UU@+  :   C      ;  	   I      +     K     ?  M            N      M   ;  N   O         U      3   ;  U   V      +  8   W         X      4     ^      C     _   0      ^   ^      `      _   ;  `   a      +  8   b         j      0   6                    ;           ;           ;           ;           ;     &      ;  1   2      =        
                                  >        >        =                                                  >                  =                                       >        =        
   =                         =                 !          =     "           $   "   #        %   !   $   >     %   =     '   
   =     (           )   '   (   =     *           +   )   *        ,         +   =     -           .   -   #        /   ,   .   >  &   /   A  <   =   7   9   ;   =     >   =   =     ?   &        A   ?   @        B   >   A   A  <   D   7   9   C   =     E   D   =     F           G   F   @        H   E   G   =     J   I   P  0   L   B   H   J   K   >  2   L   =     P           Q   P      =     R   &        S   R      P  M   T   Q   S   >  O   T   A  X   Y   7   W   =  4   Z   Y   =  0   [   2     0   \   Z   [   O  3   ]   \   \             >  V   ]   A  X   c   7   b   =  4   d   c   A  X   e   7   W   =  4   f   e     4   g   d   f   =  0   h   2     0   i   g   h   A  j   k   a   9   >  k   i     8  #   
  W                GLSL.std.450                     main              U                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         InteriorLightParam           uInteriorAmbientColorAndApplyInteriorLight          uInteriorDirectColorAndApplyExteriorLight    +    calcLight(vf3;vf3;b1;f1;struct-SceneWideParams-mf44-mf44-vf4-vf4-struct-SceneExteriorLight-vf4-vf4-vf4-vf4-vf411;struct-InteriorLightParam-vf4-vf41;vf3;vf3;vf3;         matDiffuse       vNormal      applyLight       interiorExteriorBlend        sceneParams      intLight         accumLight       precomputedLight         specular     	 $   validateFogColor(vf3;i1;      "   fogColor      #   blendMode     &   PSFog     &       densityParams     &      heightPlane  	 &      color_and_heightRate     
 &      heightDensity_and_endColor   	 &      sunAngle_and_sunColor     &      heightColor_and_endFogDistance    &      sunPercentage     -   makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;     (   fogData   )   final     *   vertexInViewSpace     +   sunDirInViewSpace     ,   blendMode     4   mixTextures(vf4;vf4;f1;   1   tex0      2   tex1      3   alpha     6   localDiffuse      >   lDiffuse      A   normalizedN   L   nDotL     V   nDotUp    ]   adjAmbient    c   adjHorizAmbient   h   adjGroundAmbient      q   currColor     ~   skyColor         groundColor      nDotL        lDiffuseInterior         interiorAmbient      gammaDiffTerm        linearDiffTerm       specTerm         emTerm       indexable        indexable        l_densityParams      l_heightPlane        l_color_and_heightRate   
    l_heightDensity_and_endColor         start       end     density   	  bias        vLength     z       expMax      expFog      expFogHeight      %  height    -  heightFog     3  finalFog      8  endFadeFog    @  endColor      A  param     D  param     G  l_heightColor_and_endFogDistance      J  end2      O  end2_cube     U  heightColor   V  param     Y  param     a  fogFinal      b  param     e  param     r  nDotSun   w  sunColor      y  param     |  param       vTexCoord       vChunkCoords        alphaCoord      alphaBlend      uAlphaTexture       tcLayer0        meshWideBlockPS         uHeightScale           uHeightOffset          animationMat                tcLayer1        tcLayer2        tcLayer3        modelWideBlockPS     	       uUseHeightMixFormula                minusAlphaBlendSum      weightsVector       weightedTexture_x       uLayerHeight0       weightedTexture_y       uLayerHeight1       weightedTexture_z     "  uLayerHeight2     .  weightedTexture_w     1  uLayerHeight3     =  weights   C  weights_temp      U  weightsNormalized     [  weightedLayer_0   \  uLayer0   c  matDiffuse_0      f  specBlend_0   i  weightedLayer_1   j  uLayer1   q  matDiffuse_1      v  specBlend_1   {  weightedLayer_2   |  uLayer2     matDiffuse_2        specBlend_2     weightedLayer_3     uLayer3     matDiffuse_3        specBlend_3     final       tex1        tex2        tex3        tex4        param       param       param       param       param       param       param       param       param       matDiffuse      vColor      finalColor      vNormal     SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData             vVertexLighting     param       param       param       param       param       param       param       specBlend       halfVec     vPosition       lSpecular     &  specTerm      4  PSFog     4      densityParams     4     heightPlane  	 4     color_and_heightRate     
 4     heightDensity_and_endColor   	 4     sunAngle_and_sunColor     4     heightColor_and_endFogDistance    4     sunPercentage     6  arg   F  param     I  param     K  param     O  param     U  outColor    G        G        G        G           G    "      G    !   	   G       @   H        #       H       #      H          H       #       H             G       G    "       G    !      H        #       G       G    "       G    !      G    "      G    !   
   G    "      G    !      G  "  "      G  "  !      G  1  "      G  1  !      G  \  "      G  \  !      G  j  "      G  j  !      G  |  "      G  |  !      G    "      G    !      G          G          H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G    "       G    !       G          G          G  U              !                                          	      
      	                                                                                                                !              
                                              !  !              	 &                        !  '      &                   /         !  0      /   /      +     ?       ,     @   ?   ?   ?   +     D        E           +  E   F      +     N      +     T     ?+     X      +     ^       +        ?+        333?+           +           ?+  E                    ,        T   T   T   ,                 ,        @   @   @   @            @   @      @   @   @   @                          ,        ?   ?   ?   T   T   T   ?   ?   ?   ?   T   ?   ?   T               +           +  E          +  E        +  E        +     9  n?+     H     +                                        ;                    +          A 	                                             ;          +  E                                       ;                                              ;                    ;                     ;          ;    "      ;    1      ,     E  T   T   T   T   ;    \      ;    j      ;    |      ;          +          @           ;                    ;         )  	                                           	                                          ;         ,       ?   ?   ?   ?   ,       ?   ?   ?   T   ,           ;                                                    ;         +     #    A   1        	 4                          5     &      T        ;  T  U     6                    ;         ;         ;          ;         ;         ;         ;         ;          ;  /        ;          ;          ;          ;     .     ;  /   =     ;  /   C     ;  /   U     ;  /   [     ;     c     ;     f     ;  /   i     ;     q     ;     v     ;  /   {     ;          ;          ;  /        ;          ;          ;  /        ;  /        ;  /        ;  /        ;  /        ;  /        ;  /        ;          ;  /        ;  /        ;          ;  /        ;  /        ;          ;          ;  /        ;          ;          ;  
        ;          ;          ;          ;          ;          ;          ;          ;     &     ;  5  6     ;     F     ;     I     ;     K     ;      O     =        >      A           =                    A          =                    P          >      =        =        W           O                    >      A        X   ^   =         =        Q             Q            P           ?   T              O                 >      A        X   D   =         =        Q             Q            P           ?   T              O                 >      A        X   X   =         =        Q             Q            P           ?   T              O                 >      A        X      =         =        Q             Q            P           ?   T              O                 >      A        ^      =           	       ^                       =                               +     ?   T          T     >      =         =         Q             Q            Q            P                >       =         =        =        W           Q            A    	    ^      =     
  	           
  A        D      =                               >      A           =         =        =        W           Q            A        ^     =                    A        D     =                               >      A            =     !     =    #  "  =    $    W     %  #  $  Q     &  %     A    '    ^     =     (  '       )  &  (  A    *    D     =     +  *       ,  )  +       -  !  ,  >    -  A     /    F   =     0  /  =    2  1  =    3    W     4  2  3  Q     5  4     A    6    ^   F   =     7  6       8  5  7  A    9    D   F   =     :  9       ;  8  :       <  0  ;  >  .  <  =     >    =     ?    =     @    =     A  .  P     B  >  ?  @  A  >  =  B  =     D  =  =     F    =     G         H     (   F  G  =     I    =     J  .       K     (   I  J       L     (   H  K  P     M  L  L  L  L  =     N  =       O  M  N  P     P  ?   ?   ?   ?   P     Q  T   T   T   T        R     +   O  P  Q       S  E  R       T  D  S  >  C  T  =     V  C  =     W  C       X  E  W  P     Y  X  X  X  X       Z  V  Y  >  U  Z  =    ]  \  =    ^    W     _  ]  ^  A     `  U     =     a  `       b  _  a  >  [  b  =     d  [  O     e  d  d            >  c  e  A     g  [  F   =     h  g  >  f  h  =    k  j  =    l    W     m  k  l  A     n  U    =     o  n       p  m  o  >  i  p  =     r  c  =     s  i  O     t  s  s                 u  r  t  >  q  u  =     w  f  A     x  i  F   =     y  x       z  w  y  >  v  z  =    }  |  =    ~    W       }  ~  A       U    =                    >  {    =       q  =       {  O                                >      =       v  A       {  F   =                    >      =        =        W           A       U  F   =                    >      =         =         O                                >      =         A         F   =                    >      =         =         Q             Q            Q            P               >              =      \  =        W           >      =      j  =        W           >      =      |  =        W           >      =        =        W           >      =         >      =         >      A            =         >      9       4         >      =         >      A           =         >      9       4         >      =         >      A           =         >      9       4         >              =         O                                =         O                                >      =         >      =         >      >      >    ?   A        ^   =        Q             A        ^   >      Q            A        D   >      Q            A  /       X   >      Q            A  /          >      Q           A        N   Q             A  /       ^   >      Q            A  /       D   >      Q            A  /        X   >       Q            A  /          >      Q            A  /       N   >      >      =         >      9                        @   @   Q     	        Q     
       Q            P       	  
    T   >      A         F   =         >      A        ^   N   N   =         O                     =                   E                          E              >      A        ^   N      =         O                     =         =               !            "     (   ?   !       $        "  #       %    $  >    %  =     '    P     (  '  '  '  =     )         *  (  )  >  &  *  =     +  &  =     ,    O     -  ,  ,                 .  -  +  =     /    O 	    0  /  .              >    0  A  1  2    D   =    3  2  Q     7  3      A  /   8  6  ^   >  8  7  Q     9  3     A  /   :  6  D   >  :  9  Q     ;  3     A  /   <  6  X   >  <  ;  Q     =  3     A  /   >  6     >  >  =  Q     ?  3     A  /   @  6  N   >  @  ?  Q     A  3     A  /   B  6  H  >  B  A  Q     C  3     A  /   D  6    >  D  C  =  &   E  6  =     G    O     H  G  G            >  F  H  =     J    >  I  J  A    L    ^   N   N   =     M  L  O     N  M  M            >  K  N  >  O  ^   9 	    P  -   E  F  I  K  O  =     Q    O 	    R  Q  P              >    R  A     S    F   >  S  T   =     V    >  U  V    8  6               7        7        7  
      7        7        7        7        7        7             ;     6      ;     >      ;     A      ;     L      ;     V      ;     ]      ;     c      ;     h      ;     q      ;     ~      ;           ;           ;           ;           ;           ;           ;           ;           =     7      >  6   7   =  	   8        	   9   8     ;         9   :   ;     :   =     <        <     ;   >  >   @   =     B           C      E   B   >  A   C   A     G      D   F   =     H   G     	   I   H   ?     K         I   J   K     J   =     M   A   A  /   O      N   N   =     P   O   O     Q   P   P                  R   Q        S   M   R        U      +   S   ?   T   >  L   U   =     W   A   A  /   Y      X   =     Z   Y   O     [   Z   Z                  \   W   [   >  V   \   A  /   _      N   ^   =     `   _   O     a   `   `                  b   a      >  ]   b   A  /   d      N   D   =     e   d   O     f   e   e                  g   f      >  c   g   A  /   i      N   X   =     j   i   O     k   j   j                  l   k      >  h   l   =     m   V     	   n   m   ?     p         n   o   w     o   =     r   c   =     s   ]   =     t   V   P     u   t   t   t        v      .   r   s   u   >  q   v     p     w   =     x   c   =     y   h   =     z   V        {   z   P     |   {   {   {        }      .   x   y   |   >  q   }     p     p   =        q                 >  ~      =        q                 >        A  /         N      =           O                        =        L                 >  >      =           =        ~   =        L                               P                            .            >  q        K     K   A           ^   F   =             	         ?                            =        A   A  /            =           O                                                            +      ?   T   >        A  /         D   =           O                        =                         >        A  /         ^   =           O                                      >        A           D   F   =             	         ?                            =           =        >   =           P                            .            >  >      =           =        q   =           P                            .            >  q                =           >  >      =           >  q                          =           =        q   =        >                               >        =           =                         =        6                 >        >        >     @   =           =                         =                                          =                         =                              8  6     $       !   7     "   7      #     %   ;           ;           =        "   =        #   >        A              =           =        #   >        A              =           P                            .                 8  6     -       '   7  &   (   7     )   7     *   7     +   7      ,     .   ;  /         ;  /         ;  /         ;  /         ;           ;          ;          ;     	     ;          ;          ;          ;          ;          ;     %     ;     -     ;     3     ;     8     ;     @     ;     A     ;      D     ;  /   G     ;     J     ;     O     ;     U     ;     V     ;      Y     ;     a     ;     b     ;      e     ;     r     ;     w     ;     y     ;      |     =        ,     	                                     =        )             Q        (       >        Q        (      >        Q        (      >        Q        (      >        A              =           >        A            =         >      A            =         >      A     
     F   =       
  >  	    =       *             B     >      =         =       	             >      =         =                               (   ?     >      =         =                                          T     >      =         A              =     !          "    !       #        "       $  T   #  >    $  =     &     O     '  &  &            =     (  *        )  '  (  A     *     F   =     +  *       ,  )  +  >  %  ,  =     .  %  A     /     F   =     0  /       1  .  0       2     +   1  ?   T   >  -  2  =     4    =     5    =     6  -       7     .   4  5  6  >  3  7  =     :    =     ;         <  :  ;       =  T   <       >  9  =       ?     +   >  ?   T   >  8  ?  =     B     O     C  B  B           >  A  C  =     E  ,   >  D  E  9     F  $   A  D  >  @  F  Q     I  (      >  G  I  =     K    A     L  G  F   =     M  L       N  K  M  >  J  N  =     P  J  =     Q  J  =     R  J       S  Q  R       T  P  S  >  O  T  =     W  G  O     X  W  W            >  V  X  =     Z  ,   >  Y  Z  9     [  $   V  Y  =     \  @  =     ]  J       ^     +   ]  ?   T   P     _  ^  ^  ^       `     .   [  \  _  >  U  `  =     c     O     d  c  c            >  b  d  =     f  ,   >  e  f  9     g  $   b  e  =     h  @  =     i  O       j     +   i  ?   T   P     k  j  j  j       l     .   g  h  k  >  a  l  =     m  a  =     n  U  =     o  -  P     p  o  o  o       q     .   m  n  p  >  a  q  =     s  *        t     E   s  =     u  +        v  t  u  >  r  v  =     x  a  Q     z  (      O     {  z  z           >  y  {  =     }  ,   >  |  }  9     ~  $   y  |  Q       (          P                       .   x  ~    >  w    =       r  Q       (                               +     ?   T   >  r    =       r    	       ?                       =       r  =       r             =       r             >  r    =       a  =       w  =       r  P                       .         >  a            =       a  =       )   =       3  =       8            %       P                       .         >  a    =       a      8  6     4       0   7  /   1   7  /   2   7     3     5   =       3   =       2   =       1                         =       1                  8  #   
                   GLSL.std.450                      main    2   H   P   U   c   e   g   h   k   p   x           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         blizzTranspose(mf44;         value     0   iX    2   aIndex    6   iY    F   worldPoint    H   aHeight   P   vChunkCoords      U   vPosition     V   SceneExteriorLight   	 V       uExteriorAmbientColor     V      uExteriorHorizontAmbientColor    
 V      uExteriorGroundAmbientColor  	 V      uExteriorDirectColor     	 V      uExteriorDirectColorDir   W   SceneWideParams   W       uLookAtMat    W      uPMatrix      W      uViewUp   W      uInteriorSunDir   W      extLight      X   PSFog     X       densityParams     X      heightPlane  	 X      color_and_heightRate     
 X      heightDensity_and_endColor   	 X      sunAngle_and_sunColor     X      heightColor_and_endFogDistance    X      sunPercentage     Y   sceneWideBlockVSPS    Y       scene     Y      fogData   [         c   vColor    e   aColor    g   vVertexLighting   h   aVertexLighting   k   vNormal   l   param     p   aNormal   v   gl_PerVertex      v       gl_Position   v      gl_PointSize      v      gl_ClipDistance   v      gl_CullDistance   x            meshWideBlockVS          uPos             G  2         G  H          G  P          G  U         H  V       #       H  V      #      H  V      #       H  V      #   0   H  V      #   @   H  W          H  W       #       H  W             H  W         H  W      #   @   H  W            H  W      #      H  W      #      H  W      #      H  X       #       H  X      #      H  X      #       H  X      #   0   H  X      #   @   H  X      #   P   H  X      #   `   H  Y       #       H  Y      #      G  Y      G  [   "       G  [   !       G  c         G  e         G  g         G  h         G  k         G  p         H  v              H  v            H  v            H  v            G  v      H         #       G        G     "       G     !           !                                          	           
              
      !        	               +                        +           +           +          ?+               /            1         ;  1   2      +     4     A+     ;   ( A  <   +     A      ?+     D     A   G      
   ;  G   H        N            O      N   ;  O   P         T      
   ;  T   U        V                    W               V    	 X                          Y   W   X      Z      Y   ;  Z   [         \            b         ;  b   c         d         ;  d   e      ;  T   g      ;  d   h      ;  T   k      ;  G   p        s           +  s   t        u      t     v         u   u      w      v   ;  w   x      +  s              
      ,  
               ,  
               ,  
      A   A   A   ,                                                             ,                                                                      ;           +        UU@6                    ;  /   0      ;  /   6      ;     F      ;  	   l      =     3   2        5   3   4   >  0   5   =     7   2        8   7   4        9         8   >  6   9   =     :   0     <   =   :   ;     ?         =   >   ?     >   =     @   6        B   @   A   >  6   B   =     C   0        E   C   D   >  0   E     ?     ?   =  
   I   H   Q     J   I       Q     K   I      Q     L   I      P     M   J   K   L      >  F   M   =     Q   0   =     R   6   P  N   S   Q   R   >  P   S   A  \   ]   [         =     ^   ]   =     _   F        `   ^   _   O  
   a   `   `             >  U   a   =     f   e   >  c   f   =     i   h   O  
   j   i   i             >  g   j   A  \   m   [         =     n   m   >  l   n   9     o      l   =  
   q   p     
   r   o   q   >  k   r   A  \   y   [         =     z   y   A  \   {   [         =     |   {        }   z   |   =     ~   F           }   ~   A  b      x      >          8  6               7  	           A              =           O  
                      A              =           O  
                      A              =           O  
                      Q                Q     !         Q     "         Q     #          Q     $         Q     %         Q     &          Q     '         Q     (         P  
   )       !   "   P  
   *   #   $   %   P  
   +   &   '   (   P     ,   )   *   +     ,   8  #   
                   GLSL.std.450                     main                           main      	   finalColor       modelWideBlockVS             uPlacementMat           uBBScale            uBBCenter           uColor                outColor    H            H         #       H               H        #   @   H        #   P   H        #   `   G        G     "       G     !       G                 !                                          
              
                        ;                       +                                   ;           6                    ;     	      A              =           >  	      =        	   >          8  #   
  I                 GLSL.std.450                      main       7               main      	   worldPoint       aPosition        modelWideBlockVS             uPlacementMat           uBBScale            uBBCenter           uColor             5   gl_PerVertex      5       gl_Position   5      gl_PointSize      5      gl_ClipDistance   5      gl_CullDistance   7         9   sceneWideBlockVSPS    9       uLookAtMat    9      uPMatrix      ;       G            H            H         #       H               H        #   @   H        #   P   H        #   `   G        G     "       G     !      H  5              H  5            H  5            H  5            G  5      H  9          H  9       #       H  9             H  9         H  9      #   @   H  9            G  9      G  ;   "       G  ;   !            !                                          
                  
   ;                        +                                                                ;                       +                       +           +            +     )      +     2     ?  4            5         4   4      6      5   ;  6   7      +     8         9            :      9   ;  :   ;         <            G         6                    ;     	      A              =           A                 =                         A                 =                         A     !          =     "   !   A     #             =     $   #        %   "   $   A     &             =     '   &        (   %   '   A     *      )   =     +   *   A     ,         )   =     -   ,        .   +   -   A     /         )   =     0   /        1   .   0   P     3      (   1   2   >  	   3   A  <   =   ;      =     >   =   A  <   ?   ;   8   =     @   ?        A   >   @   A  <   B      8   =     C   B        D   A   C   =     E   	        F   D   E   A  G   H   7   8   >  H   F     8  #   
  L                 GLSL.std.450                     main    +   J                       main         meshWideBlockPS          drawDepth           uFarPlane           uNearPlane    
            f        n        z     '   diffuse   +   texCoord      9   finalColor    J   fragColor   H         #       H        #      H        #      G        G  
   "       G  
   !      G  '   "       G  '   !      G  +          G  J               !                                              	         ;  	   
      +                        +                                        +           +           @ 	 $                              %   $      &       %   ;  &   '         )            *      )   ;  *   +        -           /           +  /   0          8      -   +     =     C  C            I      -   ;  I   J      6                    ;           ;           ;           ;  8   9      A        
      =                                          ?        A        
      =           >        A        
      =           >        =                          =     !      =     "           #   !   "   =  %   (   '   =  )   ,   +   W  -   .   (   ,   Q     1   .       =     2      =     3           4   2   3        5   1   4        6   #   5        7       6   >     7   =     :      =     ;      =     <      P  -   >   :   ;   <   =   >  9   >          ?   =  %   @   '   =  )   A   +   W  -   B   @   A   O  C   D   B   B             Q     E   D       Q     F   D      Q     G   D      P  -   H   E   F   G   =   >  9   H             =  -   K   9   >  J   K     8  #   
                   GLSL.std.450                     main                           main      	   finalColor       fragColor        meshWideBlockPS          uColor           G            H         #       G        G     "       G     !           !                                        +     
     ?,        
   
   
   
                +                                   ;                                          ;           6                    ;     	      >  	      A        	      >     
   =        	   >          8  #   
  ;                 GLSL.std.450                      main       +               main      	   c_world      sceneWideBlockVSPS           uLookAtMat          uPMatrix                  aPosition     )   gl_PerVertex      )       gl_Position   )      gl_PointSize      )      gl_ClipDistance   )      gl_CullDistance   +       H            H         #       H               H           H        #   @   H              G        G     "       G     !       G            H  )              H  )            H  )            H  )            G  )           !                                          
              
   
               ;                       +                    
                          ;           +          ?              +      !         "         +      '        (      '     )         (   (      *      )   ;  *   +      +     ,          9         6                    ;     	      A              =  
           
         "      =           Q               Q              Q              P                                  >  	      =        	                 A  "   #   	   !   =     $   #   P     %   $   $   $   $        &      %   >  	   &   A     -         =  
   .   -   A     /      ,   =  
   0   /     
   1   .   0   =     2   	   O     3   2   2             Q     4   3       Q     5   3      Q     6   3      P     7   4   5   6           8   1   7   A  9   :   +   ,   >  :   8     8  #   
                   GLSL.std.450                     main                           main      	   finalColor       fragColor        modelWideBlockPS             uColor           G            H         #       G        G     "       G     !           !                                        +     
     ?+            ,        
   
      
               ;                                          ;           6                    ;     	      >  	      =        	   >          8  #   
  '                 GLSL.std.450                      main                      main         gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               sceneWideBlockVSPS           uLookAtMat          uPMatrix                  aPosition   H                H              H              H              G        H            H         #       H               H           H        #   @   H              G        G     "       G     !       G                 !                                         +     	        
      	              
   
               ;                       +                                              ;           +                                              ;           +            +           ?   %         6                    A              =           A              =                         =           Q     !          Q     "         P     #   !   "               $      #   A  %   &         >  &   $     8  #   
                   GLSL.std.450                     main    	                          main      	   fragColor        modelWideBlockVS             uColor                vPos    G  	          H         #       G        G     "       G     !      G                 !                                        ;     	        
              
               ;                       +                     
   +          ?            ;           6                    A              =  
         Q               Q              Q              P                    >  	        8  #   
  1                 GLSL.std.450                      main       #   0               main         gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               sceneWideBlockVSPS           uLookAtMat          uPMatrix                  modelWideBlockVS             uPlacementMat              #   aPosition     0   vPos    H                H              H              H              G        H            H         #       H               H           H        #   @   H              G        G     "       G     !       H            H         #       H               G        G     "       G     !      G  #          G  0               !                                         +     	        
      	              
   
               ;                       +                                              ;           +                                           ;             !            "      !   ;  "   #      +     %     ?   +         +     -      A   .         ;  +   0      6                    A              =           A              =                         A              =                          =  !   $   #   Q     &   $       Q     '   $      Q     (   $      P     )   &   '   (   %        *       )   A  +   ,         >  ,   *   A  .   /         >  /   -     8  #   
                   GLSL.std.450                     main                           main      	   finalColor    
   modelWideBlockVS      
       uColor                fragColor   H  
       #       G  
      G     "       G     !      G                 !                                          
               
   ;                       +                                    ;           6                    ;     	      A              =           >  	      =        	   >          8  #   
  0                 GLSL.std.450                      main                      main      	   worldPoint       aPosition        gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               sceneWideBlockVSPS           uLookAtMat          uPMatrix               &   modelWideBlockVS      &       uPlacementMat     (       G            H                H              H              H              G        H            H         #       H               H           H        #   @   H              G        G     "       G     !       H  &          H  &       #       H  &             G  &      G  (   "       G  (   !           !                                          
                  
   ;           +          ?             +                                                   ;                       +                                              ;           +                          &         '      &   ;  '   (         .         6                    ;     	      =  
         Q               Q              Q              P                    >  	      A      !         =     "   !   A      #         =     $   #        %   "   $   A      )   (      =     *   )        +   %   *   =     ,   	        -   +   ,   A  .   /         >  /   -     8  #   
  H                 GLSL.std.450                      main    "   $   -               main         uWidth    
   meshWideBlockVS  	 
       uWidth_uHeight_uX_uY                  uHeight      uX       uY    "   texCoord      $   position      +   gl_PerVertex      +       gl_Position   +      gl_PointSize      +      gl_ClipDistance   +      gl_CullDistance   -       H  
       #       G  
      G     "       G     !      G  "          G  $          H  +              H  +            H  +            H  +            G  +           !                               	           
   	            
   ;                       +                         +                        +           +           +                          !          ;  !   "         #          ;  #   $      +     &      ?  *           +   	      *   *      ,      +   ;  ,   -         .         +     1     ?+     3      @   F      	   6                    ;           ;           ;           ;           A                 =           >        A                 =           >        A                 =           >        A                 =           >        =      %   $         '   %   &   P      (   &   &         )   '   (   >  "   )   A  .   /   $      =     0   /        2   0   1        4   2   3   =     5           6   4   5   =     7           8   6   7        9   8   3        :   9   1   A  .   ;   $      =     <   ;        =   <   1        >   =   3   =     ?           @   >   ?   =     A           B   @   A        C   B   3        D   C   1   P  	   E   :   D   &   1   A  F   G   -      >  G   E     8  #   
                   GLSL.std.450                     main       y                       main      	   tex_offset       result       texture0         texCoord         meshWideBlockPS          texOffsetX          texOffsetY    !         y   out_result  G     "      G     !      G            H         #       H        #      G        G  !   "       G  !   !      G  y               !                                        +     
   o:,        
   
                           	                                                  ;                        ;                      +            ,                                         ;      !        "          +  "   #         $           +  $   %          &            )         +  "   -      +  $   0      +     8      >+     L     >+  $   R      +  $   f         x         ;  x   y      +     {     ?+  $                    ,           8   L   L   8   6                    ;     	      ;           >  	      =           =           W              O                                      >        >        =           =           A  &   '   !   #   %   =     (   '   A  )   *   	   %   =     +   *        ,   (   +   A  &   .   !   -   %   =     /   .   A  )   1   	   0   =     2   1        3   /   2   P     4   ,   3        5      4   W     6      5   O     7   6   6                  9   7   8   =     :           ;   :   9   >     ;   =     <      =     =      A  &   >   !   #   0   =     ?   >   A  )   @   	   %   =     A   @        B   ?   A   A  &   C   !   -   0   =     D   C   A  )   E   	   0   =     F   E        G   D   F   P     H   B   G        I   =   H   W     J   <   I   O     K   J   J                  M   K   L   =     N           O   N   M   >     O   =     P      =     Q      A  &   S   !   #   R   =     T   S   A  )   U   	   %   =     V   U        W   T   V   A  &   X   !   -   R   =     Y   X   A  )   Z   	   0   =     [   Z        \   Y   [   P     ]   W   \        ^   Q   ]   W     _   P   ^   O     `   _   _                  a   `   L   =     b           c   b   a   >     c   =     d      =     e      A  &   g   !   #   f   =     h   g   A  )   i   	   %   =     j   i        k   h   j   A  &   l   !   -   f   =     m   l   A  )   n   	   0   =     o   n        p   m   o   P     q   k   p        r   e   q   W     s   d   r   O     t   s   s                  u   t   8   =     v           w   v   u   >     w   =     z      Q     |   z       Q     }   z      Q     ~   z      P        |   }   ~   {   >  y        8  #   
  @                 GLSL.std.450                     main       5                       main      	   screen       screenTex        texCoord         blurred      blurTex      mixed         meshWideBlockPS           blurAmount    "         ,   glow      5   Out_Color   G     "      G     !      G            G     "      G     !      H          #       G         G  "   "       G  "   !      G  5               !                                         	 
                                 
                ;                                   ;                                  ;                        !          ;  !   "        #          +  #   $         %           +  %   &         '         +  %   0         4         ;  4   5         9         6                    ;     	      ;           ;           ;     ,      =           =           W              >  	      =           =           W              O                        >        =        	   O                        =           A  '   (   "   $   &   =     )   (   P     *   )   )   )        +      .         *   >     +   =     -      =     .           /   -   .   A  '   1   "   $   0   =     2   1        3   /   2   >  ,   3   =     6      =     7   ,        8   6   7   A  9   :   	   0   =     ;   :   Q     <   8       Q     =   8      Q     >   8      P     ?   <   =   >   ;   >  5   ?     8  #   
                   GLSL.std.450                     main    	                             main      	   Out_Color        Frag_Color       Texture      Frag_UV G  	          G           G     "      G     !      G                 !                                        ;     	         
         ;  
          	                                                  ;                                   ;           6                    =           =           =           W                            >  	        8  #   
  +                 GLSL.std.450                      main    	               "               main      	   Frag_UV      UV       Frag_Color       Color        gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               modelWideBlockVS             ProjMtx            "   Position    G  	          G           G           G           H                H              H              H              G        H            H         #       H               G        G     "       G     !      G  "               !                                        ;     	         
         ;  
                                ;                       ;                        +                                                   ;                       +                                           ;                       ;  
   "      +     $       +     %     ?6                    =           >  	      =           >        A               =     !       =     #   "   Q     &   #       Q     '   #      P     (   &   '   $   %        )   !   (   A     *         >  *   )     8  #   
                  GLSL.std.450                     main                                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main     	    validateFogColor(vf3;i1;         fogColor         blendMode        PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;        fogData      final        vertexInViewSpace        sunDirInViewSpace        blendMode     '   indexable     .   indexable     ?   l_densityParams   B   l_heightPlane     E   l_color_and_heightRate   
 H   l_heightDensity_and_endColor      K   start     O   end   S   density   W   bias      [   vLength   ^   z     b   expMax    g   expFog    m   expFogHeight      t   height    |   heightFog        finalFog         endFadeFog       endColor         param        param        l_heightColor_and_endFogDistance         end2         end2_cube        heightColor      param        param        fogFinal         param        param        nDotSun      sunColor         param        param        tex      uTexture         vTexcoord0       tex2         uTexture2        vTexcoord1       tex3        uTexture3       vTexcoord2      uAlphaTest      meshWideBlockPS         uAlphaTestv        uPixelShaderv     
          finalColor      vColor    &  uNonOptPixelShader    .  matDiffuse    C  textureMod    G  texAlpha      M  opacity   R  matDiffuse    c  textureMod    i  texAlpha      l  opacity   q  matDiffuse      textureMod      texAlpha        opacity     matDiffuse      t0_973      t1_978      t2_983      textureMod_986      depthScale_991      vPosition       textureMod_992      height_995      alpha_997       sunDir      SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData             PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       arg     param       param       param       param       outputColor G     "      G     !      G           G     "      G     !      G           G    "      G    !      G          H        #       H       #      G       G  
  "       G  
  !      G          G           H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G    "       G    !       G                !                                          	             
      	   !           
               	                         !                    
                +                      +            ,                 +           ?,     !               +     "      ?,     #   "   "   "   ,     $               !   #   #         #                  &           *         ,  *   +                                                     -      *      /         +  	   7        8      >         +  	   @       +  	   C      +  	   F      +  	   I      +     L       +     P      +     T      +     X      +        n?+  	         +  	         +  	          	                                                  ;                                   ;           ;            ;           ;           ;              	                  	       ;  	  
                           ;                       '     	   +         @           ;         +       
#<                                              	                                          ;                               	                                              ;         6                    ;  >         ;  >         ;  >         ;  /        ;  >        ;  
   &     ;     .     ;  >   C     ;  /   G     ;  /   M     ;     R     ;  >   c     ;  /   i     ;  /   l     ;     q     ;  >        ;  /        ;  /        ;          ;  /        ;  /        ;  /        ;  /        ;  /        ;  /        ;  /        ;  /        ;          ;         ;          ;          ;          ;  
        =           =           W              >        =           =           W              >        =         =         W           >       A      
  @   L   =         >      A  /        X   =         =           8                                   =          =                    O                     A  /        X   =         A        X   =               !       Q     "        Q     #       Q     $       P     %  "  #  $  !  >    %  A  '  (  
  C   L   =  	   )  (  >  &  )  =  	   *  &    8   +  *  @     -        +  ,  >    ,  =     /    O     0  /  /            =     1     O     2  1  1                 3  0  2  >  .  3  =     4  .  A  /   5     X   =     6  5  A    7    X   =     8  7       9  6  8  Q     :  4      Q     ;  4     Q     <  4     P     =  :  ;  <  9  >    =    -    >  =  	   ?  &    8   @  ?  C     B        @  A  ^    A  =     D     =     E          F  D  E  >  C  F  A  /   H  C  X   =     I  H  A  /   J     X   =     K  J       L  I  K  >  G  L  =     N  G  A    O    X   =     P  O       Q  N  P  >  M  Q  =     S    O     T  S  S            =     U  C  O     V  U  U                 W  T  V  >  R  W  =     X  R  =     Y  M  Q     Z  X      Q     [  X     Q     \  X     P     ]  Z  [  \  Y  >    ]    B    ^  =  	   _  &    8   `  _  F     b        `  a  }    a  =     d     =     e          f  d  e  =     g          h  f  g  >  c  h  A  /   j  c  X   =     k  j  >  i  k  =     m  i  A    n    X   =     o  n       p  m  o  >  l  p  =     r    O     s  r  r            =     t  c  O     u  t  t                 v  s  u  >  q  v  =     w  q  =     x  l  Q     y  w      Q     z  w     Q     {  w     P     |  y  z  {  x  >    |    b    }  =  	   ~  &    8     ~  I                       =          =                     =                     >      A  /       X   =         >      =         A        X   =                    >      =         O                     =         O                                >      =         =         Q             Q            Q            P               >              =  	     &    8                              A  /        L   =         >      A  /        P   =         >      A  /        T   =         >      =         =                    =                               >      A        T   =                              +                         >      =         =                    >      =         A        L   =                    >      =         A        X   =                    >      =         =         P                 >                        b    b    B    B    -    -  A  /       X   =         =           8                                   A        @         =         O                     >      A        C   =        Q             A  >       @   >      Q            A  >       C   >      Q            A  >       F   >      Q            A  >       I   >      Q            A  >          >      Q            A  >          >      Q            A  >          >      =         =         O                     >      =         >      =         >      A  '    
  C   P   =  	       >      9 	                   =         O 	                       >       =         >        8  6               7        7  
           ;  &   '      ;  -   .      =           =  	   %      >  '   $   A     (   '   %   =     )   (   =  	   ,      >  .   +   A  /   0   .   ,   =     1   0   P     2   1   1   1        3      .      )   2     3   8  6               7        7        7        7        7  
           ;  >   ?      ;  >   B      ;  >   E      ;  >   H      ;  /   K      ;  /   O      ;  /   S      ;  /   W      ;  /   [      ;  /   ^      ;  /   b      ;  /   g      ;  /   m      ;  /   t      ;  /   |      ;  /         ;  /         ;           ;           ;  
         ;  >         ;  /         ;  /         ;           ;           ;  
         ;           ;           ;  
         ;  /         ;           ;           ;  
         =  	   6        8   9   6   7     ;         9   :   ;     :   =     <        <     ;   Q     A          >  ?   A   Q     D         >  B   D   Q     G         >  E   G   Q     J         >  H   J   A  /   M   ?   L   =     N   M   >  K   N   A  /   Q   ?   P   =     R   Q   >  O   R   A  /   U   ?   T   =     V   U   >  S   V   A  /   Y   ?   X   =     Z   Y   >  W   Z   =     \           ]      B   \   >  [   ]   =     _   [   =     `   W        a   _   `   >  ^   a   =     c   ^   =     d   K        e   c   d        f      (      e   >  b   f   =     h   b   =     i   S        j   h   i        k         j        l       k   >  g   l   =     n   b   A  /   o   H   L   =     p   o        q   n   p        r         q        s       r   >  m   s   =     u   B   O     v   u   u             =     w           x   v   w   A  /   y   B   X   =     z   y        {   x   z   >  t   {   =     }   t   A  /   ~   E   X   =        ~           }                 +             >  |      =        g   =        m   =        |              .            >        =        [   =        O                                                         +             >        =        H   O                       >        =  	         >        9                 >        Q              >        =        [   A  /         X   =                         >        =           =           =                                       >        =           O                        >        =  	         >        9                 =           =                      +             P                            .            >        =        E   O                        >        =  	         >        9                 =           =                      +             P                            .            >        =           =           =        |   P                            .            >        =                      E      =                         >        =           Q              O                       >        =  	         >        9                 Q                  P                            .            >        =           Q                                           +             >        =             8                                     =           =                         =                         >        =           =           =           P                            .            >                  =           =           =           =                      %         P                            .            >        =                8  #   
  M                 GLSL.std.450                      main                         !   "   4   <           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   aPositionVec4        aPosition        vColor       aColor       vTexcoord0       aTexcoord0       vTexcoord1       aTexcoord1    !   vTexcoord2    "   aTexcoord2    $   vertexViewSpace   &   SceneExteriorLight   	 &       uExteriorAmbientColor     &      uExteriorHorizontAmbientColor    
 &      uExteriorGroundAmbientColor  	 &      uExteriorDirectColor     	 &      uExteriorDirectColorDir   '   SceneWideParams   '       uLookAtMat    '      uPMatrix      '      uViewUp   '      uInteriorSunDir   '      extLight      (   PSFog     (       densityParams     (      heightPlane  	 (      color_and_heightRate     
 (      heightDensity_and_endColor   	 (      sunAngle_and_sunColor     (      heightColor_and_endFogDistance    (      sunPercentage     )   sceneWideBlockVSPS    )       scene     )      fogData   +         4   vPosition     :   gl_PerVertex      :       gl_Position   :      gl_PointSize      :      gl_ClipDistance   :      gl_CullDistance   <       G            G           G           G           G           G           G           G  !         G  "         H  &       #       H  &      #      H  &      #       H  &      #   0   H  &      #   @   H  '          H  '       #       H  '             H  '         H  '      #   @   H  '            H  '      #      H  '      #      H  '      #      H  (       #       H  (      #      H  (      #       H  (      #   0   H  (      #   @   H  (      #   P   H  (      #   `   H  )       #       H  )      #      G  )      G  +   "       G  +   !       G  4          H  :              H  :            H  :            H  :            G  :           !                                          
                  
   ;           +          ?            ;                       ;                                  ;                       ;           ;           ;           ;     !      ;     "        %           &                    '   %   %         &    	 (                          )   '   (      *      )   ;  *   +        ,          +  ,   -          .      %      3      
   ;  3   4        7           +  7   8        9      8     :         9   9      ;      :   ;  ;   <      +  ,   =      +  7   C        D   
   C   +     E       ,  
   F   E   E   E   ,  
   G            +     H      ?,  
   I   H   H   H   ,  D   J   F   F   F   F   G   I   I   F   F   I   F   F   F   F     K      C   ,  K   L   E   E   E            E   E   E   E      E   E      6                    ;     	      ;     $      =  
         Q               Q              Q              P                    >  	      =           >        =           >        =            >         =     #   "   >  !   #   A  .   /   +   -   -   =  %   0   /   =     1   	        2   0   1   >  $   2   =     5   $   O  
   6   5   5             >  4   6   A  .   >   +   -   =   =  %   ?   >   =     @   $        A   ?   @   A     B   <   -   >  B   A     8  #   
                  GLSL.std.450                     main                                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         InteriorLightParam           uInteriorAmbientColorAndApplyInteriorLight          uInteriorDirectColorAndApplyExteriorLight    +    calcLight(vf3;vf3;b1;f1;struct-SceneWideParams-mf44-mf44-vf4-vf4-struct-SceneExteriorLight-vf4-vf4-vf4-vf4-vf411;struct-InteriorLightParam-vf4-vf41;vf3;vf3;vf3;         matDiffuse       vNormal      applyLight       interiorExteriorBlend        sceneParams      intLight         accumLight       precomputedLight         specular     	 $   validateFogColor(vf3;i1;      "   fogColor      #   blendMode     &   PSFog     &       densityParams     &      heightPlane  	 &      color_and_heightRate     
 &      heightDensity_and_endColor   	 &      sunAngle_and_sunColor     &      heightColor_and_endFogDistance    &      sunPercentage     -   makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;     (   fogData   )   final     *   vertexInViewSpace     +   sunDirInViewSpace     ,   blendMode     /   localDiffuse      7   lDiffuse      :   normalizedN   E   nDotL     P   nDotUp    W   adjAmbient    ]   adjHorizAmbient   b   adjGroundAmbient      k   currColor     x   skyColor      |   groundColor      nDotL        lDiffuseInterior         interiorAmbient      gammaDiffTerm        linearDiffTerm       specTerm         emTerm       indexable        indexable        l_densityParams      l_heightPlane        l_color_and_heightRate   
    l_heightDensity_and_endColor         start        end      density     bias        vLength   	  z       expMax      expFog      expFogHeight        height    '  heightFog     -  finalFog      2  endFadeFog    :  endColor      ;  param     >  param     A  l_heightColor_and_endFogDistance      D  end2      I  end2_cube     O  heightColor   P  param     S  param     [  fogFinal      \  param     _  param     l  nDotSun   q  sunColor      s  param     v  param       texCoord        vTexCoord       texCoord2       vTexCoord2      texCoord3       vTexCoord3      tex     uTexture        tex2        uTexture2       tex3        uTexture3       tex2WithTextCoord1      tex3WithTextCoord1      tex4WithTextCoord2      uTexture4       finalColor      meshResColor        vDiffuseColor       meshWideBlockPS         PixelShader_UnFogged_IsAffectedByLight_blendMode     	      uFogColorAndAlphaTest          uTexSampleAlpha        uPcColor                vPos3       vPosition       vNormal3        vNormal     lightColor      count       InteriorLightParam          uInteriorAmbientColorAndApplyInteriorLight         uInteriorDirectColorAndApplyExteriorLight       LocalLight          color          position           attenuation     modelWideBlockPS            intLight           pc_lights          lightCountAndBcHack  	      interiorExteriorBlend               index       LocalLight          color          position           attenuation     lightRecord     vectorToLight       SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage     	  sceneWideBlockVSPS    	      scene     	     fogData             modelWideBlockVS            uPlacementMat          uBoneMatrixes               distanceToLightSqr    !  distanceToLightInv    $  distanceToLight   (  diffuseTerm1      /  attenuationRec    2  attenuation   @  attenuatedColor   Y  accumLight    b  finalOpacity      c  specular      d  visParams     g  genericParams     l  uPixelShader      s  matDiffuse    {  opacity     glowOpacity   m  pc_channelScaler        param       param       param       param       param       param       param       uUnFogged       sunDir      PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       arg   	  param       param       param       param       outputColor G        G        G        G           G          G          G    "      G    !      G    "      G    !      G    "      G    !      G    "      G    !      G          H        #       H       #      H       #       H       #   0   G       G    "       G    !      G          G          H        #       H       #      H        #       H       #      H       #       G       0   H        #       H       #       H       #      H       #      G       G    "       G    !      H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H  	      #       H  	     #      G  	     G    "       G    !       G       @   H           H        #       H              H          H       #   @   H             G       G    "       G    !      G                !                                          	      
      	                                                                                                                !              
                                              !  !              	 &                        !  '      &                +     8       ,     9   8   8   8   +     =        >           +  >   ?      +     G         H         +     N     ?+     R      +     X       +     z   ?+     ~   333?+           +           ?+  >                    ,        N   N   N   ,                 ,        9   9   9   9            9   9      9   9   9   9                          ,        8   8   8   N   N   N   8   8   8   8   N   8   8   N               +           +  >          +  >         +  >         +     3  n?+     B     +     y                                   ;         ;         ;          	                                             ;          ;          ;          ;          ,       8   8   8   8              ;                                            ;                               ;         ;                                +  >                                       ;                                                                                           	                          	         
     	  ;  
                  +  >                                    ;           e     ?      f     e  ,     h  N   N   N   N   +     v     @   |        +          +     )     +     C  	   +     \  
   +     s     +          +          +          +          +          +     $  >+     (  =
?+     -  G=+     F     +     d     +          +          +          +          +          +          +     :     +     g     +          +          +          +          +     !      +     K  !   +     c  "   +     i  #   +       $                                                                   	                                &              ;         6                    ;         ;         ;         ;  H        ;  H        ;  H        ;  H        ;  H        ;  H        ;  H        ;  H        ;          ;          ;          ;           ;           ;         ;          ;          ;     !     ;     $     ;     (     ;  H   /     ;     2     ;     @     ;     Y     ;     b     ;     c     ;     d     ;  f  g     ;      l     ;     s     ;     {     ;          ;  H   m     ;          ;          ;  
        ;          ;          ;          ;          ;           ;          ;         ;     	     ;          ;          ;           =        >      =        >      =        >      =        =        W           >      =        =        W           >      =        =        W           >      =        =        W           >      =        =        W           >      =        =        W           >      >      =         >      A        X      =           	       =                       =         >      =                   E     >      >    9   A        =   X   R   ?   =         n         >      >    X                             =           	       G               =         A        R      =           	                                     =         A        =     =        Q             A  H        X   >       Q            A  H       =   >      Q            A  H       R   >      A        X   X   =         A        X   =         A  H       =   =                               O                     =                    >      =         =                     >       =     "         #         "  >  !  #  =     %    =     &  !       '  %  &  >  $  '  =     )    =     *         +  )  *  =     ,  !       -  +  ,       .     (   -  8   >  (  .  A  H   0    R   =     1  0  >  /  1  =     3  $  A     4  /     =     5  4       6  3  5  A     7  /     =     8  7  A     9  /     =     :  9       ;  8  :       <  N   ;       =  6  <       >     +   =  8   N        ?  N   >  >  2  ?  =     A  2  A  H   B    X   =     C  B  O     D  C  C                 E  D  A  >  @  E  =     F    =     G  @  =     H  @       I  G  H  =     J  (       K  I  J  Q     L  K      Q     M  K     Q     N  K     P     O  L  M  N       P  F  O  >    P          =     Q         R  Q  =   >    R          =     S    P     T  8   8   8   P     U  N   N   N        V     +   S  T  U  =     W    O 	    X  W  V              >    X  =     Z    =     [    O     \  [  [            A    ]    R      =     ^  ]  o     _  ^  P     `  _  _  _       a     .   Z  \  `  >  Y  a          >  b  8   >  c  9   >  d     A  H   i  g  X   >  i  h  A  H   j  g  =   >  j  h  A  H   k  g  R   >  k  h  A    m    X      =     n  m  >  l  n  =     o  l    	   p  o  X     r        p  q      q  =     t    O     u  t  t                 w  u  v  =     x    O     y  x  x                 z  w  y  >  s  z  A  |  }    ?   =     ~  }  >  {  ~  =       {  A       d     =                    >  b      r      =       l    	       =                       =         O                              v  =         O                                >  s    A         ?   =         A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =       l    	       R                       =         O                              v  =         O                                =         O                                >  s    A         ?   =         A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =       l    	                              =         O                              v  =         O                                =         O                                         v  >  s    A         ?   =                  v  A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =       l    	       G                       =         O                              v  =         O                                =         O                                         v  >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	       B                      =         O                              v  =         O                                =         O                                >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	       y                
      =         O                              v  =         O                                =         O                                >  s    A         ?   =         A          ?   =                     A  |      ?   =                    >  {    =       {  A       d     =              	      >  b  	        
  =       l    	                       '      =         O                              v  =         O                                =         O                                         v  >  s    A         ?   =         A         ?   =                             v  A  |       ?   =     !          "    !  >  {  "  =     #  {  A     $  d     =     %  $       &  #  %  >  b  &        '  =     (  l    	   *  (  )    ,        *  +  A    +  =     -    O     .  -  -                 /  .  v  =     0    O     1  0  0                 2  /  1  >  s  2  A     3    ?   =     4  3  A     5    ?   =     6  5       7  4  6  A  |  8    ?   =     9  8       :  7  9  >  {  :  =     ;    O     <  ;  ;            >  c  <  =     =  {  A     >  d     =     ?  >       @  =  ?  >  b  @    ,    A  =     B  l    	   D  B  C    F        D  E  Z    E  =     G    O     H  G  G                 I  H  v  =     J    O     K  J  J                 L  I  K  =     M    O     N  M  M                 O  L  N       P  O  v  >  s  P  A     Q    ?   =     R  Q  A  |  S    ?   =     T  S       U  R  T  >  {  U  =     V  {  A     W  d     =     X  W       Y  V  X  >  b  Y    F    Z  =     [  l    	   ]  [  \    _        ]  ^  q    ^  =     `    O     a  `  `                 b  a  v  =     c    O     d  c  c                 e  b  d  >  s  e  A     f    ?   =     g  f  A  |  h    ?   =     i  h       j  g  i  >  {  j  =     k    O     l  k  k            >  c  l  =     m  {  A     n  d     =     o  n       p  m  o  >  b  p    _    q  =     r  l    	   t  r  s    v        t  u      u  =     w    O     x  w  w                 y  x  v  =     z    O     {  z  z                 |  y  {  =     }    O     ~  }  }                   |  ~  >  s    A         ?   =         A  |      ?   =                    >  {    =       {  A       d     =                    >  b      v      =       l    	                             =         O                              v  =         O                     =         O                                         v  =         O                     A         ?   =         P                       .                    >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                              =         O                              v  =         O                                >  s    =         O                     A         ?   =                    >  c    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                                >  s    =         O                     A         ?   =                    A         ?   =                N                >  c    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                     =         O                                         v  =         O                     A         ?   =         P                       .                    >  s    =         O                     A         ?   =                    A        R      =                    >  c    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =          O                                v  =         O                                >  s    A         ?   =         A  |      ?   =     	         
    	  >  {  
  =         O                     A         ?   =                    >  c    =       {  A       d     =                    >  b            =       l    	                       D      =         O                              v  =         O                                >  s    A          ?   =     !     A     "    ?   =     #  "  A     %       =     &  %       '  $  &  A     )       =     *  )       +  (  *       ,  '  +  A     .       =     /  .       0  -  /       1  ,  0       2  #  1       3  !  2  A  |  4    ?   =     5  4       6  3  5  >  {  6  =     7    O     8  7  7            A     9    ?   =     :  9       ;  8  :  A     <    ?   =     =  <       >  N   =       ?  ;  >  >  c  ?  =     @  {  A     A  d     =     B  A       C  @  B  >  b  C        D  =     E  l    	   G  E  F    I        G  H  b    H  =     J    O     K  J  J                 L  K  v  =     M    O     N  M  M            =     O    O     P  O  O            A     Q    ?   =     R  Q  P     S  R  R  R       T     .   N  P  S  =     U    O     V  U  U            A     W    ?   =     X  W  P     Y  X  X  X       Z     .   T  V  Y       [  L  Z  >  s  [  A  |  \    ?   =     ]  \  >  {  ]  =     ^  {  A     _  d     =     `  _       a  ^  `  >  b  a    I    b  =     c  l    	   e  c  d    g        e  f  ~    f  =     h    O     i  h  h                 j  i  v  =     k    O     l  k  k            =     m    O     n  m  m                 o  l  n       p  o  v  =     q    O     r  q  q            A     s    ?   =     t  s  P     u  t  t  t       v     .   p  r  u       w  j  v  >  s  w  A  |  x    ?   =     y  x  >  {  y  =     z  {  A     {  d     =     |  {       }  z  |  >  b  }    g    ~  =       l    	                             =         O                              v  =         O                                >  s    =         O                     A         ?   =                    A        R      =                    >  c    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                                >  s    A         ?   =         A         ?   =                    A  |      ?   =                    >  {    =         O                     A         ?   =                N                >  c    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                     =         O                                =         O                     A         ?   =         P                       .                    >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                                >  s    A         ?   =         A  |      ?   =                    >  {    =         O                     A         ?   =                    A        R      =                    >  c    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                     =         O                     A         ?   =         P                       .                    >  s    =          O                       A         ?   =                    A        R      =                    >  c    A  |      ?   =     	    >  {  	  =     
  {  A       d     =                
    >  b            =       l    	                       8      A         ?   =         A        R      =                              +     8   N   >      =         O                              v  =         O                     =          O     !                       "    !       #  "  v  =     $    O     %  $  $            A     &    ?   =     '  &  P     (  '  '  '       )     .   #  %  (       *    )  =     +         ,  N   +       -  *  ,  >  s  -  =     .    O     /  .  .            =     0         1  /  0  >  c  1  A  |  2    ?   =     3  2  >  {  3  =     4  {  A     5  d     =     6  5       7  4  6  >  b  7        8  =     9  l    	   ;  9  :    =        ;  <  e    <  =     >    O     ?  >  >                 @  ?  v  =     A    =     B    A    C    R      =     D  C       E     +   D  8   N   P     F  E  E  E  E       G     .   A  B  F  =     H    A    I    R      =     J  I       K     +   J  8   N   P     L  K  K  K  K       M     .   G  H  L  O     N  M  M                 O  @  N  >  s  O  =     P    =     Q    A    R    R      =     S  R       T     +   S  8   N   P     U  T  T  T  T       V     .   P  Q  U  =     W    A    X    R      =     Y  X       Z     +   Y  8   N   P     [  Z  Z  Z  Z       \     .   V  W  [  Q     ]  \     A  |  ^    ?   =     _  ^       `  ]  _  >  {  `  =     a  {  A     b  d     =     c  b       d  a  c  >  b  d    =    e  =     f  l    	   h  f  g    j        h  i      i  =     k    O     l  k  k                 m  l  v  =     n    O     o  n  n            =     p    O     q  p  p                 r  o  q       s  r  v  =     t    O     u  t  t            A     v    ?   =     w  v  P     x  w  w  w       y     .   s  u  x  =     z    O     {  z  z            A     |    ?   =     }  |  P     ~  }  }  }            .   y  {  ~         m    >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b      j      =       l    	                             =         O                              v  =         =         A        R      =                   +     8   N   P                         .         =         A        R      =                   +     8   N   P                         .         O                                >  s    =         =         A        R      =                   +     8   N   P                         .         =         A        R      =                   +     8   N   P                         .         Q            A         ?   =                    A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                     =         O                     A         ?   =         P                       .                    >  s    A  |      ?   =         >  {    =       {  A       d     =                    >  b            =       l    	                             =         O                              v  =         O                     A  H     g  X   =         O                     =         O                     A  H     g  =   =         O                                A         ?   =         P                       .                    =         O                     A  H     g  R   =         O                                A         ?   =         P                       .                    >  s    A         ?   =         A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =       l    	                               =         O                              v  =         O                                A  H     g  X   =     	    O     
  	  	            =         O                     A  H     g  =   =         O                                A         ?   =         P                       .   
                 >  s    A         ?   =         A  |      ?   =                    >  {    =       {  A       d     =                    >  b            =        l    	   "     !    $        "  #  I    #  =     %    O     &  %  %                 '  &  v  =     (    O     )  (  (            A  H   *  g  X   =     +  *  O     ,  +  +            =     -    O     .  -  -            A  H   /  g  =   =     0  /  O     1  0  0                 2  .  1  A     3    ?   =     4  3  P     5  4  4  4       6     .   ,  2  5       7  )  6  =     8    O     9  8  8            A  H   :  g  R   =     ;  :  O     <  ;  ;                 =  9  <  A     >    ?   =     ?  >  P     @  ?  ?  ?       A     .   7  =  @       B  '  A  >  s  B  A  |  C    ?   =     D  C  >  {  D  =     E  {  A     F  d     =     G  F       H  E  G  >  b  H    $    I  =     J  l    	   L  J  K    N        L  M  a    M  =     O    O     P  O  O                 Q  P  v  =     R    O     S  R  R                 T  Q  S  >  s  T  A     U    ?   =     V  U  A  |  W    ?   =     X  W       Y  V  X  A     Z  d     =     [  Z       \  Y  [  >  {  \  =     ]  {  A     ^  d     =     _  ^       `  ]  _  >  b  `    N    a  =     b  l    	   d  b  c    f        d  e  g    e  >    h    f    g  =     h  l    	   j  h  i    l        j  k      k  >  m  h  =     n    O     o  n  n                 p  o  v  =     q    =     r         s  q  r  =     t         u  s  t  =     v  m       w  u  v  O     x  w  w                 y  p  x  >  s  y  =     z    =     {         |  z  {  =     }         ~  |  }  =       m         ~    Q            A  |      ?   =                    >  {    =       {  A       d     =                    >  b      l      =       l    	                             =         O                              v  =         O                                =         O                                >  s    A         ?   =         A         ?   =                    A  |      ?   =                    >  {    =       {  A       d     =                    >  b              l    l    f    f    N    N    $    $                                    j    j    =    =                                                    g    g    I    I                                                    v    v    _    _    F    F    ,    ,                                                            r    r  A        X      =           	       X   =       c  =       s  >      =         >      >      A              =         >      A        X   =        Q             A        X   >      Q            A        =   >      Q            A  H       R   >      Q            A  H          >      Q           A        G   Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      Q            A  H          >      Q            A  H       G   >      A        X   =        Q             A  H       X   >      Q            A  H       =   >      =       Y  >      9                        9     =       b  Q             Q            Q            P               >      A         ?   =         A        =   ?   =           	                                   A        X      =         >      =           	       X                       A        X      =         A        X   G   G   =         A              =         P                         .         O                     >      A        =   =        Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      Q             A  H          >       Q            A  H       G   >      Q            A  H       B  >      Q            A  H       y  >      =  &       =     
    O       
  
            >  	    =         >      =         >      A        X   ?   =         >      9 	      -     	        =         O 	                      >              =         >        8  6               7        7        7  
      7        7        7        7        7        7             ;     /      ;     7      ;     :      ;     E      ;     P      ;     W      ;     ]      ;     b      ;     k      ;     x      ;     |      ;           ;           ;           ;           ;           ;           ;           =     0      >  /   0   =  	   1        	   2   1     4         2   3   4     3   =     5        5     4   >  7   9   =     ;           <      E   ;   >  :   <   A     @      =   ?   =     A   @     	   B   A   8     D         B   C   D     C   =     F   :   A  H   I      G   G   =     J   I   O     K   J   J                  L   K        M   F   L        O      +   M   8   N   >  E   O   =     Q   :   A  H   S      R   =     T   S   O     U   T   T                  V   Q   U   >  P   V   A  H   Y      G   X   =     Z   Y   O     [   Z   Z                  \   [      >  W   \   A  H   ^      G   =   =     _   ^   O     `   _   _                  a   `      >  ]   a   A  H   c      G   R   =     d   c   O     e   d   d                  f   e      >  b   f   =     g   P     	   h   g   8     j         h   i   q     i   =     l   ]   =     m   W   =     n   P   P     o   n   n   n        p      .   l   m   o   >  k   p     j     q   =     r   ]   =     s   b   =     t   P        u   t   P     v   u   u   u        w      .   r   s   v   >  k   w     j     j   =     y   k        {   y   z   >  x   {   =     }   k           }   ~   >  |      A  H         G      =           O                        =        E                 >  7      =        |   =        x   =        E                               P                            .            >  k        D     D   A           X   ?   =             	         8                            =        :   A  H            =           O                                                            +      8   N   >        A  H         =   =           O                        =                         >        A  H         X   =           O                                      >        A           =   ?   =             	         8                            =           =        7   =           P                            .            >  7      =           =        k   =           P                            .            >  k                =           >  7      =           >  k                          =           =        k   =        7                               >        =           =                         =        /                 >        >        >     9   =           =                         =                                          =                         =                              8  6     $       !   7     "   7      #     %   ;           ;           =        "   =        #   >        A              =           =        #   >        A              =           P                            .                 8  6     -       '   7  &   (   7     )   7     *   7     +   7      ,     .   ;  H         ;  H         ;  H         ;  H         ;           ;           ;           ;          ;          ;     	     ;          ;          ;          ;          ;     '     ;     -     ;     2     ;     :     ;     ;     ;      >     ;  H   A     ;     D     ;     I     ;     O     ;     P     ;      S     ;     [     ;     \     ;      _     ;     l     ;     q     ;     s     ;      v     =        ,     	                                     =        )             Q        (       >        Q        (      >        Q        (      >        Q        (      >        A              =           >        A              =           >        A             =         >       A          ?   =         >      =       *             B     >      =     
    =                
    >  	    =       	  =                               (   8     >      =         =                                           N     >      =         A             =                                          N     >      =           O     !                  =     "  *        #  !  "  A     $     ?   =     %  $       &  #  %  >    &  =     (    A     )     ?   =     *  )       +  (  *       ,     +   +  8   N   >  '  ,  =     .    =     /    =     0  '       1     .   .  /  0  >  -  1  =     4    =     5          6  4  5       7  N   6       8  3  7       9     +   8  8   N   >  2  9  =     <     O     =  <  <           >  ;  =  =     ?  ,   >  >  ?  9     @  $   ;  >  >  :  @  Q     C  (      >  A  C  =     E    A     F  A  ?   =     G  F       H  E  G  >  D  H  =     J  D  =     K  D  =     L  D       M  K  L       N  J  M  >  I  N  =     Q  A  O     R  Q  Q            >  P  R  =     T  ,   >  S  T  9     U  $   P  S  =     V  :  =     W  D       X     +   W  8   N   P     Y  X  X  X       Z     .   U  V  Y  >  O  Z  =     ]     O     ^  ]  ]            >  \  ^  =     `  ,   >  _  `  9     a  $   \  _  =     b  :  =     c  I       d     +   c  8   N   P     e  d  d  d       f     .   a  b  e  >  [  f  =     g  [  =     h  O  =     i  '  P     j  i  i  i       k     .   g  h  j  >  [  k  =     m  *        n     E   m  =     o  +        p  n  o  >  l  p  =     r  [  Q     t  (      O     u  t  t           >  s  u  =     w  ,   >  v  w  9     x  $   s  v  Q     z  (          P     {  z  z  z       |     .   r  x  {  >  q  |  =     }  l  Q     ~  (                 }  ~            +     8   N   >  l    =       l    	       8                       =       l  =       l             =       l             >  l    =       [  =       q  =       l  P                       .         >  [            =       [  =       )   =       -  =       2            %       P                       .         >  [    =       [      8  #   
  N                GLSL.std.450                      main    t   }        '  )  5  ?  C  q  :  A  C          
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         posToTexCoord(vf3;vf3;       cameraPoint      normal       edgeScan(vf3;vf3;        position         normal       blizzTranspose(mf44;         value        normPos_495      temp_500      )   temp_657      A   dotProductClamped     p   modelPoint    r   aPositionVec4     t   aPosition     z   boneTransformMat      }   boneWeights      modelWideBlockVS             uPlacementMat           uBoneMatrixes                 bones        placementMat         lDiffuseColor        meshWideBlockVS          vertexShader_IsAffectedByLight          color_Transparency          uTextMat                  cameraMatrix         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        sceneWideBlockVSPS           scene           fogData               cameraPoint      viewModelMatTransposed       param       param       param     	  normal      aNormal     combinedColor       combinedColorHalved     envCoord        param       param       edgeScanVal      param     #  param     '  vTexCoord2    )  vTexCoord3    +  uVertexShader     5  vDiffuseColor     ?  vTexCoord     C  aTexCoord     q  aTexCoord2      in_col0   8  gl_PerVertex      8      gl_Position   8     gl_PointSize      8     gl_ClipDistance   8     gl_CullDistance   :        A  vNormal   C  vPosition   G  t          G  }         G        @   H            H         #       H               H           H        #   @   H              G        G     "       G     !      G           G        @   H         #       H        #      H           H        #       H              G        G     "       G     !      H         #       H        #      H        #       H        #   0   H        #   @   H            H         #       H               H           H        #   @   H              H        #      H        #      H        #      H         #       H        #      H        #       H        #   0   H        #   @   H        #   P   H        #   `   H         #       H        #      G        G     "       G     !       G          G  '        G  )        G  5        G  ?         G  C        G  q        H  8             H  8           H  8           H  8           G  8     G  A        G  C             !                                          	         !  
   	         !                                                           !           +     "      @  *           +  *   +          ,         +  *   /      +  *   2      +     5     ?+     ;      ?,  	   =   ;   ;   +     G       +     I   ,@+     N   >  S          +  S   T          U         +  S   Y      +  S   ]      ,     q   G   G   G   G      s         ;  s   t      ,     {   q   q   q   q      |         ;  |   }         ~         +  *                                           ;                *                  ;                    *               +  *              S              2                             ;                                                                	                                                ;                       ;  s                	      &     	   ;  &  '     ,  	   (  G   G   ;  &  )        *     S      ,     S     0     4        ;  4  5     ;  &  ?        B     	   ;  B  C     ;  B  q     +  S   z     +  S        +  S        +  S        +  S        +  S        +  S   !  	   +  S   :  
   +  S   Q     +  S   q     +  S        +  S        +  S        +  S        ,       5   5   5   5   +  S        +  S   "       7     /     8        7  7     9     8  ;  9  :        @        ;  @  A     ;  @  C     +  *   F       G     F  ,     H  G   G   G   ,     I  5   5   5   ,     J  ;   ;   ;   ,  G  K  H  H  H  H  I  J  J  H  H  J  H  H  H  H    L     F  ,  L  M  G   G   G   5   5   5   G   G   G   G   5   G   G   5   6                    ;  U   p      ;  U   r      ;     z      ;           ;  U         ;           ;  U         ;           ;           ;          ;          ;     	     ;  U        ;  U        ;         ;          ;          ;  ,        ;           ;     #     ;  *  +     ;  U        >  p   q   =     u   t   Q     v   u       Q     w   u      Q     x   u      P     y   v   w   x   5   >  r   y   >  z   {   A  ~      }   +   =           A           +   =  *         A           Y      =                         =        z   Q               Q                             Q              Q                            Q              Q                            Q              Q                            P                    >  z      A  ~      }   /   =           A           /   =  *         A           Y      =                         =        z   Q               Q                             Q              Q                            Q              Q                            Q              Q                            P                    >  z      A  ~      }   2   =           A           2   =  *         A           Y      =                         =        z   Q               Q                             Q              Q                            Q              Q                            Q              Q                            P                    >  z      A  ~      }      =           A              =  *         A           Y      =                         =        z   Q               Q                             Q              Q                            Q              Q                            Q              Q                            P                    >  z      A           T   =           >        A           Y   =           >        A           T   T   =           =                         =        z                 >        =           =        r                 >        A           T   T   =           >        9              =          >      9                        =       z   >      9                       >       =     
     =                
              E     >  	    =          P       G   G   G   G   P       5   5   5   5             +         >      =                  ;   >      =          O                     >      =       	  >      9  	            >      =     !     O     "  !  !            >     "  =     $  	  >  #  $  9     %        #  >    %  >  '  (  >  )  (  A  ,  -     T   +   =  S   .  -  >  +  .  =  S   /  +    0  1  /  T     3        1  2  J    2  A  ,   6    +   =     7  6  A  ,   8    /   =     9  8  A  ,   :    2   =     ;  :  A  ,   <       =     =  <  P     >  7  9  ;  =  >  5  >  A     @     ]   T   =     A  @  =  	   D  C  Q     E  D      Q     F  D     P     G  E  F  G   5        H  A  G  O  	   I  H  H         >  ?  I    3    J  =  S   K  +    0  L  K  Y     N        L  M  Y    M  A  ,   O    +   =     P  O  A  ,   Q    /   =     R  Q  A  ,   S    2   =     T  S  A  ,   U       =     V  U  P     W  P  R  T  V  >  5  W  =  	   X    >  ?  X    N    Y  =  S   Z  +    0  [  Z  ]     ]        [  \  x    \  A  ,   ^    +   =     _  ^  A  ,   `    /   =     a  `  A  ,   b    2   =     c  b  A  ,   d       =     e  d  P     f  _  a  c  e  >  5  f  A     g     ]   T   =     h  g  =  	   i  C  Q     j  i      Q     k  i     P     l  j  k  G   5        m  h  l  O  	   n  m  m         >  ?  n  A     o     ]   Y   =     p  o  =  	   r  q  Q     s  r      Q     t  r     P     u  s  t  G   5        v  p  u  O  	   w  v  v         >  '  w    ]    x  =  S   y  +    0  {  y  z    }        {  |      |  A  ,   ~    +   =       ~  A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    =  	       >  '      }      =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    =  	       >  ?    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  '            =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    =  	       >  ?    =  	       >  '            =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    =  	       >  '    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  )            =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  '            =  S     +    0                            A  ,       +   =         A  ,        /   =          A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	   	  C  Q     
  	      Q       	     P       
    G   5              O  	                >  ?    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  '    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  )            =  S      +    0  "     !    $        "  #  8    #  A  ,   %    +   =     &  %  A  ,   '    /   =     (  '  A  ,   )    2   =     *  )  A  ,   +       =     ,  +  =     -         .  ,  -  P     /  &  (  *  .  >  5  /  A     0     ]   T   =     1  0  =  	   2  C  Q     3  2      Q     4  2     P     5  3  4  G   5        6  1  5  O  	   7  6  6         >  ?  7    $    8  =  S   9  +    0  ;  9  :    =        ;  <  O    <  A  ,   >    +   =     ?  >  A  ,   @    /   =     A  @  A  ,   B    2   =     C  B  A  ,   D       =     E  D  P     F  ?  A  C  E  >  5  F  A     G     ]   Y   =     H  G  =  	   I  q  Q     J  I      Q     K  I     P     L  J  K  G   5        M  H  L  O  	   N  M  M         >  ?  N    =    O  =  S   P  +    0  R  P  Q    T        R  S  o    S  A  ,   U    +   =     V  U  A  ,   W    /   =     X  W  A  ,   Y    2   =     Z  Y  A  ,   [       =     \  [  P     ]  V  X  Z  \  >  5  ]  A     ^     ]   T   =     _  ^  =  	   `  C  Q     a  `      Q     b  `     P     c  a  b  G   5        d  _  c  O  	   e  d  d         >  ?  e  =  	   f    >  '  f  A     g     ]   Y   =     h  g  =  	   i  q  Q     j  i      Q     k  i     P     l  j  k  G   5        m  h  l  O  	   n  m  m         >  )  n    T    o  =  S   p  +    0  r  p  q    t        r  s      s  A  ,   u    +   =     v  u  A  ,   w    /   =     x  w  A  ,   y    2   =     z  y  A  ,   {       =     |  {  =     }         ~  |  }  P       v  x  z  ~  >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    A          ]   Y   =         =  	     q  Q             Q            P           G   5              O  	                >  '      t      =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         =                    P               >  5    =  	       >  ?            =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    A          ]   Y   =         =  	     q  Q             Q            P           G   5              O  	                >  '    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  )            =  S     +    0                            A  ,       +   =         A  ,       /   =         A  ,       2   =         A  ,          =         P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?    A          ]   Y   =         =  	     q  Q             Q            P           G   5              O  	                >  '    =  	     )  >  )            =  S     +    0                      	      >      =         O                              ;   Q             =         O                              ;   Q            =         O                              ;   Q            A  ,          =         P               >  5    A           ]   Y   =          =  	     q  Q             Q            P           G   5              O  	                >  ?    >  '  (  =  	     )  >  )          	  =  S   
  +    0    
                         =         O                              ;   A  ,          =         Q             Q            Q            P               >  5    A          ]   T   =         =  	     C  Q             Q            P           G   5              O  	                >  ?             =  S   !  +    0  #  !  "    %        #  $  %    $  =     &    O     '  &  &                 (  '  ;   A  ,   )       =     *  )  Q     +  (      Q     ,  (     Q     -  (     P     .  +  ,  -  *  >  5  .  A     /     ]   T   =     0  /  =  	   1  C  Q     2  1      Q     3  1     P     4  2  3  G   5        5  0  4  O  	   6  5  5         >  ?  6    %    %                                            t    t    T    T    =    =    $    $                                            }    }    ]    ]    N    N    3    3  A     ;     T   Y   =     <  ;  =     =          >  <  =  A  4  ?  :  T   >  ?  >  =     B  	  >  A  B  =     D     O     E  D  D            >  C  E    8  6  	          
   7        7             ;           ;           ;     )      =                      E      >        =            =     !      =     #      =     $           %   #   $        &   "   %        '   !   &        (       '   >     (   A  ,   -      +   =     .   -   A  ,   0      /   =     1   0   A  ,   3      2   =     4   3        6   4   5   P     7   .   1   6   >  )   7   =     8   )        9      E   8   O  	   :   9   9            	   <   :   ;     	   >   <   =     >   8  6               7        7             ;  ,   A      =     B           C      E   B        D   C   =     E           F   D   E        H      +   F   G   5   >  A   H   =     J   A        K   I   J   =     L   A        M   K   L        O   M   N        P      +   O   G   5     P   8  6               7             A  U   V      T   =     W   V   O     X   W   W             A  U   Z      Y   =     [   Z   O     \   [   [             A  U   ^      ]   =     _   ^   O     `   _   _             Q     a   X       Q     b   X      Q     c   X      Q     d   \       Q     e   \      Q     f   \      Q     g   `       Q     h   `      Q     i   `      P     j   a   b   c   P     k   d   e   f   P     l   g   h   i   P     m   j   k   l     m   8  #   
                  GLSL.std.450                     main                                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         InteriorLightParam           uInteriorAmbientColorAndApplyInteriorLight          uInteriorDirectColorAndApplyExteriorLight    +    calcLight(vf3;vf3;b1;f1;struct-SceneWideParams-mf44-mf44-vf4-vf4-struct-SceneExteriorLight-vf4-vf4-vf4-vf4-vf411;struct-InteriorLightParam-vf4-vf41;vf3;vf3;vf3;         matDiffuse       vNormal      applyLight       interiorExteriorBlend        sceneParams      intLight         accumLight       precomputedLight         specular     	 $   validateFogColor(vf3;i1;      "   fogColor      #   blendMode     &   PSFog     &       densityParams     &      heightPlane  	 &      color_and_heightRate     
 &      heightDensity_and_endColor   	 &      sunAngle_and_sunColor     &      heightColor_and_endFogDistance    &      sunPercentage     -   makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;     (   fogData   )   final     *   vertexInViewSpace     +   sunDirInViewSpace     ,   blendMode     /   localDiffuse      7   lDiffuse      :   normalizedN   E   nDotL     P   nDotUp    W   adjAmbient    ]   adjHorizAmbient   b   adjGroundAmbient      k   currColor     x   skyColor      |   groundColor      nDotL        lDiffuseInterior         interiorAmbient      gammaDiffTerm        linearDiffTerm       specTerm         emTerm       indexable        indexable        l_densityParams      l_heightPlane        l_color_and_heightRate   
    l_heightDensity_and_endColor         start        end      density     bias        vLength   	  z       expMax      expFog      expFogHeight        height    '  heightFog     -  finalFog      2  endFadeFog    :  endColor      ;  param     >  param     A  l_heightColor_and_endFogDistance      D  end2      I  end2_cube     O  heightColor   P  param     S  param     [  fogFinal      \  param     _  param     l  nDotSun   q  sunColor      s  param     v  param       texCoord        vTexCoord       texCoord2       vTexCoord2      texCoord3       vTexCoord3      tex     uTexture        tex2        uTexture2       tex3        uTexture3       finalColor      meshResColor        vDiffuseColor       meshWideBlockPS         PixelShader_UnFogged_IsAffectedByLight_blendMode     	      uFogColorAndAlphaTest          uPcColor                vPos3       vPosition       vNormal3        vNormal     lightColor      count       InteriorLightParam          uInteriorAmbientColorAndApplyInteriorLight         uInteriorDirectColorAndApplyExteriorLight       LocalLight          color          position           attenuation     modelWideBlockPS            intLight           pc_lights          lightCountAndBcHack  	      interiorExteriorBlend               index       LocalLight          color          position           attenuation     lightRecord     vectorToLight       SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData             modelWideBlockVS            uPlacementMat          uBoneMatrixes               distanceToLightSqr      distanceToLightInv      distanceToLight     diffuseTerm1      "  attenuationRec    %  attenuation   3  attenuatedColor   L  accumLight    U  finalOpacity      V  specular      W  matDiffuse    \  param     ^  param     `  param     a  param     d  param     ~  param       param       uUnFogged       sunDir      PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       arg     param       param       param       param       outputColor     uTexture4   G        G        G        G           G          G          G    "      G    !      G    "      G    !      G    "      G    !      G          H        #       H       #      H       #       G       G    "       G    !      G          G          H        #       H       #      H        #       H       #      H       #       G       0   H        #       H       #       H       #      H       #      G       G    "       G    !      H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G    "       G    !       G       @   H           H        #       H              H          H       #   @   H             G       G    "       G    !      G           G    "      G    !           !                                          	      
      	                                                                                                                !              
                                              !  !              	 &                        !  '      &                +     8       ,     9   8   8   8   +     =        >           +  >   ?      +     G         H         +     N     ?+     R      +     X       +     z   ?+     ~   333?+           +           ?+  >                    ,        N   N   N   ,                 ,        9   9   9   9            9   9      9   9   9   9                          ,        8   8   8   N   N   N   8   8   8   8   N   8   8   N               +           +  >          +  >         +  >         +     3  n?+     B     +     y                                   ;         ;         ;          	                                             ;          ;          ;          ,       8   8   8   8              ;                                         ;                               ;         ;                                +  >                                       ;                                                                                           	                                          ;                    +  >                                    ;            e          i           r                                        	                                &              ;         ;          6                    ;         ;         ;         ;  H        ;  H        ;  H        ;  H        ;  H        ;          ;          ;          ;           ;           ;         ;          ;          ;          ;          ;          ;  H   "     ;     %     ;     3     ;     L     ;     U     ;     V     ;     W     ;     \     ;     ^     ;  
   `     ;     a     ;     d     ;     ~     ;          ;           ;          ;         ;          ;          ;          ;           =        >      =        >      =        >      =        =        W           >      =        =        W           >      =        =        W           >      >      =         >      A        X      =           	       =                       =         >      =                   E     >      >    9   A        =   X   R   ?   =         n         >      >    X                             =           	       G               =         A        R      =           	                                     =         A        =     =        Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      A         X   X   =          A        X   =         A  H   	    =   =     
  	           
             O                     =                    >      =         =                    >      =                         >      =         =                    >      =         =                    =                          !     (      8   >    !  A  H   #    R   =     $  #  >  "  $  =     &    A     '  "     =     (  '       )  &  (  A     *  "     =     +  *  A     ,  "     =     -  ,       .  +  -       /  N   .       0  )  /       1     +   0  8   N        2  N   1  >  %  2  =     4  %  A  H   5    X   =     6  5  O     7  6  6                 8  7  4  >  3  8  =     9    =     :  3  =     ;  3       <  :  ;  =     =         >  <  =  Q     ?  >      Q     @  >     Q     A  >     P     B  ?  @  A       C  9  B  >    C          =     D         E  D  =   >    E          =     F    P     G  8   8   8   P     H  N   N   N        I     +   F  G  H  =     J    O 	    K  J  I              >    K  =     M    =     N    O     O  N  N            A    P    R      =     Q  P  o     R  Q  P     S  R  R  R       T     .   M  O  S  >  L  T          >  U  8   >  V  9   A    X    X      =     Y  X    	   Z  Y  X   =     [  V  =     ]  W  >  \  ]  =     _    >  ^  _  >  `  Z  A    b          =     c  b  >  a  c  A  e  f    X   =    g  f  Q     h  g      A  i  j  d  X   >  j  h  Q     k  g     A  i  l  d  =   >  l  k  Q     m  g     A  H   n  d  R   >  n  m  Q     o  g     A  H   p  d     >  p  o  Q    q  g     A  r  s  d  G   Q     t  q      A  H   u  s  X   >  u  t  Q     v  q     A  H   w  s  =   >  w  v  Q     x  q     A  H   y  s  R   >  y  x  Q     z  q     A  H   {  s     >  {  z  Q     |  q     A  H   }  s  G   >  }  |  A        X   =        Q             A  H     ~  X   >      Q            A  H     ~  =   >      =       L  >      9          \  ^  `  a  d  ~    9   [  =       U  Q             Q            Q            P               >      A         ?   =         A        =   ?   =           	                                   A        X      =         >      =           	       X                       A        X      =         A        X   G   G   =         A              =         P                         .         O                     >      A        =   =        Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      Q            A  H          >      Q            A  H       G   >      Q            A  H       B  >      Q            A  H       y  >      =  &       =         O                     >      =         >      =         >      A        X   ?   =         >      9 	      -             =         O 	                      >              =         >        8  6               7        7        7  
      7        7        7        7        7        7             ;     /      ;     7      ;     :      ;     E      ;     P      ;     W      ;     ]      ;     b      ;     k      ;     x      ;     |      ;           ;           ;           ;           ;           ;           ;           =     0      >  /   0   =  	   1        	   2   1     4         2   3   4     3   =     5        5     4   >  7   9   =     ;           <      E   ;   >  :   <   A     @      =   ?   =     A   @     	   B   A   8     D         B   C   D     C   =     F   :   A  H   I      G   G   =     J   I   O     K   J   J                  L   K        M   F   L        O      +   M   8   N   >  E   O   =     Q   :   A  H   S      R   =     T   S   O     U   T   T                  V   Q   U   >  P   V   A  H   Y      G   X   =     Z   Y   O     [   Z   Z                  \   [      >  W   \   A  H   ^      G   =   =     _   ^   O     `   _   _                  a   `      >  ]   a   A  H   c      G   R   =     d   c   O     e   d   d                  f   e      >  b   f   =     g   P     	   h   g   8     j         h   i   q     i   =     l   ]   =     m   W   =     n   P   P     o   n   n   n        p      .   l   m   o   >  k   p     j     q   =     r   ]   =     s   b   =     t   P        u   t   P     v   u   u   u        w      .   r   s   v   >  k   w     j     j   =     y   k        {   y   z   >  x   {   =     }   k           }   ~   >  |      A  H         G      =           O                        =        E                 >  7      =        |   =        x   =        E                               P                            .            >  k        D     D   A           X   ?   =             	         8                            =        :   A  H            =           O                                                            +      8   N   >        A  H         =   =           O                        =                         >        A  H         X   =           O                                      >        A           =   ?   =             	         8                            =           =        7   =           P                            .            >  7      =           =        k   =           P                            .            >  k                =           >  7      =           >  k                          =           =        k   =        7                               >        =           =                         =        /                 >        >        >     9   =           =                         =                                          =                         =                              8  6     $       !   7     "   7      #     %   ;           ;           =        "   =        #   >        A              =           =        #   >        A              =           P                            .                 8  6     -       '   7  &   (   7     )   7     *   7     +   7      ,     .   ;  H         ;  H         ;  H         ;  H         ;           ;           ;           ;          ;          ;     	     ;          ;          ;          ;          ;     '     ;     -     ;     2     ;     :     ;     ;     ;      >     ;  H   A     ;     D     ;     I     ;     O     ;     P     ;      S     ;     [     ;     \     ;      _     ;     l     ;     q     ;     s     ;      v     =        ,     	                                     =        )             Q        (       >        Q        (      >        Q        (      >        Q        (      >        A              =           >        A              =           >        A             =         >       A          ?   =         >      =       *             B     >      =     
    =                
    >  	    =       	  =                               (   8     >      =         =                                           N     >      =         A             =                                          N     >      =           O     !                  =     "  *        #  !  "  A     $     ?   =     %  $       &  #  %  >    &  =     (    A     )     ?   =     *  )       +  (  *       ,     +   +  8   N   >  '  ,  =     .    =     /    =     0  '       1     .   .  /  0  >  -  1  =     4    =     5          6  4  5       7  N   6       8  3  7       9     +   8  8   N   >  2  9  =     <     O     =  <  <           >  ;  =  =     ?  ,   >  >  ?  9     @  $   ;  >  >  :  @  Q     C  (      >  A  C  =     E    A     F  A  ?   =     G  F       H  E  G  >  D  H  =     J  D  =     K  D  =     L  D       M  K  L       N  J  M  >  I  N  =     Q  A  O     R  Q  Q            >  P  R  =     T  ,   >  S  T  9     U  $   P  S  =     V  :  =     W  D       X     +   W  8   N   P     Y  X  X  X       Z     .   U  V  Y  >  O  Z  =     ]     O     ^  ]  ]            >  \  ^  =     `  ,   >  _  `  9     a  $   \  _  =     b  :  =     c  I       d     +   c  8   N   P     e  d  d  d       f     .   a  b  e  >  [  f  =     g  [  =     h  O  =     i  '  P     j  i  i  i       k     .   g  h  j  >  [  k  =     m  *        n     E   m  =     o  +        p  n  o  >  l  p  =     r  [  Q     t  (      O     u  t  t           >  s  u  =     w  ,   >  v  w  9     x  $   s  v  Q     z  (          P     {  z  z  z       |     .   r  x  {  >  q  |  =     }  l  Q     ~  (                 }  ~            +     8   N   >  l    =       l    	       8                       =       l  =       l             =       l             >  l    =       [  =       q  =       l  P                       .         >  [            =       [  =       )   =       -  =       2            %       P                       .         >  [    =       [      8  #   
                   GLSL.std.450                     main                              main         FXAA_SPAN_MAX     
   FXAA_REDUCE_MUL      FXAA_REDUCE_MIN      rgbNW        u_sampler        v_texcoord        meshWideBlockPS           gauss_offsets            gauss_weights            uResolution   "         -   rgbNE     8   rgbSW     B   rgbSE     L   rgbM      Q   luma      V   lumaNW    Z   lumaNE    ^   lumaSW    b   lumaSE    f   lumaM     j   lumaMin   t   lumaMax      dir      dirReduce        rcpDirMin        rgbA         rgbB         lumaB        outputColor      u_depth G     "       G     !      G            G           G           H          #       H         #   P   H         #      G         G  "   "       G  "   !      G            G     "       G     !           !                             +     	      A+           >+           <                        	                                                  ;                                   ;           +          ,                           +                                                   !          ;  !   "        #          +  #   $         %           *         +     0     ?,     1   0      ,     ;      0   ,     E   0   0   +     R   >+     S   E?+     T   x=,     U   R   S   T      ~         +            +           +          >+           ?+        *+        *>+                         *   ;           ;            6                    ;           ;     
      ;           ;           ;     -      ;     8      ;     B      ;     L      ;     Q      ;     V      ;     Z      ;     ^      ;     b      ;     f      ;     j      ;     t      ;  ~         ;           ;           ;           ;           ;           >     	   >  
      >        =           =           A  %   &   "   $   =     '   &        (      '        )      (   W  *   +      )   O     ,   +   +             >     ,   =     .      =     /      A  %   2   "   $   =     3   2        4   1   3        5   /   4   W  *   6   .   5   O     7   6   6             >  -   7   =     9      =     :      A  %   <   "   $   =     =   <        >   ;   =        ?   :   >   W  *   @   9   ?   O     A   @   @             >  8   A   =     C      =     D      A  %   F   "   $   =     G   F        H   E   G        I   D   H   W  *   J   C   I   O     K   J   J             >  B   K   =     M      =     N      W  *   O   M   N   O     P   O   O             >  L   P   >  Q   U   =     W      =     X   Q        Y   W   X   >  V   Y   =     [   -   =     \   Q        ]   [   \   >  Z   ]   =     _   8   =     `   Q        a   _   `   >  ^   a   =     c   B   =     d   Q        e   c   d   >  b   e   =     g   L   =     h   Q        i   g   h   >  f   i   =     k   f   =     l   V   =     m   Z        n      %   l   m   =     o   ^   =     p   b        q      %   o   p        r      %   n   q        s      %   k   r   >  j   s   =     u   f   =     v   V   =     w   Z        x      (   v   w   =     y   ^   =     z   b        {      (   y   z        |      (   x   {        }      (   u   |   >  t   }   =        V   =        Z                 =        ^   =        b                                          A              >        =        V   =        ^                 =        Z   =        b                               A              >        =        V   =        Z                 =        ^                 =        b                 =        
                               =                      (         >        A              =                            A              =                                       %         =                                 0      >        =           =           P              =                      =                      P              =           =                                    (                    %         A  %      "   $   =                         >        =           =           =                                       W  *            O                        =           =           =                                       W  *            O                                                    >        =                         =           =           =                                       W  *            O                        =           =           =                                       W  *            O                                                                  >        =           =        Q                 >        =           =        j                 =           =        t                                                        =           =  *         O 	 *                        >                  =           =  *         O 	 *                        >                    8  #   
                   GLSL.std.450                      main                         main         gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               a_position       v_texcoord  H                H              H              H              G        G            G                 !                                         +     	        
      	              
   
               ;                       +                        ;                                              ;           +           ?6                    =           A              >        =           O                                   P                            >          8  #   
  D                GLSL.std.450              	       main            B                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main     	    validateFogColor(vf3;i1;         fogColor         blendMode        PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;        fogData      final        vertexInViewSpace        sunDirInViewSpace        blendMode     '   indexable     .   indexable     ?   l_densityParams   B   l_heightPlane     E   l_color_and_heightRate   
 H   l_heightDensity_and_endColor      K   start     O   end   S   density   W   bias      [   vLength   ^   z     b   expMax    g   expFog    m   expFogHeight      t   height    |   heightFog        finalFog         endFadeFog       endColor         param        param        l_heightColor_and_endFogDistance         end2         end2_cube        heightColor      param        param        fogFinal         param        param        nDotSun      sunColor         param        param        tex      uTexture         vTexcoord0       finalColor       vColor      sunDir      SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData             vPosition       meshWideBlockPS         uAlphaTestv        uPixelShaderv              !  PSFog     !      densityParams     !     heightPlane  	 !     color_and_heightRate     
 !     heightDensity_and_endColor   	 !     sunAngle_and_sunColor     !     heightColor_and_endFogDistance    !     sunPercentage     #  arg   3  param     6  param     8  param     :  param     B  outputColor G     "      G     !      G           G           H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G    "       G    !       G           H        #       H       #      G       G     "       G     !      G  B              !                                          	             
      	   !           
               	                         !                    
                +                      +            ,                 +           ?,     !               +     "      ?,     #   "   "   "   ,     $               !   #   #         #                  &           *         ,  *   +                                                     -      *      /         +  	   7        8      >         +  	   @       +  	   C      +  	   F      +  	   I      +     L       +     P      +     T      +     X      +        n?+  	         +  	         +  	          	                                                  ;                                   ;                       ;                                                                    	                                          ;                                         ;             	                         ;           	 !                          "           ;     	      A        ;  A  B     6                    ;  >         ;  >         ;          ;  "  #     ;     3     ;     6     ;     8     ;  
   :     =           =           W              >        =           O                        =           O                                     A  /        X   =         A         X   =                    Q             Q     	       Q     
       P         	  
    >       A        @         =         O                     >      A        C   =        Q     $        A  >   %  #  @   >  %  $  Q     &       A  >   '  #  C   >  '  &  Q     (       A  >   )  #  F   >  )  (  Q     *       A  >   +  #  I   >  +  *  Q     ,       A  >   -  #     >  -  ,  Q     .       A  >   /  #     >  /  .  Q     0       A  >   1  #     >  1  0  =     2  #  =     4     O     5  4  4            >  3  5  =     7    >  6  7  =     9    >  8  9  A  ;  <     C   P   =  	   =  <  >  :  =  9 	    >     2  3  6  8  :  =     ?     O 	    @  ?  >              >     @  =     C     >  B  C    8  6               7        7  
           ;  &   '      ;  -   .      =           =  	   %      >  '   $   A     (   '   %   =     )   (   =  	   ,      >  .   +   A  /   0   .   ,   =     1   0   P     2   1   1   1        3      .      )   2     3   8  6               7        7        7        7        7  
           ;  >   ?      ;  >   B      ;  >   E      ;  >   H      ;  /   K      ;  /   O      ;  /   S      ;  /   W      ;  /   [      ;  /   ^      ;  /   b      ;  /   g      ;  /   m      ;  /   t      ;  /   |      ;  /         ;  /         ;           ;           ;  
         ;  >         ;  /         ;  /         ;           ;           ;  
         ;           ;           ;  
         ;  /         ;           ;           ;  
         =  	   6        8   9   6   7     ;         9   :   ;     :   =     <        <     ;   Q     A          >  ?   A   Q     D         >  B   D   Q     G         >  E   G   Q     J         >  H   J   A  /   M   ?   L   =     N   M   >  K   N   A  /   Q   ?   P   =     R   Q   >  O   R   A  /   U   ?   T   =     V   U   >  S   V   A  /   Y   ?   X   =     Z   Y   >  W   Z   =     \           ]      B   \   >  [   ]   =     _   [   =     `   W        a   _   `   >  ^   a   =     c   ^   =     d   K        e   c   d        f      (      e   >  b   f   =     h   b   =     i   S        j   h   i        k         j        l       k   >  g   l   =     n   b   A  /   o   H   L   =     p   o        q   n   p        r         q        s       r   >  m   s   =     u   B   O     v   u   u             =     w           x   v   w   A  /   y   B   X   =     z   y        {   x   z   >  t   {   =     }   t   A  /   ~   E   X   =        ~           }                 +             >  |      =        g   =        m   =        |              .            >        =        [   =        O                                                         +             >        =        H   O                       >        =  	         >        9                 >        Q              >        =        [   A  /         X   =                         >        =           =           =                                       >        =           O                        >        =  	         >        9                 =           =                      +             P                            .            >        =        E   O                        >        =  	         >        9                 =           =                      +             P                            .            >        =           =           =        |   P                            .            >        =                      E      =                         >        =           Q              O                       >        =  	         >        9                 Q                  P                            .            >        =           Q                                           +             >        =             8                                     =           =                         =                         >        =           =           =           P                            .            >                  =           =           =           =                      %         P                            .            >        =                8  #   
  G                 GLSL.std.450                      main                   .   6           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   aPositionVec4        aPosition        vColor       aColor       vTexcoord0       aTexcoord0       vertexViewSpace       SceneExteriorLight   	         uExteriorAmbientColor            uExteriorHorizontAmbientColor    
        uExteriorGroundAmbientColor  	        uExteriorDirectColor     	        uExteriorDirectColorDir   !   SceneWideParams   !       uLookAtMat    !      uPMatrix      !      uViewUp   !      uInteriorSunDir   !      extLight      "   PSFog     "       densityParams     "      heightPlane  	 "      color_and_heightRate     
 "      heightDensity_and_endColor   	 "      sunAngle_and_sunColor     "      heightColor_and_endFogDistance    "      sunPercentage     #   sceneWideBlockVSPS    #       scene     #      fogData   %         .   vPosition     4   gl_PerVertex      4       gl_Position   4      gl_PointSize      4      gl_ClipDistance   4      gl_CullDistance   6       G            G           G           G           G           H          #       H         #      H         #       H         #   0   H         #   @   H  !          H  !       #       H  !             H  !         H  !      #   @   H  !            H  !      #      H  !      #      H  !      #      H  "       #       H  "      #      H  "      #       H  "      #   0   H  "      #   @   H  "      #   P   H  "      #   `   H  #       #       H  #      #      G  #      G  %   "       G  %   !       G  .          H  4              H  4            H  4            H  4            G  4           !                                          
                  
   ;           +          ?            ;                       ;                                  ;                       ;                                             !                    	 "                          #   !   "      $      #   ;  $   %        &          +  &   '          (            -      
   ;  -   .        1           +  1   2        3      2     4         3   3      5      4   ;  5   6      +  &   7      +  1   =        >   
   =   +     ?       ,  
   @   ?   ?   ?   ,  
   A            +     B      ?,  
   C   B   B   B   ,  >   D   @   @   @   @   A   C   C   @   @   C   @   @   @   @     E      =   ,  E   F   ?   ?   ?            ?   ?   ?   ?      ?   ?      6                    ;     	      ;           =  
         Q               Q              Q              P                    >  	      =           >        =           >        A  (   )   %   '   '   =     *   )   =     +   	        ,   *   +   >     ,   =     /      O  
   0   /   /             >  .   0   A  (   8   %   '   7   =     9   8   =     :           ;   9   :   A     <   6   '   >  <   ;     8  #   
                   GLSL.std.450                     main    	                      
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   outputColor      vColor  G  	          G                 !                                        ;     	         
         ;  
                                 +                       6                    =           O                        A              =           Q               Q              Q              P                    >  	        8  #   
  _                 GLSL.std.450                      main       >   O           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   inputPos         aPosition        cameraPos        SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        sceneWideBlockVSPS           scene           fogData            7   vertPosInNDC      >   vColor    A   meshWideBlockVS   A       skyColor      C         M   gl_PerVertex      M       gl_Position   M      gl_PointSize      M      gl_ClipDistance   M      gl_CullDistance   O       G            H         #       H        #      H        #       H        #   0   H        #   @   H            H         #       H               H           H        #   @   H              H        #      H        #      H        #      H         #       H        #      H        #       H        #   0   H        #   @   H        #   P   H        #   `   H         #       H        #      G        G     "       G     !       G  >          G  @         H  A       #       G  A      G  C   "       G  C   !      H  M              H  M            H  M            H  M            G  M           !                                          
                  
   ;           +        TB         
        
           
   
   
   
   
              
   
       	    
   
   
   
   
   
   
                          ;                       +                        +     !     ?+     )         *      
     1           +  1   2         3         +     8         =      
   ;  =   >      +  1   ?        @   
   ?     A   @      B      A   ;  B   C      +  1   D         E         +  1   K        L      K     M   
      L   L      N      M   ;  N   O      +  1   U        V      U   +     W       ,     X   W   W   W   ,     Y   !   !   !   +     Z      ?,     [   Z   Z   Z   ,  V   \   X   X   X   X   Y   [   [   X   X   [   X   X   X   X     ]      U   ,  ]   ^   W   W   W   !   !   !   W   W   W   W   !   W   W   !   6                    ;     	      ;           ;     7      =  
         O                        >  	      =        	                 >  	      A                 =           =         	   Q     "           Q     #          Q     $          P  
   %   "   #   $   !     
   &      %   >     &   =  
   '      O     (   '   '             A  *   +            )   =  
   ,   +   O     -   ,   ,                  .   (   -   =  
   /      O 	 
   0   /   .               >     0   A  3   4      2   =     5   4   A  3   6      2   >  6   5   A     9         8   =     :   9   =  
   ;        
   <   :   ;   >  7   <   A  E   F      D   =     G   F   n     H   G   A  *   I   C      H   =  
   J   I   >  >   J   A     P         8   =     Q   P   =  
   R        
   S   Q   R   A  =   T   O      >  T   S     8  #   
  5                GLSL.std.450                     main         .                  
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main     	    validateFogColor(vf3;i1;         fogColor         blendMode        PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;        fogData      final        vertexInViewSpace        sunDirInViewSpace        blendMode     '   indexable     .   indexable     ?   l_densityParams   B   l_heightPlane     E   l_color_and_heightRate   
 H   l_heightDensity_and_endColor      K   start     O   end   S   density   W   bias      [   vLength   ^   z     b   expMax    g   expFog    m   expFogHeight      t   height    |   heightFog        finalFog         endFadeFog       endColor         param        param        l_heightColor_and_endFogDistance         end2         end2_cube        heightColor      param        param        fogFinal         param        param        nDotSun      sunColor         param        param        finalColor       meshWideBlockPS          color                 uTexture         vTextCoords     sunDir      SceneExteriorLight   	       uExteriorAmbientColor          uExteriorHorizontAmbientColor    
      uExteriorGroundAmbientColor  	      uExteriorDirectColor     	      uExteriorDirectColorDir     SceneWideParams         uLookAtMat         uPMatrix           uViewUp        uInteriorSunDir        extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData   
          vPosition       PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       arg   %  param     '  param     )  param     +  param     .  outputColor H         #       G        G     "       G     !      G     "      G     !      G           H        #       H       #      H       #       H       #   0   H       #   @   H           H        #       H              H          H       #   @   H             H       #      H       #      H       #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G  
  "       G  
  !       G           G  .              !                                          	             
      	   !           
               	                         !                    
                +                      +            ,                 +           ?,     !               +     "      ?,     #   "   "   "   ,     $               !   #   #         #                  &           *         ,  *   +                                                     -      *      /         +  	   7        8      >         +  	   @       +  	   C      +  	   F      +  	   I      +     L       +     P      +     T      +     X      +        n?+  	         +  	         +  	                             ;                        	                                                  ;                                   ;                                                         	                                   	       ;  	  
                          ;          	                                      -        ;  -  .     +     0  333?6                    ;           ;          ;         ;     %     ;     '     ;     )     ;  
   +     A           @   =           O                        =           =           W              O                                   >       A       
  @         =         O                     >      A      
  C   =        Q             A  >       @   >      Q            A  >       C   >      Q            A  >       F   >      Q            A  >       I   >      Q            A  >          >      Q             A  >   !       >  !     Q     "       A  >   #       >  #  "  =     $    =     &     >  %  &  =     (    >  '  (  =     *    >  )  *  >  +  F   9 	    ,     $  %  '  )  +  >     ,  =     /     Q     1  /      Q     2  /     Q     3  /     P     4  1  2  3  0  >  .  4    8  6               7        7  
           ;  &   '      ;  -   .      =           =  	   %      >  '   $   A     (   '   %   =     )   (   =  	   ,      >  .   +   A  /   0   .   ,   =     1   0   P     2   1   1   1        3      .      )   2     3   8  6               7        7        7        7        7  
           ;  >   ?      ;  >   B      ;  >   E      ;  >   H      ;  /   K      ;  /   O      ;  /   S      ;  /   W      ;  /   [      ;  /   ^      ;  /   b      ;  /   g      ;  /   m      ;  /   t      ;  /   |      ;  /         ;  /         ;           ;           ;  
         ;  >         ;  /         ;  /         ;           ;           ;  
         ;           ;           ;  
         ;  /         ;           ;           ;  
         =  	   6        8   9   6   7     ;         9   :   ;     :   =     <        <     ;   Q     A          >  ?   A   Q     D         >  B   D   Q     G         >  E   G   Q     J         >  H   J   A  /   M   ?   L   =     N   M   >  K   N   A  /   Q   ?   P   =     R   Q   >  O   R   A  /   U   ?   T   =     V   U   >  S   V   A  /   Y   ?   X   =     Z   Y   >  W   Z   =     \           ]      B   \   >  [   ]   =     _   [   =     `   W        a   _   `   >  ^   a   =     c   ^   =     d   K        e   c   d        f      (      e   >  b   f   =     h   b   =     i   S        j   h   i        k         j        l       k   >  g   l   =     n   b   A  /   o   H   L   =     p   o        q   n   p        r         q        s       r   >  m   s   =     u   B   O     v   u   u             =     w           x   v   w   A  /   y   B   X   =     z   y        {   x   z   >  t   {   =     }   t   A  /   ~   E   X   =        ~           }                 +             >  |      =        g   =        m   =        |              .            >        =        [   =        O                                                         +             >        =        H   O                       >        =  	         >        9                 >        Q              >        =        [   A  /         X   =                         >        =           =           =                                       >        =           O                        >        =  	         >        9                 =           =                      +             P                            .            >        =        E   O                        >        =  	         >        9                 =           =                      +             P                            .            >        =           =           =        |   P                            .            >        =                      E      =                         >        =           Q              O                       >        =  	         >        9                 Q                  P                            .            >        =           Q                                           +             >        =             8                                     =           =                         =                         >        =           =           =           P                            .            >                  =           =           =           =                      %         P                            .            >        =                8  #   
  P                 GLSL.std.450              
        main       .   8   A   O           
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main      	   aPositionVec4        aPositionTransp      cameraMatrix         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         PSFog            densityParams           heightPlane  	       color_and_heightRate     
       heightDensity_and_endColor   	       sunAngle_and_sunColor           heightColor_and_endFogDistance          sunPercentage        sceneWideBlockVSPS           scene           fogData            "   modelWideBlockVS      "       uPlacementMat     $         (   cameraPoint   .   vTextCoords   6   gl_PerVertex      6       gl_Position   6      gl_PointSize      6      gl_ClipDistance   6      gl_CullDistance   8         A   vPosition     O   aTexCoord   G            H         #       H        #      H        #       H        #   0   H        #   @   H            H         #       H               H           H        #   @   H              H        #      H        #      H        #      H         #       H        #      H        #       H        #   0   H        #   @   H        #   P   H        #   `   H         #       H        #      G        G     "       G     !       H  "          H  "       #       H  "             G  "      G  $   "       G  $   !      G  .         H  6              H  6            H  6            H  6            G  6      G  A          G  O              !                                           
         ;  
                    +          ?                                                                	                                                ;                       +                          "         #      "   ;  #   $        ,            -      ,   ;  -   .      +     1   <  3           +  3   4        5      4     6         5   5      7      6   ;  7   8      +     9         >            @         ;  @   A      +  3   D        E      D   +     F       ,     G   F   F   F   ,     H            +     I      ?,     J   I   I   I   ,  E   K   G   G   G   G   H   J   J   G   G   J   G   G   G   G     L      D   ,  L   M   F   F   F            F   F   F   F      F   F         N      ,   ;  N   O      6                    ;     	      ;           ;     (      =           O                        Q               Q              Q              P                    >  	      A                  =     !       A     %   $      =     &   %        '   !   &   >     '   =     )      =     *   	        +   )   *   >  (   +   =     /   	   O  ,   0   /   /            ,   2   0   1   >  .   2   A     :         9   =     ;   :   =     <   (        =   ;   <   A  >   ?   8      >  ?   =   =     B   (   O     C   B   B             >  A   C     8  #   
                  GLSL.std.450                     main              z  |                    
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         SceneExteriorLight   	        uExteriorAmbientColor           uExteriorHorizontAmbientColor    
       uExteriorGroundAmbientColor  	       uExteriorDirectColor     	       uExteriorDirectColorDir      SceneWideParams          uLookAtMat          uPMatrix            uViewUp         uInteriorSunDir         extLight         InteriorLightParam           uInteriorAmbientColorAndApplyInteriorLight          uInteriorDirectColorAndApplyExteriorLight    +    calcLight(vf3;vf3;b1;f1;struct-SceneWideParams-mf44-mf44-vf4-vf4-struct-SceneExteriorLight-vf4-vf4-vf4-vf4-vf411;struct-InteriorLightParam-vf4-vf41;vf3;vf3;vf3;         matDiffuse       vNormal      applyLight       interiorExteriorBlend        sceneParams      intLight         accumLight       precomputedLight         specular     	 $   validateFogColor(vf3;i1;      "   fogColor      #   blendMode     &   PSFog     &       densityParams     &      heightPlane  	 &      color_and_heightRate     
 &      heightDensity_and_endColor   	 &      sunAngle_and_sunColor     &      heightColor_and_endFogDistance    &      sunPercentage     -   makeFog(struct-PSFog-vf4-vf4-vf4-vf4-vf4-vf4-vf41;vf3;vf3;vf3;i1;     (   fogData   )   final     *   vertexInViewSpace     +   sunDirInViewSpace     ,   blendMode     /   localDiffuse      7   lDiffuse      :   normalizedN   E   nDotL     P   nDotUp    W   adjAmbient    ]   adjHorizAmbient   b   adjGroundAmbient      k   currColor     x   skyColor      |   groundColor      nDotL        lDiffuseInterior         interiorAmbient      gammaDiffTerm        linearDiffTerm       specTerm         emTerm       indexable        indexable        l_densityParams      l_heightPlane        l_color_and_heightRate   
    l_heightDensity_and_endColor         start        end      density     bias        vLength   	  z       expMax      expFog      expFogHeight        height    '  heightFog     -  finalFog      2  endFadeFog    :  endColor      ;  param     >  param     A  l_heightColor_and_endFogDistance      D  end2      I  end2_cube     O  heightColor   P  param     S  param     [  fogFinal      \  param     _  param     l  nDotSun   q  sunColor      s  param     v  param       tex     uTexture        vTexCoord       tex2        uTexture2       vTexCoord2      tex3        uTexture3       vTexCoord3      meshWideBlockPS         UseLitColor_EnableAlpha_PixelShader_BlendMode          FogColor_AlphaTest              uPixelShader        finalColor      matDiffuse      env     finalOpacity        vColor      vColor2   A  layer1    D  layer2    ^  colorMix      {  layer1    ~  layer2      mixFactor       t1diffuse     z  vNormal   |  vPosition     }  SceneExteriorLight   	 }      uExteriorAmbientColor     }     uExteriorHorizontAmbientColor    
 }     uExteriorGroundAmbientColor  	 }     uExteriorDirectColor     	 }     uExteriorDirectColorDir   ~  SceneWideParams   ~      uLookAtMat    ~     uPMatrix      ~     uViewUp   ~     uInteriorSunDir   ~     extLight        PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       sceneWideBlockVSPS          scene          fogData             InteriorLightParam          uInteriorAmbientColorAndApplyInteriorLight         uInteriorDirectColorAndApplyExteriorLight       modelWideBlockPS            intLight                param       param       param       param       param       param       param       PSFog           densityParams          heightPlane  	      color_and_heightRate     
      heightDensity_and_endColor   	      sunAngle_and_sunColor          heightColor_and_endFogDistance         sunPercentage       arg     param       param       param       param       outputColor G        G        G        G    "      G    !      G           G    "      G    !      G          G    "      G    !      G          H        #       H       #      G       G    "       G    !      G          G          G  z        G  |        H  }      #       H  }     #      H  }     #       H  }     #   0   H  }     #   @   H  ~         H  ~      #       H  ~            H  ~        H  ~     #   @   H  ~           H  ~     #      H  ~     #      H  ~     #      H        #       H       #      H       #       H       #   0   H       #   @   H       #   P   H       #   `   H        #       H       #      G       G    "       G    !       H        #       H       #      H        #       G       G    "       G    !      G                !                                          	      
      	                                                                                                                !              
                                              !  !              	 &                        !  '      &                +     8       ,     9   8   8   8   +     =        >           +  >   ?      +     G         H         +     N     ?+     R      +     X       +     z   ?+     ~   333?+           +           ?+  >                    ,        N   N   N   ,                 ,        9   9   9   9            9   9      9   9   9   9                          ,        8   8   8   N   N   N   8   8   8   8   N   8   8   N               +           +  >          +  >         +  >         +     3  n?+     B     +     y      	                                             ;                              ;         ;          ;         ;          ;                                      ;                    +        ?,       8   8   8   N   +                  ;         ;         +          @           +     Z     +     w     +       	   +       
   +          +          +     +     +     9     +     F     +     S     +     `     +     m        y        ;  y  z     )  	   {  ;    |       }                   ~              }   	                            ~              ;                                   ;                 ~                                                        	                                &                         ;         6                    ;  H        ;  H        ;  H        ;           ;  H        ;          ;          ;          ;     A     ;     D     ;  H   ^     ;     {     ;     ~     ;          ;          ;          ;          ;  
        ;          ;          ;          ;          ;         ;          ;          ;          ;           =        =        W           >      =        =        W           >      =        =        W           >      A        X      =           	       =                       A         ?   =                      	       8                                     A        X      =         >      >      >    9   >    9   >    8   =           	                             =         O                     =         O                                =         O                     =         O                                           >      A         ?   =         >              =           	       X                       =         O                     =         O                                           >      A        ?   =         >              =           	       =                       =         O                     =         O                                           >      A        ?   =         >              =           	       R                       =          O                       =         O                                           >      A        ?   =         >              =     	      	   
  	               
          =         O                     =         O                                           >      =         O                     A         ?   =                    >      A        ?   =         >              =           	       G                 '      =         O                      =     !    O     "  !  !                 #  "         $     #  >    $  A    %    ?   =     &  %  >    &        '  =     (      	   )  (  B    +        )  *  <    *  =     ,    O     -  ,  ,            =     .    O     /  .  .                 0  /         1  -  0  >    1  =     2    O     3  2  2            A     4    ?   =     5  4       6  3  5  =     7    O     8  7  7                 9  6  8  >    9  A    :    ?   =     ;  :  >    ;    +    <  =     =      	   >  =  y    @        >  ?  X    ?  =     B    O     C  B  B            >  A  C  =     E  A  =     F    O     G  F  F            A     H    ?   =     I  H  P     J  I  I  I       K     .   E  G  J  >  D  K  =     L    O     M  L  L                 N  M    =     O  D  =     P  A  A    Q    ?   =     R  Q  P     S  R  R  R       T     .   O  P  S       U  N  T  >    U  A    V    ?   =     W  V  >    W    @    X  =     Y      	   [  Y  Z    ]        [  \  u    \  =     _    =     `    A    a    ?   =     b  a  P     c  b  b  b  b       d     .   _  `  c  >  ^  d  =     e  ^  O     f  e  e            =     g    O     h  g  g                 i  h         j  f  i  >    j  =     k  ^  O     l  k  k            A     m  ^  ?   =     n  m       o  l  n  =     p    O     q  p  p                 r  o  q  >    r  A    s    ?   =     t  s  >    t    ]    u  =     v      	   x  v  w    z        x  y      y  =     |    O     }  |  |            >  {  }  =         O                     >  ~    =         O                                =       ~  =       {  A        ?   =         P                       .                    >      A        ?   =         >        z      =           	                             =         O                     =         O                                           >      =         O                     A         ?   =                    A        ?   =                    >      A        ?   =         >              =           	                             A         ?   =         A        ?   =                              +     8   N   >      =         O                                =         O                     =         O                                           =         O                     =         P                       .         =         O                     A         ?   =         P                       .                    >      A        ?   =         >              =           	                             =         O                     =         O                                           >      =         O                     A         ?   =                    =         O                                =         O                     A         ?   =                    A        ?   =                               >      A        ?   =         >              =           	                             =         O                                =         O                     =         O                     A        ?   =         P                       .                    >      A        ?   =         >              =           	                              =          O                       A         ?   =                N                >      =         O                                =     	    =     
    O       
  
            A        ?   =         P                       .   	                 >      =         O                     A         ?   =                    A        ?   =                N                >      A        ?   =         >              =           	                         )      =     !    O     "  !  !            =     #    O     $  #  #                 %  $         &  "  %  >    &  A    '    ?   =     (  '  >    (         )  =     *      	   ,  *  +    .        ,  -  7    -  =     /    O     0  /  /            =     1    O     2  1  1                 3  2         4  0  3  >    4  A    5    ?   =     6  5  >    6    .    7  =     8      	   :  8  9    <        :  ;  <    ;  =     =    O     >  =  =            =     ?    O     @  ?  ?                 A  @         B  >  A  >    B  A    C    ?   =     D  C  >    D    <    <    .    .                                                      z    z    ]    ]    @    @    +    +                                                  =     E      	   G  E  F    I        G  H  I    H  =     J    O     K  J  J            =     L    O     M  L  L                 N  M         O  K  N  >    O  A    P    ?   =     Q  P  >    Q    I    I  =     R      	   T  R  S    V        T  U  V    U  =     W    O     X  W  W            =     Y    O     Z  Y  Y                 [  Z         \  X  [  >    \  A    ]    ?   =     ^  ]  >    ^    V    V  =     _      	   a  _  `    c        a  b  c    b  =     d    O     e  d  d            =     f    O     g  f  f                 h  g         i  e  h  >    i  A    j    ?   =     k  j  >    k    c    c  =     l      	   n  l  m    p        n  o  p    o  =     q    O     r  q  q            =     s    O     t  s  s                 u  t         v  r  u  >    v  A    w    ?   =     x  w  >    x    p    p  =         O                     =         >      =       z  >      >    {  A      |  ?   =         >      A        X   =  ~      Q             A        X   >      Q            A        =   >      Q            A  H       R   >      Q            A  H          >      Q  }         A        G   Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      Q            A  H          >      Q            A  H       G   >      A        X   =        Q             A  H       X   >      Q            A  H       =   >      >    9   9                          9   =         Q             Q            Q            P               >      A         ?   =         A        =   ?   =           	                                   A        =   =        Q             A  H       X   >      Q            A  H       =   >      Q            A  H       R   >      Q            A  H          >      Q            A  H       G   >      Q            A  H       B  >      Q            A  H       y  >      =  &       =         O                     >      =       |  O                     >      A        X   G   G   =         O                     >      A        X   ?   =         >      9 	      -             =         O 	                      >      A         ?   >    N   =         >        8  6               7        7        7  
      7        7        7        7        7        7             ;     /      ;     7      ;     :      ;     E      ;     P      ;     W      ;     ]      ;     b      ;     k      ;     x      ;     |      ;           ;           ;           ;           ;           ;           ;           =     0      >  /   0   =  	   1        	   2   1     4         2   3   4     3   =     5        5     4   >  7   9   =     ;           <      E   ;   >  :   <   A     @      =   ?   =     A   @     	   B   A   8     D         B   C   D     C   =     F   :   A  H   I      G   G   =     J   I   O     K   J   J                  L   K        M   F   L        O      +   M   8   N   >  E   O   =     Q   :   A  H   S      R   =     T   S   O     U   T   T                  V   Q   U   >  P   V   A  H   Y      G   X   =     Z   Y   O     [   Z   Z                  \   [      >  W   \   A  H   ^      G   =   =     _   ^   O     `   _   _                  a   `      >  ]   a   A  H   c      G   R   =     d   c   O     e   d   d                  f   e      >  b   f   =     g   P     	   h   g   8     j         h   i   q     i   =     l   ]   =     m   W   =     n   P   P     o   n   n   n        p      .   l   m   o   >  k   p     j     q   =     r   ]   =     s   b   =     t   P        u   t   P     v   u   u   u        w      .   r   s   v   >  k   w     j     j   =     y   k        {   y   z   >  x   {   =     }   k           }   ~   >  |      A  H         G      =           O                        =        E                 >  7      =        |   =        x   =        E                               P                            .            >  k        D     D   A           X   ?   =             	         8                            =        :   A  H            =           O                                                            +      8   N   >        A  H         =   =           O                        =                         >        A  H         X   =           O                                      >        A           =   ?   =             	         8                            =           =        7   =           P                            .            >  7      =           =        k   =           P                            .            >  k                =           >  7      =           >  k                          =           =        k   =        7                               >        =           =                         =        /                 >        >        >     9   =           =                         =                                          =                         =                              8  6     $       !   7     "   7      #     %   ;           ;           =        "   =        #   >        A              =           =        #   >        A              =           P                            .                 8  6     -       '   7  &   (   7     )   7     *   7     +   7      ,     .   ;  H         ;  H         ;  H         ;  H         ;           ;           ;           ;          ;          ;     	     ;          ;          ;          ;          ;     '     ;     -     ;     2     ;     :     ;     ;     ;      >     ;  H   A     ;     D     ;     I     ;     O     ;     P     ;      S     ;     [     ;     \     ;      _     ;     l     ;     q     ;     s     ;      v     =        ,     	                                     =        )             Q        (       >        Q        (      >        Q        (      >        Q        (      >        A              =           >        A              =           >        A             =         >       A          ?   =         >      =       *             B     >      =     
    =                
    >  	    =       	  =                               (   8     >      =         =                                           N     >      =         A             =                                          N     >      =           O     !                  =     "  *        #  !  "  A     $     ?   =     %  $       &  #  %  >    &  =     (    A     )     ?   =     *  )       +  (  *       ,     +   +  8   N   >  '  ,  =     .    =     /    =     0  '       1     .   .  /  0  >  -  1  =     4    =     5          6  4  5       7  N   6       8  3  7       9     +   8  8   N   >  2  9  =     <     O     =  <  <           >  ;  =  =     ?  ,   >  >  ?  9     @  $   ;  >  >  :  @  Q     C  (      >  A  C  =     E    A     F  A  ?   =     G  F       H  E  G  >  D  H  =     J  D  =     K  D  =     L  D       M  K  L       N  J  M  >  I  N  =     Q  A  O     R  Q  Q            >  P  R  =     T  ,   >  S  T  9     U  $   P  S  =     V  :  =     W  D       X     +   W  8   N   P     Y  X  X  X       Z     .   U  V  Y  >  O  Z  =     ]     O     ^  ]  ]            >  \  ^  =     `  ,   >  _  `  9     a  $   \  _  =     b  :  =     c  I       d     +   c  8   N   P     e  d  d  d       f     .   a  b  e  >  [  f  =     g  [  =     h  O  =     i  '  P     j  i  i  i       k     .   g  h  j  >  [  k  =     m  *        n     E   m  =     o  +        p  n  o  >  l  p  =     r  [  Q     t  (      O     u  t  t           >  s  u  =     w  ,   >  v  w  9     x  $   s  v  Q     z  (          P     {  z  z  z       |     .   r  x  {  >  q  |  =     }  l  Q     ~  (                 }  ~            +     8   N   >  l    =       l    	       8                       =       l  =       l             =       l             >  l    =       [  =       q  =       l  P                       .         >  [            =       [  =       )   =       -  =       2            %       P                       .         >  [    =       [      8  #   
  7                GLSL.std.450                      main    b                                                     
 GL_GOOGLE_cpp_style_line_directive    GL_GOOGLE_include_directive      main         posToTexCoord(vf3;vf3;       cameraPoint      normal       blizzTranspose(mf44;         value        normPos_495      temp_500      $   temp_657      Z   worldPoint    [   modelWideBlockVS      [       uPlacementMat     ]         b   aPosition     i   cameraPoint   j   SceneExteriorLight   	 j       uExteriorAmbientColor     j      uExteriorHorizontAmbientColor    
 j      uExteriorGroundAmbientColor  	 j      uExteriorDirectColor     	 j      uExteriorDirectColorDir   k   SceneWideParams   k       uLookAtMat    k      uPMatrix      k      uViewUp   k      uInteriorSunDir   k      extLight      l   PSFog     l       densityParams     l      heightPlane  	 l      color_and_heightRate     
 l      heightDensity_and_endColor   	 l      sunAngle_and_sunColor     l      heightColor_and_endFogDistance    l      sunPercentage     m   sceneWideBlockVSPS    m       scene     m      fogData   o         t   viewModelMat      {   viewModelMatTransposed    |   param        param        gl_PerVertex             gl_Position         gl_PointSize            gl_ClipDistance         gl_CullDistance               vPosition        aColor       vNormal      aNormal      vColor       vColor2      aColor2      uVertexShader        meshWideBlockVS  
        VertexShader_UseLitColor                  vTexCoord        aTexCoord        vTexCoord2       aTexCoord2       vTexCoord3       aTexCoord3       param        param   H  [          H  [       #       H  [             G  [      G  ]   "       G  ]   !      G  b          H  j       #       H  j      #      H  j      #       H  j      #   0   H  j      #   @   H  k          H  k       #       H  k             H  k         H  k      #   @   H  k            H  k      #      H  k      #      H  k      #      H  l       #       H  l      #      H  l      #       H  l      #   0   H  l      #   @   H  l      #   P   H  l      #   `   H  m       #       H  m      #      G  m      G  o   "       G  o   !       H                H              H              H              G        G           G           G           G           G           G           G           H         #       G        G     "       G     !      G            G           G           G           G           G                !                                          	         !  
   	                                                      !           +           @  %           +  %   &          '         +  %   *      +  %   -      +     0     ?+     6      ?,  	   8   6   6     <          +  <   =          >         +  <   B      +  <   F      +     J         [         \      [   ;  \   ]         ^            a         ;  a   b        j                    k               j    	 l                          m   k   l      n      m   ;  n   o         z                 *                                ;                       ;                       ;           +  %                                 ;           ;  a         ;           +        >,        6      6   0   ;           ;                    <        <                          ;                    <   +  <                    	   ;                    	   ;           ;           ;           ;           ;           +  <         +  <         +  <        +  <        +       u+  <        +  <   &     +  %   /       0     /  ,     1  J   J   J   ,     2  0   0   0   ,     3  6   6   6   ,  0  4  1  1  1  1  2  3  3  1  1  3  1  1  1  1    5     /  ,  5  6  J   J   J   0   0   0   J   J   J   J   0   J   J   0   6                    ;  >   Z      ;  >   i      ;     t      ;  z   {      ;     |      ;           ;           ;           ;           A  ^   _   ]   =   =     `   _   =     c   b   Q     d   c       Q     e   c      Q     f   c      P     g   d   e   f   0        h   `   g   >  Z   h   A  ^   p   o   =   =   =     q   p   =     r   Z        s   q   r   >  i   s   A  ^   u   o   =   =   =     v   u   A  ^   w   ]   =   =     x   w        y   v   x   >  t   y   A  ^   }   o   =   =   =     ~   }   >  |   ~   9           |   A  ^      ]   =   =           >        9                            >  {      A  ^      o   =   B   =           =        i                 A           =   >        =        i   O                        A              =           Q               Q              Q              P                    >        =        {   =                                    E      >        >        =           O                                      A              =           Q               Q              Q              P                    >        A           =   &   =  <         >        =  <                                                =  	         >        =  	         >        =  	         >                  =  <                    =                            =  	         >        =  	         >        =  	         >                  =  <                    B                            =  	         >        =        i   O                                   E      =                      G         O  	                   >        =  	         >                  =  <                    F                            =  	         >        =           O                        >        =           >        9  	               >        =  	         >                  =  <                                                =  	         >        =  	         >        =  	         >                  =  <                                                =  	         >        =  	         >        =  	         >                  =  <                                         =  	        >       =  	        >       =       i   O                          	     E     =     
               G   	  
  O  	                >               =  <                                       =  	        >       =          O  	                  	         >       =  	        >               =  <                                 $      =  	        >       =           O  	   !                 	   "  !    >     "  =  	   #     >     #        $  =  <   %          '  %  &    )        '  (  )    (  =  	   *     >     *  =     +     O  	   ,  +  +           	   -  ,    >     -  =  	   .     >     .    )    )                                                                                        8  6  	          
   7        7             ;           ;           ;     $      =                      E      >        =           =           =           =                               !               "      !        #      "   >     #   A  '   (      &   =     )   (   A  '   +      *   =     ,   +   A  '   .      -   =     /   .        1   /   0   P     2   )   ,   1   >  $   2   =     3   $        4      E   3   O  	   5   4   4            	   7   5   6     	   9   7   8     9   8  6               7             A  >   ?      =   =     @   ?   O     A   @   @             A  >   C      B   =     D   C   O     E   D   D             A  >   G      F   =     H   G   O     I   H   H             Q     K   A       Q     L   A      Q     M   A      Q     N   E       Q     O   E      Q     P   E      Q     Q   I       Q     R   I      Q     S   I      P     T   K   L   M   P     U   N   O   P   P     V   Q   R   S   P     W   T   U   V     W   8  